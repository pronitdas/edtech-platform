{"version":3,"file":"WordProblem.stories-CTxY08oI.js","sources":["../../src/components/interactive/slope/components/WordProblem.tsx","../../src/components/interactive/slope/stories/WordProblem.stories.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useCallback } from 'react'\nimport { OpenAIClient } from '@/services/openAi'\n\nexport interface WordProblemProps {\n  lineData?: {\n    slope: number | null\n    yIntercept: number | null\n    equation: string\n    point1: { x: number; y: number }\n    point2: { x: number; y: number }\n    rise: number\n    run: number\n  } | null\n  onPointsChange: (points: Array<{ x: number; y: number }>) => void\n  openaiClient?: OpenAIClient\n  language?: string\n  difficulty?: 'easy' | 'medium' | 'hard'\n}\n\ninterface WordProblemData {\n  question: string\n  context: string\n  hints: string[]\n  expectedSlope?: number | null\n  expectedIntercept?: number | null\n  solution?: string\n  explanation?: string\n}\n\nconst WordProblem: React.FC<WordProblemProps> = ({\n  lineData,\n  onPointsChange,\n  openaiClient,\n  language = 'en',\n  difficulty = 'medium',\n}) => {\n  // State\n  const [problem, setProblem] = useState<WordProblemData | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [feedback, setFeedback] = useState<string>('')\n  const [showSolution, setShowSolution] = useState(false)\n  const [hasSubmitted, setHasSubmitted] = useState(false)\n\n  // Generate a new word problem\n  const generateProblem = useCallback(async () => {\n    if (!openaiClient) {\n      setFeedback('AI client is required for word problems.')\n      return\n    }\n\n    setIsLoading(true)\n    setHasSubmitted(false)\n    setShowSolution(false)\n    setFeedback('')\n\n    try {\n      const prompt = `Generate a real-world slope word problem at ${difficulty} difficulty level.\n      The problem should involve finding a slope in a practical context.\n      \n      Return a JSON object with:\n      - question: The word problem text\n      - context: Real-world context/scenario explanation\n      - hints: Array of helpful hints\n      - expectedSlope: The correct slope value or null if undefined\n      - expectedIntercept: The correct y-intercept or null if undefined\n      - solution: Step-by-step solution\n      - explanation: Real-world interpretation of the slope\n\n      Language: ${language}`\n\n      const result = await openaiClient.chatCompletion(\n        [\n          {\n            role: 'system',\n            content: 'You are a math teacher creating engaging slope problems.',\n          },\n          { role: 'user', content: prompt },\n        ],\n        'gpt-4o-mini',\n        800\n      )\n\n      try {\n        const problemData = JSON.parse(result)\n        setProblem(problemData)\n      } catch (e) {\n        console.error('Error parsing AI response:', e)\n        setFeedback('Error generating problem. Please try again.')\n      }\n    } catch (e) {\n      console.error('Error generating problem:', e)\n      setFeedback('Error generating problem. Please try again.')\n    } finally {\n      setIsLoading(false)\n    }\n  }, [openaiClient, language, difficulty])\n\n  // Check the user's answer\n  const checkAnswer = useCallback(async () => {\n    if (!problem || !lineData || !openaiClient) return\n\n    setHasSubmitted(true)\n\n    try {\n      const prompt = `Word Problem: ${problem.question}\n      \n      User's solution:\n      - Slope: ${lineData.slope !== null ? lineData.slope.toFixed(2) : 'undefined'}\n      - Y-intercept: ${lineData.yIntercept !== null ? lineData.yIntercept.toFixed(2) : 'undefined'}\n      - Equation: ${lineData.equation}\n      - Points: (${lineData.point1.x.toFixed(1)}, ${lineData.point1.y.toFixed(1)}) and (${lineData.point2.x.toFixed(1)}, ${lineData.point2.y.toFixed(1)})\n      \n      Expected values:\n      - Expected slope: ${problem.expectedSlope !== null ? problem.expectedSlope : 'undefined'}\n      - Expected y-intercept: ${problem.expectedIntercept !== null ? problem.expectedIntercept : 'undefined'}\n      \n      Evaluate if the solution is correct and provide specific feedback about:\n      1. The mathematical accuracy\n      2. The real-world interpretation\n      3. Any suggestions for improvement`\n\n      const result = await openaiClient.chatCompletion(\n        [\n          {\n            role: 'system',\n            content:\n              'You are a helpful math tutor providing feedback on slope word problems.',\n          },\n          { role: 'user', content: prompt },\n        ],\n        'gpt-4o-mini',\n        400\n      )\n\n      setFeedback(result)\n    } catch (e) {\n      console.error('Error checking answer:', e)\n      setFeedback('Error evaluating your answer. Please try again.')\n    }\n  }, [problem, lineData, openaiClient])\n\n  return (\n    <div className='flex h-full flex-col rounded-md bg-gray-800 p-4'>\n      {/* Controls */}\n      <div className='mb-4'>\n        <button\n          onClick={generateProblem}\n          disabled={isLoading}\n          className={`w-full rounded-md px-4 py-2 text-white ${\n            isLoading\n              ? 'cursor-not-allowed bg-gray-600'\n              : 'bg-blue-600 hover:bg-blue-700'\n          }`}\n        >\n          {isLoading ? 'Generating...' : 'Generate New Problem'}\n        </button>\n      </div>\n\n      {/* Problem Display */}\n      {problem && (\n        <div className='flex flex-grow flex-col'>\n          {/* Question */}\n          <div className='mb-4 rounded-md bg-gray-900 p-4'>\n            <h3 className='mb-2 text-lg font-medium text-white'>Problem</h3>\n            <p className='mb-4 text-gray-300'>{problem.context}</p>\n            <p className='font-medium text-gray-200'>{problem.question}</p>\n\n            {!hasSubmitted && problem.hints && problem.hints.length > 0 && (\n              <div className='mt-4'>\n                <p className='mb-1 text-sm font-medium text-purple-400'>\n                  Hint:\n                </p>\n                <p className='text-sm text-gray-400'>{problem.hints[0]}</p>\n              </div>\n            )}\n          </div>\n\n          {/* User's Answer */}\n          <div className='mb-4'>\n            <h3 className='text-md mb-2 font-medium text-white'>Your Answer</h3>\n            {lineData ? (\n              <div className='rounded-md bg-gray-900 p-3'>\n                <p className='text-gray-300'>\n                  <span className='text-green-400'>Points:</span> (\n                  {lineData.point1.x.toFixed(1)}, {lineData.point1.y.toFixed(1)}\n                  ) and ({lineData.point2.x.toFixed(1)},{' '}\n                  {lineData.point2.y.toFixed(1)})\n                </p>\n                <p className='text-gray-300'>\n                  <span className='text-green-400'>Slope:</span>{' '}\n                  {lineData.slope !== null\n                    ? lineData.slope.toFixed(2)\n                    : 'Undefined'}\n                </p>\n                <p className='text-gray-300'>\n                  <span className='text-green-400'>Equation:</span>{' '}\n                  {lineData.equation}\n                </p>\n              </div>\n            ) : (\n              <div className='rounded-md bg-gray-900 p-3'>\n                <p className='italic text-gray-400'>\n                  Place two points on the graph to define your answer.\n                </p>\n              </div>\n            )}\n          </div>\n\n          {/* Action Buttons */}\n          <div className='mb-4 space-y-2'>\n            <button\n              onClick={checkAnswer}\n              disabled={!lineData}\n              className={`w-full rounded-md px-4 py-2 text-white ${\n                !lineData\n                  ? 'cursor-not-allowed bg-gray-600'\n                  : 'bg-blue-600 hover:bg-blue-700'\n              }`}\n            >\n              Check Answer\n            </button>\n\n            <button\n              onClick={() => setShowSolution(prev => !prev)}\n              className='w-full rounded-md bg-gray-700 px-4 py-2 text-white hover:bg-gray-600'\n            >\n              {showSolution ? 'Hide Solution' : 'Show Solution'}\n            </button>\n          </div>\n\n          {/* Feedback */}\n          {hasSubmitted && feedback && (\n            <div className='mb-4 rounded-md border-l-4 border-blue-500 bg-gray-900 p-4'>\n              <h3 className='text-md mb-2 font-medium text-white'>Feedback</h3>\n              <p className='whitespace-pre-line text-gray-300'>{feedback}</p>\n            </div>\n          )}\n\n          {/* Solution */}\n          {showSolution && problem.solution && (\n            <div className='rounded-md border-l-4 border-green-500 bg-gray-900 p-4'>\n              <h3 className='text-md mb-2 font-medium text-white'>Solution</h3>\n              <div className='space-y-4 text-gray-300'>\n                <p className='whitespace-pre-line'>{problem.solution}</p>\n                {problem.explanation && (\n                  <div className='mt-4 border-t border-gray-700 pt-4'>\n                    <p className='mb-2 font-medium text-purple-400'>\n                      Real-world Interpretation:\n                    </p>\n                    <p className='text-gray-300'>{problem.explanation}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default WordProblem\n","import type { Meta, StoryObj } from '@storybook/react'\nimport WordProblem from '../components/WordProblem'\nimport { OpenAIClient } from '@/services/openAI'\n\nconst meta = {\n  title: 'Slope/WordProblem',\n  component: WordProblem,\n  parameters: {\n    layout: 'centered',\n  },\n  tags: ['autodocs'],\n  decorators: [\n    Story => (\n      <div\n        style={{\n          width: '400px',\n          height: '600px',\n          background: '#1f2937',\n          borderRadius: '8px',\n          overflow: 'hidden',\n        }}\n      >\n        <Story />\n      </div>\n    ),\n  ],\n} satisfies Meta<typeof WordProblem>\n\nexport default meta\ntype Story = StoryObj<typeof meta>\n\n// Mock OpenAI client for storybook\nconst createMockOpenAIClient = (): OpenAIClient => ({\n  chatCompletion: async (messages, _model, _maxTokens) => {\n    return JSON.stringify({\n      question: 'A construction crew is building a wheelchair ramp that rises 6 inches over a horizontal distance of 24 inches. What is the slope of the ramp?',\n      context: 'This construction scenario involves calculating the slope for a wheelchair ramp, ensuring accessibility standards are met.',\n      hints: [\n        'Remember: slope = rise / run',\n        'Rise is the vertical change (6 inches)',\n        'Run is the horizontal change (24 inches)',\n      ],\n      expectedSlope: 0.25,\n      expectedIntercept: null,\n      solution: 'slope = rise / run = 6 / 24 = 0.25',\n      explanation: 'The ramp has a gentle slope of 0.25, which means for every 4 inches of horizontal distance, the ramp rises 1 inch. This meets accessibility guidelines for wheelchair ramps.',\n    })\n  },\n})\n\n// Sample line data for showing user's answer\nconst sampleLineData = {\n  slope: 0.25,\n  yIntercept: 0,\n  equation: 'y = 0.25x',\n  point1: { x: 0, y: 0 },\n  point2: { x: 24, y: 6 },\n  rise: 6,\n  run: 24,\n}\n\nexport const Default: Story = {\n  args: {\n    lineData: sampleLineData,\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'easy',\n  },\n}\n\nexport const Loading: Story = {\n  args: {\n    lineData: null,\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'easy',\n  },\n  decorators: [\n    Story => {\n      // Simulate loading state by overriding the component state\n      return (\n        <div\n          style={{\n            width: '400px',\n            height: '600px',\n            background: '#1f2937',\n            borderRadius: '8px',\n            padding: '16px',\n          }}\n        >\n          <div className='flex h-full flex-col rounded-md bg-gray-800 p-4'>\n            {/* Controls */}\n            <div className='mb-4'>\n              <button\n                disabled\n                className='w-full rounded-md px-4 py-2 text-white bg-gray-600 cursor-not-allowed'\n              >\n                Generating...\n              </button>\n            </div>\n            {/* Loading skeleton */}\n            <div className='flex flex-grow animate-pulse flex-col'>\n              <div className='mb-4 rounded-md bg-gray-900 p-4'>\n                <div className='h-4 bg-gray-700 rounded w-3/4 mb-2'></div>\n                <div className='h-3 bg-gray-700 rounded w-full mb-2'></div>\n                <div className='h-3 bg-gray-700 rounded w-5/6'></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )\n    },\n  ],\n}\n\nexport const WithGeneratedProblem: Story = {\n  args: {\n    lineData: sampleLineData,\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'medium',\n  },\n  play: async ({ canvasElement }) => {\n    // Simulate a generated problem by directly setting state\n    // In real storybook, this would require a more sophisticated approach\n    const generateButton = canvasElement.querySelector('button')\n    if (generateButton) {\n      generateButton.click()\n    }\n  },\n}\n\nexport const WithIncorrectAnswer: Story = {\n  args: {\n    lineData: {\n      slope: 0.5,\n      yIntercept: 0,\n      equation: 'y = 0.5x',\n      point1: { x: 0, y: 0 },\n      point2: { x: 12, y: 6 },\n      rise: 6,\n      run: 12,\n    },\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'easy',\n  },\n}\n\nexport const WithCorrectAnswer: Story = {\n  args: {\n    lineData: sampleLineData,\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'easy',\n  },\n}\n\nexport const NoAI: Story = {\n  args: {\n    lineData: sampleLineData,\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: undefined, // No AI client - will use template-based generation\n    language: 'en',\n    difficulty: 'easy',\n  },\n}\n\nexport const HardDifficulty: Story = {\n  args: {\n    lineData: {\n      slope: 1.5,\n      yIntercept: 2,\n      equation: 'y = 1.5x + 2',\n      point1: { x: 0, y: 2 },\n      point2: { x: 4, y: 8 },\n      rise: 6,\n      run: 4,\n    },\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'hard',\n  },\n}\n\nexport const NoPointsPlaced: Story = {\n  args: {\n    lineData: null,\n    onPointsChange: points => console.log('Points changed:', points),\n    openaiClient: createMockOpenAIClient(),\n    language: 'en',\n    difficulty: 'medium',\n  },\n}\n"],"names":["cov_17tqreq4e4","actualCoverage","jsxs","WordProblem","lineData","onPointsChange","openaiClient","language","difficulty","b","setProblem","isLoading","setIsLoading","useState","feedback","setFeedback","showSolution","setShowSolution","s","hasSubmitted","setHasSubmitted","generateProblem","useCallback","result","content","role","prompt","problemData","console","e","problem","equation","point1","toFixed","expectedIntercept","children","className","jsx","onClick","disabled","checkAnswer","prev","meta","title","component","parameters","layout","tags","decorators","Story","width","height","background","borderRadius","overflow","createMockOpenAIClient","chatCompletion","messages","_model","_maxTokens","JSON","stringify","question","context","hints","expectedSlope","solution","explanation","sampleLineData","slope","yIntercept","x","y","point2","rise","run","Default","args","points","log","Loading","padding","WithGeneratedProblem","play","canvasElement","generateButton","querySelector","click","WithIncorrectAnswer","WithCorrectAnswer","NoAI","undefined","HardDifficulty","NoPointsPlaced","docs","source","originalSource"],"mappings":"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"}