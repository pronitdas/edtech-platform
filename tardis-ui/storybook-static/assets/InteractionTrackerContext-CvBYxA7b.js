import{c as z}from"./createLucideIcon-BhHhnBlm.js";import{r as d,j as L}from"./iframe-Baxcka9q.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],en=z("send",$);function e(){var t="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/auth.ts",i="ac6b61022fd8865291506cab4c4e8a29b31e5674",s=globalThis,l="__coverage__",C={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/auth.ts",statementMap:{0:{start:{line:2,column:12},end:{line:2,column:76}},1:{start:{line:4,column:21},end:{line:10,column:6}},2:{start:{line:11,column:4},end:{line:14,column:5}},3:{start:{line:12,column:20},end:{line:12,column:41}},4:{start:{line:13,column:6},end:{line:13,column:48}},5:{start:{line:15,column:17},end:{line:15,column:38}},6:{start:{line:16,column:4},end:{line:16,column:58}},7:{start:{line:17,column:4},end:{line:26,column:6}},8:{start:{line:29,column:28},end:{line:33,column:5}},9:{start:{line:34,column:21},end:{line:40,column:6}},10:{start:{line:41,column:4},end:{line:44,column:5}},11:{start:{line:42,column:20},end:{line:42,column:41}},12:{start:{line:43,column:6},end:{line:43,column:55}},13:{start:{line:45,column:19},end:{line:45,column:40}},14:{start:{line:46,column:4},end:{line:46,column:60}},15:{start:{line:47,column:4},end:{line:56,column:6}},16:{start:{line:59,column:4},end:{line:59,column:42}},17:{start:{line:62,column:18},end:{line:62,column:52}},18:{start:{line:63,column:4},end:{line:65,column:5}},19:{start:{line:64,column:6},end:{line:64,column:39}},20:{start:{line:66,column:21},end:{line:70,column:6}},21:{start:{line:71,column:4},end:{line:73,column:5}},22:{start:{line:72,column:6},end:{line:72,column:52}},23:{start:{line:74,column:17},end:{line:74,column:38}},24:{start:{line:75,column:15},end:{line:75,column:24}},25:{start:{line:76,column:4},end:{line:85,column:5}},26:{start:{line:77,column:6},end:{line:84,column:7}},27:{start:{line:78,column:27},end:{line:78,column:95}},28:{start:{line:79,column:8},end:{line:81,column:9}},29:{start:{line:80,column:10},end:{line:80,column:31}},30:{start:{line:83,column:8},end:{line:83,column:59}},31:{start:{line:86,column:4},end:{line:94,column:6}},32:{start:{line:97,column:4},end:{line:97,column:48}},33:{start:{line:100,column:27},end:{line:100,column:44}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:2},end:{line:3,column:3}},loc:{start:{line:3,column:27},end:{line:27,column:3}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:28,column:2},end:{line:28,column:3}},loc:{start:{line:28,column:23},end:{line:57,column:3}},line:28},2:{name:"(anonymous_2)",decl:{start:{line:58,column:2},end:{line:58,column:3}},loc:{start:{line:58,column:17},end:{line:60,column:3}},line:58},3:{name:"(anonymous_3)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:25},end:{line:95,column:3}},line:61},4:{name:"(anonymous_4)",decl:{start:{line:96,column:2},end:{line:96,column:3}},loc:{start:{line:96,column:20},end:{line:98,column:3}},line:96}},branchMap:{0:{loc:{start:{line:2,column:12},end:{line:2,column:76}},type:"binary-expr",locations:[{start:{line:2,column:12},end:{line:2,column:21}},{start:{line:2,column:53},end:{line:2,column:76}}],line:2},1:{loc:{start:{line:11,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:11,column:4},end:{line:14,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:11},2:{loc:{start:{line:20,column:12},end:{line:20,column:57}},type:"binary-expr",locations:[{start:{line:20,column:12},end:{line:20,column:29}},{start:{line:20,column:33},end:{line:20,column:57}}],line:20},3:{loc:{start:{line:32,column:20},end:{line:32,column:57}},type:"binary-expr",locations:[{start:{line:32,column:20},end:{line:32,column:29}},{start:{line:32,column:33},end:{line:32,column:57}}],line:32},4:{loc:{start:{line:41,column:4},end:{line:44,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:44,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:41},5:{loc:{start:{line:63,column:4},end:{line:65,column:5}},type:"if",locations:[{start:{line:63,column:4},end:{line:65,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:63},6:{loc:{start:{line:71,column:4},end:{line:73,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:73,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},7:{loc:{start:{line:76,column:4},end:{line:85,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:85,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76},8:{loc:{start:{line:78,column:27},end:{line:78,column:95}},type:"cond-expr",locations:[{start:{line:78,column:60},end:{line:78,column:82}},{start:{line:78,column:85},end:{line:78,column:95}}],line:78},9:{loc:{start:{line:79,column:8},end:{line:81,column:9}},type:"if",locations:[{start:{line:79,column:8},end:{line:81,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:79},10:{loc:{start:{line:89,column:12},end:{line:89,column:57}},type:"binary-expr",locations:[{start:{line:89,column:12},end:{line:89,column:29}},{start:{line:89,column:33},end:{line:89,column:57}}],line:89}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/auth.ts"],names:[],mappings:"AAiBO,aAAM,YAAY;AAAA,EACf,UAAU,yBAAgB,gBAAgB;AAAA,EAElD,MAAM,MAAM,aAA8C;AAExD,UAAM,WAAW,MAAM,MAAM,GAAG,KAAK,OAAO,kBAAkB;AAAA,MAC5D,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU,WAAW;AAAA,IAClC,CAAC;AAED,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,QAAQ,MAAM,SAAS,KAAK;AAClC,YAAM,IAAI,MAAM,iBAAiB,KAAK,EAAE;AAAA,IAC1C;AAEA,UAAM,OAAO,MAAM,SAAS,KAAK;AACjC,iBAAa,QAAQ,cAAc,KAAK,YAAY;AAGpD,WAAO;AAAA,MACL,IAAI,KAAK;AAAA,MACT,OAAO,KAAK;AAAA,MACZ,MAAM,KAAK,gBAAgB,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;AAAA,MAClD,aAAY,oBAAI,KAAK,GAAE,YAAY;AAAA,MACnC,MAAM;AAAA;AAAA,MACN,sBAAsB;AAAA;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,MAAM,SAAS,MAAmC;AAEhD,UAAM,kBAAkB;AAAA,MACtB,OAAO,KAAK;AAAA,MACZ,UAAU,KAAK;AAAA,MACf,cAAc,KAAK,QAAQ,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;AAAA,IACpD;AAEA,UAAM,WAAW,MAAM,MAAM,GAAG,KAAK,OAAO,qBAAqB;AAAA,MAC/D,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU,eAAe;AAAA,IACtC,CAAC;AAED,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,QAAQ,MAAM,SAAS,KAAK;AAClC,YAAM,IAAI,MAAM,wBAAwB,KAAK,EAAE;AAAA,IACjD;AAEA,UAAM,SAAS,MAAM,SAAS,KAAK;AACnC,iBAAa,QAAQ,cAAc,OAAO,YAAY;AAGtD,WAAO;AAAA,MACL,IAAI,OAAO;AAAA,MACX,OAAO,OAAO;AAAA,MACd,MAAM,gBAAgB;AAAA,MACtB,aAAY,oBAAI,KAAK,GAAE,YAAY;AAAA,MACnC,MAAM;AAAA;AAAA,MACN,sBAAsB;AAAA;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,MAAM,SAAwB;AAC5B,iBAAa,WAAW,YAAY;AAAA,EAEtC;AAAA,EAEA,MAAM,iBAAgC;AACpC,UAAM,QAAQ,aAAa,QAAQ,YAAY;AAC/C,QAAI,CAAC,OAAO;AACV,YAAM,IAAI,MAAM,eAAe;AAAA,IACjC;AAEA,UAAM,WAAW,MAAM,MAAM,GAAG,KAAK,OAAO,YAAY;AAAA,MACtD,SAAS;AAAA,QACP,iBAAiB,UAAU,KAAK;AAAA,MAClC;AAAA,IACF,CAAC;AAED,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,MAAM,4BAA4B;AAAA,IAC9C;AAEA,UAAM,OAAO,MAAM,SAAS,KAAK;AAGjC,QAAI,OAAO;AACX,QAAI,KAAK,OAAO;AACd,UAAI;AACF,cAAM,aAAa,OAAO,KAAK,UAAU,WAAW,KAAK,MAAM,KAAK,KAAK,IAAI,KAAK;AAClF,YAAI,WAAW,SAAS,GAAG;AACzB,iBAAO,WAAW,CAAC;AAAA,QACrB;AAAA,MACF,SAAS,GAAG;AACV,gBAAQ,KAAK,0BAA0B,KAAK,KAAK;AAAA,MACnD;AAAA,IACF;AAEA,WAAO;AAAA,MACL,IAAI,KAAK;AAAA,MACT,OAAO,KAAK;AAAA,MACZ,MAAM,KAAK,gBAAgB,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;AAAA,MAClD,YAAY,KAAK;AAAA,MACjB;AAAA,MACA,sBAAsB;AAAA;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,kBAA2B;AACzB,WAAO,CAAC,CAAC,aAAa,QAAQ,YAAY;AAAA,EAC5C;AACF;AAEO,aAAM,cAAc,IAAI,YAAY;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ac6b61022fd8865291506cab4c4e8a29b31e5674"},r=s[l]||(s[l]={});(!r[t]||r[t].hash!==i)&&(r[t]=C);var c=r[t];return e=function(){return c},c}e();class H{baseUrl=(e().s[0]++,e().b[0][0]++,void 0||(e().b[0][1]++,"http://localhost:8000"));async login(i){e().f[0]++;const s=(e().s[1]++,await fetch(`${this.baseUrl}/v2/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}));if(e().s[2]++,s.ok)e().b[1][1]++;else{e().b[1][0]++;const C=(e().s[3]++,await s.text());throw e().s[4]++,new Error(`Login failed: ${C}`)}const l=(e().s[5]++,await s.json());return e().s[6]++,localStorage.setItem("auth_token",l.access_token),e().s[7]++,{id:l.user_id,email:l.email,name:(e().b[2][0]++,l.display_name||(e().b[2][1]++,l.email.split("@")[0])),created_at:new Date().toISOString(),role:"student",onboarding_completed:!0}}async register(i){e().f[1]++;const s=(e().s[8]++,{email:i.email,password:i.password,display_name:(e().b[3][0]++,i.name||(e().b[3][1]++,i.email.split("@")[0]))}),l=(e().s[9]++,await fetch(`${this.baseUrl}/v2/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}));if(e().s[10]++,l.ok)e().b[4][1]++;else{e().b[4][0]++;const r=(e().s[11]++,await l.text());throw e().s[12]++,new Error(`Registration failed: ${r}`)}const C=(e().s[13]++,await l.json());return e().s[14]++,localStorage.setItem("auth_token",C.access_token),e().s[15]++,{id:C.user_id,email:C.email,name:s.display_name,created_at:new Date().toISOString(),role:"student",onboarding_completed:!0}}async logout(){e().f[2]++,e().s[16]++,localStorage.removeItem("auth_token")}async getCurrentUser(){e().f[3]++;const i=(e().s[17]++,localStorage.getItem("auth_token"));if(e().s[18]++,i)e().b[5][1]++;else throw e().b[5][0]++,e().s[19]++,new Error("No auth token");const s=(e().s[20]++,await fetch(`${this.baseUrl}/auth/me`,{headers:{Authorization:`Bearer ${i}`}}));if(e().s[21]++,s.ok)e().b[6][1]++;else throw e().b[6][0]++,e().s[22]++,new Error("Failed to get user profile");const l=(e().s[23]++,await s.json());let C=(e().s[24]++,"student");if(e().s[25]++,l.roles){e().b[7][0]++,e().s[26]++;try{const r=(e().s[27]++,typeof l.roles=="string"?(e().b[8][0]++,JSON.parse(l.roles)):(e().b[8][1]++,l.roles));e().s[28]++,r.length>0?(e().b[9][0]++,e().s[29]++,C=r[0]):e().b[9][1]++}catch{e().s[30]++,console.warn("Failed to parse roles:",l.roles)}}else e().b[7][1]++;return e().s[31]++,{id:l.id,email:l.email,name:(e().b[10][0]++,l.display_name||(e().b[10][1]++,l.email.split("@")[0])),created_at:l.created_at,role:C,onboarding_completed:!0}}isAuthenticated(){return e().f[4]++,e().s[32]++,!!localStorage.getItem("auth_token")}}const g=(e().s[33]++,new H);function u(){var t="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/hooks/useAuth.ts",i="bdf1b114cb7c025fce66951870fbc2d2a1bc8e4f",s=globalThis,l="__coverage__",C={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/hooks/useAuth.ts",statementMap:{0:{start:{line:3,column:21},end:{line:49,column:1}},1:{start:{line:4,column:26},end:{line:4,column:40}},2:{start:{line:5,column:32},end:{line:5,column:46}},3:{start:{line:6,column:2},end:{line:21,column:9}},4:{start:{line:7,column:21},end:{line:19,column:5}},5:{start:{line:8,column:6},end:{line:18,column:7}},6:{start:{line:9,column:8},end:{line:12,column:9}},7:{start:{line:10,column:30},end:{line:10,column:64}},8:{start:{line:11,column:10},end:{line:11,column:31}},9:{start:{line:14,column:8},end:{line:14,column:53}},10:{start:{line:15,column:8},end:{line:15,column:46}},11:{start:{line:17,column:8},end:{line:17,column:26}},12:{start:{line:20,column:4},end:{line:20,column:15}},13:{start:{line:22,column:16},end:{line:26,column:3}},14:{start:{line:23,column:18},end:{line:23,column:62}},15:{start:{line:24,column:4},end:{line:24,column:19}},16:{start:{line:25,column:4},end:{line:25,column:17}},17:{start:{line:27,column:19},end:{line:36,column:3}},18:{start:{line:28,column:25},end:{line:32,column:5}},19:{start:{line:33,column:18},end:{line:33,column:58}},20:{start:{line:34,column:4},end:{line:34,column:19}},21:{start:{line:35,column:4},end:{line:35,column:17}},22:{start:{line:37,column:17},end:{line:40,column:3}},23:{start:{line:38,column:4},end:{line:38,column:31}},24:{start:{line:39,column:4},end:{line:39,column:18}},25:{start:{line:41,column:2},end:{line:48,column:4}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:21},end:{line:3,column:22}},loc:{start:{line:3,column:27},end:{line:49,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:6,column:12},end:{line:6,column:13}},loc:{start:{line:6,column:18},end:{line:21,column:3}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:7,column:21},end:{line:7,column:22}},loc:{start:{line:7,column:33},end:{line:19,column:5}},line:7},3:{name:"(anonymous_3)",decl:{start:{line:22,column:16},end:{line:22,column:17}},loc:{start:{line:22,column:43},end:{line:26,column:3}},line:22},4:{name:"(anonymous_4)",decl:{start:{line:27,column:19},end:{line:27,column:20}},loc:{start:{line:27,column:52},end:{line:36,column:3}},line:27},5:{name:"(anonymous_5)",decl:{start:{line:37,column:17},end:{line:37,column:18}},loc:{start:{line:37,column:29},end:{line:40,column:3}},line:37}},branchMap:{0:{loc:{start:{line:9,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:12,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:9},1:{loc:{start:{line:31,column:9},end:{line:31,column:36}},type:"binary-expr",locations:[{start:{line:31,column:9},end:{line:31,column:24}},{start:{line:31,column:28},end:{line:31,column:36}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/hooks/useAuth.ts"],names:["user"],mappings:"AAAA,SAAS,WAAW,gBAAgB;AACpC,SAAS,mBAAmB;AAG5B,MAAM,eAAe,MAAM;AACzB,QAAM,CAAC,MAAM,OAAO,IAAI,SAAsB,IAAI;AAClD,QAAM,CAAC,SAAS,UAAU,IAAI,SAAS,IAAI;AAE3C,YAAU,MAAM;AACd,UAAM,WAAW,YAAY;AAC3B,UAAI;AACF,YAAI,YAAY,gBAAgB,GAAG;AACjC,gBAAM,cAAc,MAAM,YAAY,eAAe;AACrD,kBAAQ,WAAW;AAAA,QACrB;AAAA,MACF,SAAS,OAAO;AACd,gBAAQ,MAAM,wBAAwB,KAAK;AAE3C,qBAAa,WAAW,YAAY;AAAA,MACtC,UAAE;AACA,mBAAW,KAAK;AAAA,MAClB;AAAA,IACF;AAEA,aAAS;AAAA,EACX,GAAG,CAAC,CAAC;AAEL,QAAM,QAAQ,OAAO,OAAe,aAAqB;AACvD,UAAMA,QAAO,MAAM,YAAY,MAAM,EAAE,OAAO,SAAS,CAAC;AACxD,YAAQA,KAAI;AACZ,WAAOA;AAAA,EACT;AAEA,QAAM,WAAW,OAAO,OAAe,UAAkB,SAAkB;AACzE,UAAM,eAAe;AAAA,MACnB;AAAA,MACA;AAAA,MACA,GAAI,SAAS,UAAa,EAAE,KAAK;AAAA,IACnC;AACA,UAAMA,QAAO,MAAM,YAAY,SAAS,YAAY;AACpD,YAAQA,KAAI;AACZ,WAAOA;AAAA,EACT;AAEA,QAAM,SAAS,YAAY;AACzB,UAAM,YAAY,OAAO;AACzB,YAAQ,IAAI;AAAA,EACd;AAEA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,iBAAiB,YAAY,gBAAgB;AAAA,EAC/C;AACF;AAEA,eAAe;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"bdf1b114cb7c025fce66951870fbc2d2a1bc8e4f"},r=s[l]||(s[l]={});(!r[t]||r[t].hash!==i)&&(r[t]=C);var c=r[t];return u=function(){return c},c}u();u().s[0]++;const ln=()=>{u().f[0]++;const[t,i]=(u().s[1]++,d.useState(null)),[s,l]=(u().s[2]++,d.useState(!0));u().s[3]++,d.useEffect(()=>{u().f[1]++,u().s[4]++;const p=async()=>{u().f[2]++,u().s[5]++;try{if(u().s[6]++,g.isAuthenticated()){u().b[0][0]++;const y=(u().s[7]++,await g.getCurrentUser());u().s[8]++,i(y)}else u().b[0][1]++}catch(y){u().s[9]++,console.error("Failed to load user:",y),u().s[10]++,localStorage.removeItem("auth_token")}finally{u().s[11]++,l(!1)}};u().s[12]++,p()},[]),u().s[13]++;const C=async(p,y)=>{u().f[3]++;const a=(u().s[14]++,await g.login({email:p,password:y}));return u().s[15]++,i(a),u().s[16]++,a};u().s[17]++;const r=async(p,y,a)=>{u().f[4]++;const I=(u().s[18]++,{email:p,password:y,...(u().b[1][0]++,a!==void 0&&(u().b[1][1]++,{name:a}))}),B=(u().s[19]++,await g.register(I));return u().s[20]++,i(B),u().s[21]++,B};u().s[22]++;const c=async()=>{u().f[5]++,u().s[23]++,await g.logout(),u().s[24]++,i(null)};return u().s[25]++,{user:t,loading:s,login:C,register:r,logout:c,isAuthenticated:g.isAuthenticated()}};function f(){var t="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/openAi.ts",i="d56b75ac872bf8db1a02b60d20f6b6887bffe8af",s=globalThis,l="__coverage__",C={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/openAi.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:25}},1:{start:{line:8,column:17},end:{line:16,column:5}},2:{start:{line:17,column:4},end:{line:38,column:5}},3:{start:{line:18,column:23},end:{line:28,column:7}},4:{start:{line:29,column:19},end:{line:29,column:40}},5:{start:{line:30,column:6},end:{line:32,column:7}},6:{start:{line:31,column:8},end:{line:31,column:54}},7:{start:{line:33,column:6},end:{line:33,column:60}},8:{start:{line:34,column:6},end:{line:34,column:66}},9:{start:{line:36,column:6},end:{line:36,column:66}},10:{start:{line:37,column:6},end:{line:37,column:94}},11:{start:{line:41,column:4},end:{line:41,column:39}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:22},end:{line:6,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:110},end:{line:39,column:3}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:33},end:{line:42,column:3}},line:40}},branchMap:{0:{loc:{start:{line:7,column:33},end:{line:7,column:56}},type:"default-arg",locations:[{start:{line:7,column:41},end:{line:7,column:56}}],line:7},1:{loc:{start:{line:7,column:58},end:{line:7,column:73}},type:"default-arg",locations:[{start:{line:7,column:71},end:{line:7,column:73}}],line:7},2:{loc:{start:{line:7,column:75},end:{line:7,column:92}},type:"default-arg",locations:[{start:{line:7,column:89},end:{line:7,column:92}}],line:7},3:{loc:{start:{line:7,column:94},end:{line:7,column:108}},type:"default-arg",locations:[{start:{line:7,column:103},end:{line:7,column:108}}],line:7},4:{loc:{start:{line:30,column:6},end:{line:32,column:7}},type:"if",locations:[{start:{line:30,column:6},end:{line:32,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},5:{loc:{start:{line:37,column:37},end:{line:37,column:91}},type:"cond-expr",locations:[{start:{line:37,column:62},end:{line:37,column:75}},{start:{line:37,column:78},end:{line:37,column:91}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0,0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/openAi.ts"],names:[],mappings:"AAiBO,aAAM,cAAsC;AAAA,EACzC;AAAA;AAAA,EAER,YAAY,QAAiB;AAE3B,SAAK,SAAS;AAAA,EAChB;AAAA,EAEA,MAAM,eACJ,UACA,QAAgB,iBAChB,aAAqB,IACrB,cAAsB,KACtB,SAAkB,OAED;AACjB,UAAM,OAAgC;AAAA,MACpC;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,IACF;AACA,QAAI;AAEF,YAAM,WAAW,MAAM;AAAA,QACrB;AAAA,QACA;AAAA,UACE,QAAQ;AAAA,UACR,SAAS;AAAA;AAAA,YAEP,gBAAgB;AAAA,UAClB;AAAA,UACA,MAAM,KAAK,UAAU,IAAI;AAAA,QAC3B;AAAA,MACF;AAEA,YAAM,OAAO,MAAM,SAAS,KAAK;AAEjC,UAAI,MAAM,UAAU,CAAC,GAAG,SAAS,SAAS;AACxC,eAAO,KAAK,QAAQ,CAAC,EAAE,QAAQ,QAAQ,KAAK;AAAA,MAC9C;AAEA,cAAQ,MAAM,kCAAkC,IAAI;AACpD,YAAM,IAAI,MAAM,0CAA0C;AAAA,IAC5D,SAAS,OAAO;AACd,cAAQ,MAAM,uCAAuC,KAAK;AAE1D,aAAO,wBAAwB,iBAAiB,QAAQ,MAAM,UAAU,OAAO,KAAK,CAAC;AAAA,IACvF;AAAA,EACF;AAAA,EAEA,MAAM,iBAAiB,QAAiC;AAEtD,UAAM,IAAI,MAAM,iBAAiB;AAAA,EACnC;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d56b75ac872bf8db1a02b60d20f6b6887bffe8af"},r=s[l]||(s[l]={});(!r[t]||r[t].hash!==i)&&(r[t]=C);var c=r[t];return f=function(){return c},c}f();class An{apiKey;constructor(i){f().f[0]++,f().s[0]++,this.apiKey=i}async chatCompletion(i,s=(f().b[0][0]++,"qwen3-4b-128k"),l=(f().b[1][0]++,-1),C=(f().b[2][0]++,.7),r=(f().b[3][0]++,!1)){f().f[1]++;const c=(f().s[1]++,{model:s,messages:i,temperature:C,max_tokens:l,stream:r});f().s[2]++;try{const p=(f().s[3]++,await fetch("http://172.31.128.1:1234/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})),y=(f().s[4]++,await p.json());if(f().s[5]++,y?.choices?.[0]?.message?.content)return f().b[4][0]++,f().s[6]++,y.choices[0].message.content.trim();throw f().b[4][1]++,f().s[7]++,console.error("Unexpected response structure:",y),f().s[8]++,new Error("No response content or unexpected format")}catch(p){return f().s[9]++,console.error("Error fetching data from local LLM:",p),f().s[10]++,`Error fetching data: ${p instanceof Error?(f().b[5][0]++,p.message):(f().b[5][1]++,String(p))}`}}async generateResponse(i){throw f().f[2]++,f().s[11]++,new Error("Not implemented")}}function n(){var t="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/contexts/InteractionTrackerContext.tsx",i="e8271c17f910dca105fd66c7ea99f94ce660e8d8",s=globalThis,l="__coverage__",C={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/contexts/InteractionTrackerContext.tsx",statementMap:{0:{start:{line:10,column:34},end:{line:10,column:55}},1:{start:{line:11,column:21},end:{line:28,column:1}},2:{start:{line:29,column:19},end:{line:31,column:1}},3:{start:{line:30,column:2},end:{line:30,column:99}},4:{start:{line:32,column:27},end:{line:144,column:1}},5:{start:{line:33,column:2},end:{line:143,column:3}},6:{start:{line:35,column:6},end:{line:37,column:7}},7:{start:{line:36,column:8},end:{line:36,column:21}},8:{start:{line:38,column:23},end:{line:45,column:7}},9:{start:{line:46,column:6},end:{line:49,column:8}},10:{start:{line:50,column:6},end:{line:56,column:8}},11:{start:{line:59,column:37},end:{line:59,column:49}},12:{start:{line:60,column:30},end:{line:60,column:51}},13:{start:{line:61,column:32},end:{line:61,column:73}},14:{start:{line:61,column:67},end:{line:61,column:71}},15:{start:{line:62,column:6},end:{line:64,column:8}},16:{start:{line:65,column:6},end:{line:76,column:8}},17:{start:{line:70,column:19},end:{line:70,column:47}},18:{start:{line:79,column:27},end:{line:79,column:63}},19:{start:{line:80,column:6},end:{line:82,column:8}},20:{start:{line:83,column:6},end:{line:92,column:8}},21:{start:{line:89,column:19},end:{line:89,column:42}},22:{start:{line:95,column:27},end:{line:95,column:48}},23:{start:{line:96,column:29},end:{line:96,column:67}},24:{start:{line:96,column:61},end:{line:96,column:65}},25:{start:{line:97,column:6},end:{line:99,column:8}},26:{start:{line:100,column:6},end:{line:111,column:8}},27:{start:{line:106,column:19},end:{line:106,column:44}},28:{start:{line:114,column:6},end:{line:121,column:8}},29:{start:{line:124,column:6},end:{line:130,column:8}},30:{start:{line:133,column:6},end:{line:139,column:8}},31:{start:{line:142,column:6},end:{line:142,column:19}},32:{start:{line:145,column:42},end:{line:609,column:1}},33:{start:{line:153,column:28},end:{line:161,column:4}},34:{start:{line:162,column:2},end:{line:258,column:28}},35:{start:{line:163,column:20},end:{line:163,column:24}},36:{start:{line:164,column:30},end:{line:253,column:5}},37:{start:{line:165,column:6},end:{line:252,column:7}},38:{start:{line:166,column:8},end:{line:168,column:10}},39:{start:{line:169,column:8},end:{line:245,column:9}},40:{start:{line:170,column:10},end:{line:170,column:69}},41:{start:{line:171,column:10},end:{line:171,column:74}},42:{start:{line:172,column:10},end:{line:227,column:11}},43:{start:{line:173,column:34},end:{line:173,column:76}},44:{start:{line:174,column:12},end:{line:206,column:13}},45:{start:{line:175,column:14},end:{line:177,column:16}},46:{start:{line:178,column:14},end:{line:187,column:17}},47:{start:{line:188,column:14},end:{line:188,column:72}},48:{start:{line:189,column:19},end:{line:206,column:13}},49:{start:{line:190,column:14},end:{line:192,column:16}},50:{start:{line:193,column:40},end:{line:193,column:73}},51:{start:{line:194,column:14},end:{line:204,column:17}},52:{start:{line:205,column:14},end:{line:205,column:72}},53:{start:{line:208,column:12},end:{line:211,column:14}},54:{start:{line:212,column:12},end:{line:226,column:13}},55:{start:{line:213,column:40},end:{line:213,column:73}},56:{start:{line:214,column:14},end:{line:224,column:17}},57:{start:{line:225,column:14},end:{line:225,column:72}},58:{start:{line:229,column:10},end:{line:231,column:12}},59:{start:{line:232,column:34},end:{line:232,column:67}},60:{start:{line:233,column:10},end:{line:243,column:13}},61:{start:{line:244,column:10},end:{line:244,column:68}},62:{start:{line:247,column:8},end:{line:249,column:10}},63:{start:{line:250,column:8},end:{line:250,column:72}},64:{start:{line:251,column:8},end:{line:251,column:67}},65:{start:{line:254,column:4},end:{line:254,column:24}},66:{start:{line:255,column:4},end:{line:257,column:6}},67:{start:{line:256,column:6},end:{line:256,column:24}},68:{start:{line:259,column:2},end:{line:268,column:38}},69:{start:{line:260,column:4},end:{line:267,column:6}},70:{start:{line:261,column:6},end:{line:266,column:7}},71:{start:{line:262,column:8},end:{line:262,column:80}},72:{start:{line:263,column:8},end:{line:265,column:11}},73:{start:{line:264,column:10},end:{line:264,column:77}},74:{start:{line:269,column:2},end:{line:284,column:5}},75:{start:{line:270,column:4},end:{line:277,column:5}},76:{start:{line:271,column:23},end:{line:275,column:36}},77:{start:{line:272,column:8},end:{line:274,column:9}},78:{start:{line:273,column:10},end:{line:273,column:24}},79:{start:{line:276,column:6},end:{line:276,column:43}},80:{start:{line:276,column:19},end:{line:276,column:42}},81:{start:{line:278,column:4},end:{line:278,column:18}},82:{start:{line:285,column:22},end:{line:345,column:59}},83:{start:{line:286,column:28},end:{line:286,column:53}},84:{start:{line:287,column:4},end:{line:287,column:45}},85:{start:{line:287,column:38},end:{line:287,column:45}},86:{start:{line:288,column:4},end:{line:290,column:6}},87:{start:{line:291,column:4},end:{line:294,column:7}},88:{start:{line:295,column:4},end:{line:344,column:5}},89:{start:{line:296,column:6},end:{line:330,column:7}},90:{start:{line:297,column:29},end:{line:304,column:11}},91:{start:{line:297,column:61},end:{line:304,column:9}},92:{start:{line:305,column:8},end:{line:308,column:10}},93:{start:{line:309,column:8},end:{line:313,column:10}},94:{start:{line:311,column:12},end:{line:311,column:83}},95:{start:{line:315,column:29},end:{line:322,column:11}},96:{start:{line:315,column:61},end:{line:322,column:9}},97:{start:{line:323,column:8},end:{line:326,column:10}},98:{start:{line:327,column:8},end:{line:329,column:10}},99:{start:{line:328,column:42},end:{line:328,column:75}},100:{start:{line:331,column:6},end:{line:333,column:8}},101:{start:{line:334,column:6},end:{line:337,column:9}},102:{start:{line:336,column:60},end:{line:336,column:64}},103:{start:{line:339,column:6},end:{line:339,column:56}},104:{start:{line:340,column:6},end:{line:343,column:9}},105:{start:{line:346,column:29},end:{line:362,column:3}},106:{start:{line:348,column:6},end:{line:359,column:9}},107:{start:{line:363,column:21},end:{line:379,column:3}},108:{start:{line:365,column:99},end:{line:365,column:103}},109:{start:{line:366,column:6},end:{line:376,column:8}},110:{start:{line:380,column:25},end:{line:393,column:3}},111:{start:{line:382,column:6},end:{line:386,column:7}},112:{start:{line:383,column:8},end:{line:385,column:10}},113:{start:{line:387,column:6},end:{line:390,column:9}},114:{start:{line:394,column:26},end:{line:407,column:3}},115:{start:{line:396,column:6},end:{line:400,column:7}},116:{start:{line:397,column:8},end:{line:399,column:10}},117:{start:{line:401,column:6},end:{line:404,column:9}},118:{start:{line:408,column:29},end:{line:421,column:3}},119:{start:{line:410,column:6},end:{line:414,column:7}},120:{start:{line:411,column:8},end:{line:413,column:10}},121:{start:{line:415,column:6},end:{line:418,column:9}},122:{start:{line:422,column:29},end:{line:435,column:3}},123:{start:{line:424,column:6},end:{line:428,column:7}},124:{start:{line:425,column:8},end:{line:427,column:10}},125:{start:{line:429,column:6},end:{line:432,column:9}},126:{start:{line:436,column:25},end:{line:439,column:3}},127:{start:{line:437,column:22},end:{line:437,column:68}},128:{start:{line:440,column:26},end:{line:443,column:3}},129:{start:{line:441,column:34},end:{line:441,column:100}},130:{start:{line:444,column:28},end:{line:447,column:3}},131:{start:{line:445,column:22},end:{line:445,column:71}},132:{start:{line:448,column:27},end:{line:451,column:3}},133:{start:{line:449,column:25},end:{line:449,column:95}},134:{start:{line:452,column:29},end:{line:464,column:3}},135:{start:{line:454,column:65},end:{line:454,column:69}},136:{start:{line:455,column:6},end:{line:461,column:9}},137:{start:{line:465,column:32},end:{line:477,column:3}},138:{start:{line:467,column:65},end:{line:467,column:69}},139:{start:{line:468,column:6},end:{line:474,column:9}},140:{start:{line:478,column:32},end:{line:490,column:3}},141:{start:{line:480,column:65},end:{line:480,column:69}},142:{start:{line:481,column:6},end:{line:487,column:9}},143:{start:{line:491,column:26},end:{line:504,column:3}},144:{start:{line:493,column:6},end:{line:497,column:7}},145:{start:{line:494,column:8},end:{line:496,column:10}},146:{start:{line:498,column:6},end:{line:501,column:9}},147:{start:{line:505,column:34},end:{line:518,column:3}},148:{start:{line:507,column:6},end:{line:511,column:7}},149:{start:{line:508,column:8},end:{line:510,column:10}},150:{start:{line:512,column:6},end:{line:515,column:9}},151:{start:{line:519,column:36},end:{line:527,column:3}},152:{start:{line:521,column:6},end:{line:524,column:9}},153:{start:{line:528,column:39},end:{line:536,column:3}},154:{start:{line:530,column:6},end:{line:533,column:9}},155:{start:{line:537,column:32},end:{line:545,column:3}},156:{start:{line:539,column:6},end:{line:542,column:9}},157:{start:{line:546,column:29},end:{line:549,column:3}},158:{start:{line:547,column:10},end:{line:547,column:37}},159:{start:{line:550,column:27},end:{line:557,column:3}},160:{start:{line:551,column:10},end:{line:551,column:99}},161:{start:{line:558,column:23},end:{line:607,column:3}},162:{start:{line:559,column:11},end:{line:582,column:5}},163:{start:{line:608,column:2},end:{line:608,column:100}},164:{start:{line:610,column:37},end:{line:618,column:1}},165:{start:{line:611,column:18},end:{line:611,column:55}},166:{start:{line:612,column:2},end:{line:616,column:3}},167:{start:{line:613,column:4},end:{line:615,column:6}},168:{start:{line:617,column:2},end:{line:617,column:17}},169:{start:{line:619,column:0},end:{line:625,column:50}},170:{start:{line:621,column:4},end:{line:621,column:74}},171:{start:{line:623,column:4},end:{line:623,column:822}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:29,column:19},end:{line:29,column:20}},loc:{start:{line:29,column:25},end:{line:31,column:1}},line:29},1:{name:"(anonymous_1)",decl:{start:{line:32,column:27},end:{line:32,column:28}},loc:{start:{line:32,column:46},end:{line:144,column:1}},line:32},2:{name:"(anonymous_2)",decl:{start:{line:61,column:60},end:{line:61,column:61}},loc:{start:{line:61,column:67},end:{line:61,column:71}},line:61},3:{name:"(anonymous_3)",decl:{start:{line:70,column:12},end:{line:70,column:13}},loc:{start:{line:70,column:19},end:{line:70,column:47}},line:70},4:{name:"(anonymous_4)",decl:{start:{line:89,column:12},end:{line:89,column:13}},loc:{start:{line:89,column:19},end:{line:89,column:42}},line:89},5:{name:"(anonymous_5)",decl:{start:{line:96,column:54},end:{line:96,column:55}},loc:{start:{line:96,column:61},end:{line:96,column:65}},line:96},6:{name:"(anonymous_6)",decl:{start:{line:106,column:12},end:{line:106,column:13}},loc:{start:{line:106,column:19},end:{line:106,column:44}},line:106},7:{name:"(anonymous_7)",decl:{start:{line:145,column:42},end:{line:145,column:43}},loc:{start:{line:152,column:6},end:{line:609,column:1}},line:152},8:{name:"(anonymous_8)",decl:{start:{line:162,column:12},end:{line:162,column:13}},loc:{start:{line:162,column:18},end:{line:258,column:3}},line:162},9:{name:"(anonymous_9)",decl:{start:{line:164,column:30},end:{line:164,column:31}},loc:{start:{line:164,column:42},end:{line:253,column:5}},line:164},10:{name:"(anonymous_10)",decl:{start:{line:255,column:11},end:{line:255,column:12}},loc:{start:{line:255,column:17},end:{line:257,column:5}},line:255},11:{name:"(anonymous_11)",decl:{start:{line:259,column:12},end:{line:259,column:13}},loc:{start:{line:259,column:18},end:{line:268,column:3}},line:259},12:{name:"(anonymous_12)",decl:{start:{line:260,column:11},end:{line:260,column:12}},loc:{start:{line:260,column:17},end:{line:267,column:5}},line:260},13:{name:"(anonymous_13)",decl:{start:{line:263,column:59},end:{line:263,column:60}},loc:{start:{line:263,column:70},end:{line:265,column:9}},line:263},14:{name:"(anonymous_14)",decl:{start:{line:269,column:12},end:{line:269,column:13}},loc:{start:{line:269,column:18},end:{line:279,column:3}},line:269},15:{name:"(anonymous_15)",decl:{start:{line:271,column:35},end:{line:271,column:36}},loc:{start:{line:271,column:41},end:{line:275,column:7}},line:271},16:{name:"(anonymous_16)",decl:{start:{line:276,column:13},end:{line:276,column:14}},loc:{start:{line:276,column:19},end:{line:276,column:42}},line:276},17:{name:"(anonymous_17)",decl:{start:{line:285,column:34},end:{line:285,column:35}},loc:{start:{line:285,column:46},end:{line:345,column:3}},line:285},18:{name:"(anonymous_18)",decl:{start:{line:297,column:49},end:{line:297,column:50}},loc:{start:{line:297,column:61},end:{line:304,column:9}},line:297},19:{name:"(anonymous_19)",decl:{start:{line:310,column:27},end:{line:310,column:28}},loc:{start:{line:310,column:42},end:{line:312,column:11}},line:310},20:{name:"(anonymous_20)",decl:{start:{line:315,column:49},end:{line:315,column:50}},loc:{start:{line:315,column:61},end:{line:322,column:9}},line:315},21:{name:"(anonymous_21)",decl:{start:{line:328,column:27},end:{line:328,column:28}},loc:{start:{line:328,column:42},end:{line:328,column:75}},line:328},22:{name:"(anonymous_22)",decl:{start:{line:336,column:53},end:{line:336,column:54}},loc:{start:{line:336,column:60},end:{line:336,column:64}},line:336},23:{name:"(anonymous_23)",decl:{start:{line:347,column:4},end:{line:347,column:5}},loc:{start:{line:347,column:45},end:{line:360,column:5}},line:347},24:{name:"(anonymous_24)",decl:{start:{line:364,column:4},end:{line:364,column:5}},loc:{start:{line:364,column:14},end:{line:377,column:5}},line:364},25:{name:"(anonymous_25)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:25},end:{line:391,column:5}},line:381},26:{name:"(anonymous_26)",decl:{start:{line:395,column:4},end:{line:395,column:5}},loc:{start:{line:395,column:25},end:{line:405,column:5}},line:395},27:{name:"(anonymous_27)",decl:{start:{line:409,column:4},end:{line:409,column:5}},loc:{start:{line:409,column:25},end:{line:419,column:5}},line:409},28:{name:"(anonymous_28)",decl:{start:{line:423,column:4},end:{line:423,column:5}},loc:{start:{line:423,column:25},end:{line:433,column:5}},line:423},29:{name:"(anonymous_29)",decl:{start:{line:437,column:4},end:{line:437,column:5}},loc:{start:{line:437,column:22},end:{line:437,column:68}},line:437},30:{name:"(anonymous_30)",decl:{start:{line:441,column:4},end:{line:441,column:5}},loc:{start:{line:441,column:34},end:{line:441,column:100}},line:441},31:{name:"(anonymous_31)",decl:{start:{line:445,column:4},end:{line:445,column:5}},loc:{start:{line:445,column:22},end:{line:445,column:71}},line:445},32:{name:"(anonymous_32)",decl:{start:{line:449,column:4},end:{line:449,column:5}},loc:{start:{line:449,column:25},end:{line:449,column:95}},line:449},33:{name:"(anonymous_33)",decl:{start:{line:453,column:4},end:{line:453,column:5}},loc:{start:{line:453,column:14},end:{line:462,column:5}},line:453},34:{name:"(anonymous_34)",decl:{start:{line:466,column:4},end:{line:466,column:5}},loc:{start:{line:466,column:14},end:{line:475,column:5}},line:466},35:{name:"(anonymous_35)",decl:{start:{line:479,column:4},end:{line:479,column:5}},loc:{start:{line:479,column:14},end:{line:488,column:5}},line:479},36:{name:"(anonymous_36)",decl:{start:{line:492,column:4},end:{line:492,column:5}},loc:{start:{line:492,column:14},end:{line:502,column:5}},line:492},37:{name:"(anonymous_37)",decl:{start:{line:506,column:4},end:{line:506,column:5}},loc:{start:{line:506,column:21},end:{line:516,column:5}},line:506},38:{name:"(anonymous_38)",decl:{start:{line:520,column:4},end:{line:520,column:5}},loc:{start:{line:520,column:14},end:{line:525,column:5}},line:520},39:{name:"(anonymous_39)",decl:{start:{line:529,column:4},end:{line:529,column:5}},loc:{start:{line:529,column:14},end:{line:534,column:5}},line:529},40:{name:"(anonymous_40)",decl:{start:{line:538,column:4},end:{line:538,column:5}},loc:{start:{line:538,column:14},end:{line:543,column:5}},line:538},41:{name:"(anonymous_41)",decl:{start:{line:547,column:4},end:{line:547,column:5}},loc:{start:{line:547,column:10},end:{line:547,column:37}},line:547},42:{name:"(anonymous_42)",decl:{start:{line:551,column:4},end:{line:551,column:5}},loc:{start:{line:551,column:10},end:{line:551,column:99}},line:551},43:{name:"(anonymous_43)",decl:{start:{line:559,column:4},end:{line:559,column:5}},loc:{start:{line:559,column:11},end:{line:582,column:5}},line:559},44:{name:"(anonymous_44)",decl:{start:{line:610,column:37},end:{line:610,column:38}},loc:{start:{line:610,column:43},end:{line:618,column:1}},line:610}},branchMap:{0:{loc:{start:{line:33,column:2},end:{line:143,column:3}},type:"switch",locations:[{start:{line:34,column:4},end:{line:57,column:5}},{start:{line:58,column:4},end:{line:77,column:5}},{start:{line:78,column:4},end:{line:93,column:5}},{start:{line:94,column:4},end:{line:112,column:5}},{start:{line:113,column:4},end:{line:122,column:5}},{start:{line:123,column:4},end:{line:131,column:5}},{start:{line:132,column:4},end:{line:140,column:5}},{start:{line:141,column:4},end:{line:142,column:19}}],line:33},1:{loc:{start:{line:35,column:6},end:{line:37,column:7}},type:"if",locations:[{start:{line:35,column:6},end:{line:37,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:35},2:{loc:{start:{line:35,column:10},end:{line:35,column:68}},type:"binary-expr",locations:[{start:{line:35,column:10},end:{line:35,column:33}},{start:{line:35,column:37},end:{line:35,column:68}}],line:35},3:{loc:{start:{line:41,column:19},end:{line:41,column:53}},type:"binary-expr",locations:[{start:{line:41,column:19},end:{line:41,column:43}},{start:{line:41,column:47},end:{line:41,column:53}}],line:41},4:{loc:{start:{line:43,column:18},end:{line:43,column:47}},type:"binary-expr",locations:[{start:{line:43,column:18},end:{line:43,column:41}},{start:{line:43,column:45},end:{line:43,column:47}}],line:43},5:{loc:{start:{line:119,column:20},end:{line:119,column:69}},type:"binary-expr",locations:[{start:{line:119,column:20},end:{line:119,column:43}},{start:{line:119,column:47},end:{line:119,column:69}}],line:119},6:{loc:{start:{line:150,column:2},end:{line:150,column:16}},type:"default-arg",locations:[{start:{line:150,column:14},end:{line:150,column:16}}],line:150},7:{loc:{start:{line:151,column:2},end:{line:151,column:21}},type:"default-arg",locations:[{start:{line:151,column:18},end:{line:151,column:21}}],line:151},8:{loc:{start:{line:165,column:6},end:{line:252,column:7}},type:"if",locations:[{start:{line:165,column:6},end:{line:252,column:7}},{start:{line:246,column:13},end:{line:252,column:7}}],line:165},9:{loc:{start:{line:169,column:8},end:{line:245,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:245,column:9}},{start:{line:228,column:15},end:{line:245,column:9}}],line:169},10:{loc:{start:{line:174,column:12},end:{line:206,column:13}},type:"if",locations:[{start:{line:174,column:12},end:{line:206,column:13}},{start:{line:189,column:19},end:{line:206,column:13}}],line:174},11:{loc:{start:{line:174,column:16},end:{line:174,column:62}},type:"binary-expr",locations:[{start:{line:174,column:16},end:{line:174,column:25}},{start:{line:174,column:29},end:{line:174,column:42}},{start:{line:174,column:46},end:{line:174,column:62}}],line:174},12:{loc:{start:{line:189,column:19},end:{line:206,column:13}},type:"if",locations:[{start:{line:189,column:19},end:{line:206,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:189},13:{loc:{start:{line:212,column:12},end:{line:226,column:13}},type:"if",locations:[{start:{line:212,column:12},end:{line:226,column:13}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:212},14:{loc:{start:{line:261,column:6},end:{line:266,column:7}},type:"if",locations:[{start:{line:261,column:6},end:{line:266,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:261},15:{loc:{start:{line:261,column:10},end:{line:261,column:56}},type:"binary-expr",locations:[{start:{line:261,column:10},end:{line:261,column:26}},{start:{line:261,column:30},end:{line:261,column:56}}],line:261},16:{loc:{start:{line:270,column:4},end:{line:277,column:5}},type:"if",locations:[{start:{line:270,column:4},end:{line:277,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:270},17:{loc:{start:{line:270,column:8},end:{line:270,column:64}},type:"binary-expr",locations:[{start:{line:270,column:8},end:{line:270,column:38}},{start:{line:270,column:42},end:{line:270,column:64}}],line:270},18:{loc:{start:{line:272,column:8},end:{line:274,column:9}},type:"if",locations:[{start:{line:272,column:8},end:{line:274,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:272},19:{loc:{start:{line:287,column:4},end:{line:287,column:45}},type:"if",locations:[{start:{line:287,column:4},end:{line:287,column:45}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:287},20:{loc:{start:{line:296,column:6},end:{line:330,column:7}},type:"if",locations:[{start:{line:296,column:6},end:{line:330,column:7}},{start:{line:314,column:13},end:{line:330,column:7}}],line:296},21:{loc:{start:{line:300,column:22},end:{line:300,column:45}},type:"binary-expr",locations:[{start:{line:300,column:22},end:{line:300,column:37}},{start:{line:300,column:41},end:{line:300,column:45}}],line:300},22:{loc:{start:{line:311,column:19},end:{line:311,column:82}},type:"binary-expr",locations:[{start:{line:311,column:19},end:{line:311,column:61}},{start:{line:311,column:65},end:{line:311,column:82}}],line:311},23:{loc:{start:{line:318,column:21},end:{line:318,column:44}},type:"binary-expr",locations:[{start:{line:318,column:21},end:{line:318,column:36}},{start:{line:318,column:40},end:{line:318,column:44}}],line:318},24:{loc:{start:{line:347,column:27},end:{line:347,column:40}},type:"default-arg",locations:[{start:{line:347,column:38},end:{line:347,column:40}}],line:347},25:{loc:{start:{line:368,column:8},end:{line:368,column:52}},type:"cond-expr",locations:[{start:{line:368,column:20},end:{line:368,column:43}},{start:{line:368,column:46},end:{line:368,column:52}}],line:368},26:{loc:{start:{line:373,column:21},end:{line:373,column:44}},type:"binary-expr",locations:[{start:{line:373,column:21},end:{line:373,column:30}},{start:{line:373,column:34},end:{line:373,column:44}}],line:373},27:{loc:{start:{line:382,column:6},end:{line:386,column:7}},type:"if",locations:[{start:{line:382,column:6},end:{line:386,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:382},28:{loc:{start:{line:382,column:10},end:{line:382,column:45}},type:"binary-expr",locations:[{start:{line:382,column:10},end:{line:382,column:27}},{start:{line:382,column:31},end:{line:382,column:45}}],line:382},29:{loc:{start:{line:389,column:19},end:{line:389,column:47}},type:"binary-expr",locations:[{start:{line:389,column:19},end:{line:389,column:33}},{start:{line:389,column:37},end:{line:389,column:47}}],line:389},30:{loc:{start:{line:396,column:6},end:{line:400,column:7}},type:"if",locations:[{start:{line:396,column:6},end:{line:400,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:396},31:{loc:{start:{line:396,column:10},end:{line:396,column:45}},type:"binary-expr",locations:[{start:{line:396,column:10},end:{line:396,column:27}},{start:{line:396,column:31},end:{line:396,column:45}}],line:396},32:{loc:{start:{line:403,column:19},end:{line:403,column:47}},type:"binary-expr",locations:[{start:{line:403,column:19},end:{line:403,column:33}},{start:{line:403,column:37},end:{line:403,column:47}}],line:403},33:{loc:{start:{line:410,column:6},end:{line:414,column:7}},type:"if",locations:[{start:{line:410,column:6},end:{line:414,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:410},34:{loc:{start:{line:410,column:10},end:{line:410,column:45}},type:"binary-expr",locations:[{start:{line:410,column:10},end:{line:410,column:27}},{start:{line:410,column:31},end:{line:410,column:45}}],line:410},35:{loc:{start:{line:417,column:19},end:{line:417,column:47}},type:"binary-expr",locations:[{start:{line:417,column:19},end:{line:417,column:33}},{start:{line:417,column:37},end:{line:417,column:47}}],line:417},36:{loc:{start:{line:424,column:6},end:{line:428,column:7}},type:"if",locations:[{start:{line:424,column:6},end:{line:428,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:424},37:{loc:{start:{line:424,column:10},end:{line:424,column:45}},type:"binary-expr",locations:[{start:{line:424,column:10},end:{line:424,column:27}},{start:{line:424,column:31},end:{line:424,column:45}}],line:424},38:{loc:{start:{line:431,column:19},end:{line:431,column:47}},type:"binary-expr",locations:[{start:{line:431,column:19},end:{line:431,column:33}},{start:{line:431,column:37},end:{line:431,column:47}}],line:431},39:{loc:{start:{line:449,column:60},end:{line:449,column:88}},type:"binary-expr",locations:[{start:{line:449,column:60},end:{line:449,column:83}},{start:{line:449,column:87},end:{line:449,column:88}}],line:449},40:{loc:{start:{line:455,column:43},end:{line:455,column:72}},type:"binary-expr",locations:[{start:{line:455,column:43},end:{line:455,column:67}},{start:{line:455,column:71},end:{line:455,column:72}}],line:455},41:{loc:{start:{line:468,column:46},end:{line:468,column:75}},type:"binary-expr",locations:[{start:{line:468,column:46},end:{line:468,column:70}},{start:{line:468,column:74},end:{line:468,column:75}}],line:468},42:{loc:{start:{line:481,column:46},end:{line:481,column:75}},type:"binary-expr",locations:[{start:{line:481,column:46},end:{line:481,column:70}},{start:{line:481,column:74},end:{line:481,column:75}}],line:481},43:{loc:{start:{line:493,column:6},end:{line:497,column:7}},type:"if",locations:[{start:{line:493,column:6},end:{line:497,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:493},44:{loc:{start:{line:493,column:10},end:{line:493,column:45}},type:"binary-expr",locations:[{start:{line:493,column:10},end:{line:493,column:27}},{start:{line:493,column:31},end:{line:493,column:45}}],line:493},45:{loc:{start:{line:500,column:19},end:{line:500,column:47}},type:"binary-expr",locations:[{start:{line:500,column:19},end:{line:500,column:33}},{start:{line:500,column:37},end:{line:500,column:47}}],line:500},46:{loc:{start:{line:507,column:6},end:{line:511,column:7}},type:"if",locations:[{start:{line:507,column:6},end:{line:511,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:507},47:{loc:{start:{line:507,column:10},end:{line:507,column:45}},type:"binary-expr",locations:[{start:{line:507,column:10},end:{line:507,column:27}},{start:{line:507,column:31},end:{line:507,column:45}}],line:507},48:{loc:{start:{line:512,column:48},end:{line:512,column:72}},type:"binary-expr",locations:[{start:{line:512,column:48},end:{line:512,column:67}},{start:{line:512,column:71},end:{line:512,column:72}}],line:512},49:{loc:{start:{line:514,column:19},end:{line:514,column:47}},type:"binary-expr",locations:[{start:{line:514,column:19},end:{line:514,column:33}},{start:{line:514,column:37},end:{line:514,column:47}}],line:514},50:{loc:{start:{line:530,column:54},end:{line:530,column:90}},type:"binary-expr",locations:[{start:{line:530,column:54},end:{line:530,column:85}},{start:{line:530,column:89},end:{line:530,column:90}}],line:530},51:{loc:{start:{line:539,column:47},end:{line:539,column:83}},type:"binary-expr",locations:[{start:{line:539,column:47},end:{line:539,column:78}},{start:{line:539,column:82},end:{line:539,column:83}}],line:539},52:{loc:{start:{line:612,column:2},end:{line:616,column:3}},type:"if",locations:[{start:{line:612,column:2},end:{line:616,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:612}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0},b:{0:[0,0,0,0,0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0],8:[0,0],9:[0,0],10:[0,0],11:[0,0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/contexts/InteractionTrackerContext.tsx"],names:[],mappings:"AAw5BM;AAx5BN;AAAA;AACE;AACA;AAEA;AACA;AACA;AACA;AA+KF;AAKA;AAA8C;AACnC;AACH;AACM;AACC;AACb;AACQ;AACI;AACG;AACJ;AACX;AACQ;AACa;AACR;AACI;AAAA;AAEnB;AAGA;AACE;AAIF;AAGA;AAIE;AAAqB;AAEjB;AACE;AAAO;AAGT;AAAmC;AAClB;AACM;AACkB;AACnB;AACkB;AAC3B;AAGb;AAAQ;AACwD;AAC9D;AAGF;AAAO;AACF;AACK;AACG;AACkC;AAC7C;AACF;AACF;AAGE;AACA;AACA;AAEA;AAAQ;AACuD;AAG/D;AAAO;AACF;AACK;AAAA;AAEwB;AACI;AAClC;AAAA;AAE8C;AAC9C;AACF;AACF;AACF;AAGE;AACA;AAAQ;AACmD;AAE3D;AAAO;AACF;AACK;AACG;AAAA;AAE2B;AACP;AAC7B;AACF;AACF;AACF;AAGE;AACA;AACA;AAAQ;AACqD;AAE7D;AAAO;AACF;AACK;AACG;AAAA;AAE2B;AACL;AAC/B;AAAA;AAEgD;AAClD;AACF;AACF;AAGE;AAAO;AACF;AACM;AACY;AACoB;AACY;AACrD;AACF;AACF;AAGE;AAAO;AACF;AACK;AACG;AACiB;AAC5B;AACF;AACF;AAGE;AAAO;AACF;AACK;AACG;AACC;AACZ;AACF;AACF;AAGE;AAAO;AAEb;AAYO;AAEF;AACH;AACA;AACA;AACA;AACY;AAEd;AACI;AAAyD;AACpD;AACK;AACU;AACiB;AACjC;AACA;AACF;AAIF;AACE;AAEA;AACE;AACE;AAAQ;AACgE;AAIxE;AACE;AACA;AAEA;AACE;AAEA;AACE;AAAQ;AAC4E;AAGpF;AAAS;AACD;AACG;AACkB;AACf;AACR;AACkC;AACpC;AACF;AAEF;AAAwD;AAExD;AAAQ;AACN;AAGF;AACA;AAAS;AACD;AACG;AACI;AACD;AACR;AACkC;AACxB;AACZ;AACF;AAEF;AAAwD;AAC1D;AAEA;AAAQ;AACN;AACA;AAEF;AAEE;AACA;AAAS;AACD;AACG;AACI;AACD;AACR;AACkC;AACxB;AACZ;AACF;AAEF;AAAwD;AAC1D;AACF;AAGA;AAAQ;AACN;AAEF;AACA;AAAS;AACD;AACG;AACI;AACD;AACR;AACkC;AAC1B;AACV;AACF;AAEF;AAAwD;AAC1D;AAGA;AAAQ;AACN;AAEF;AACA;AAAyD;AAC3D;AAGF;AAEA;AACE;AAAY;AACd;AAIF;AACE;AAEE;AACE;AACA;AACE;AAAiE;AAClE;AACH;AACF;AAIF;AACE;AACE;AACE;AACE;AAAY;AACd;AAGF;AAAmC;AAGrC;AAAO;AACN;AACY;AACC;AACD;AACQ;AAIvB;AAEE;AAGA;AAEA;AAAQ;AACiD;AAIzD;AAAS;AACD;AAC6B;AAGrC;AAEE;AAEE;AAAmD;AACxC;AACS;AACa;AACd;AACS;AACV;AAGlB;AAAQ;AACN;AACA;AAIF;AAAc;AAIV;AACuB;AACxB;AACH;AAGA;AAAmD;AACjD;AACkB;AACY;AACb;AACQ;AAChB;AAGX;AAAQ;AACN;AACA;AAGF;AAAc;AACmD;AACjE;AAIF;AAAQ;AAC+D;AAGvE;AAAS;AACD;AACkD;AACzD;AAED;AAEA;AAAS;AACD;AAC6B;AACpC;AACH;AAKF;AAA2B;AAMvB;AAAS;AACD;AACG;AACP;AAC+B;AACrB;AACL;AACiB;AACpB;AACF;AACF;AACD;AACH;AACO;AAIT;AAAmB;AAEf;AAEA;AAAA;AACE;AACsC;AACtC;AACE;AACA;AACA;AACiC;AAC9B;AACL;AACF;AACF;AACmB;AAIrB;AAAuB;AAGnB;AACE;AAAQ;AACN;AACF;AAGF;AAA4C;AACvC;AACmC;AACvC;AACH;AACmB;AAGrB;AAAwB;AAGpB;AACE;AAAQ;AACN;AACF;AAGF;AAA6C;AACxC;AACmC;AACvC;AACH;AACmB;AAGrB;AAA2B;AAGvB;AACE;AAAQ;AACN;AACF;AAGF;AAAgD;AAC3C;AACmC;AACvC;AACH;AACmB;AAGrB;AAA2B;AAGvB;AACE;AAAQ;AACN;AACF;AAGF;AAAgD;AAC3C;AACmC;AACvC;AACH;AACmB;AAGrB;AAAuB;AAE0B;AAC5B;AAGrB;AAAwB;AAE6C;AAChD;AAGrB;AAA0B;AAE0B;AAC/B;AAGrB;AAAyB;AAEgD;AACpD;AAIrB;AAA2B;AAEvB;AACA;AAAoE;AAClE;AACA;AACA;AACG;AACc;AAClB;AACH;AACmB;AAGrB;AAA8B;AAE1B;AACA;AAAuE;AACrE;AACA;AACA;AACG;AACc;AAClB;AACH;AACmB;AAGrB;AAA8B;AAE1B;AACA;AAAuE;AACrE;AACA;AACA;AACG;AACc;AAClB;AACH;AACmB;AAIrB;AAAwB;AAGpB;AACE;AAAQ;AACN;AACF;AAGF;AAAoC;AAC/B;AACmC;AACvC;AACH;AACmB;AAIrB;AAAgC;AAG5B;AACE;AAAQ;AACN;AACF;AAGF;AAAoE;AAC/D;AACmC;AACvC;AACH;AACmB;AAIrB;AAAkC;AAE9B;AAAgD;AAC3C;AACiB;AACrB;AACH;AACmB;AAGrB;AAAqC;AAEjC;AAAsF;AACjF;AACiB;AACrB;AACH;AACmB;AAGrB;AAA8B;AAE1B;AAA+E;AAC1E;AACiB;AACrB;AACH;AACmB;AAIrB;AAA2B;AACE;AACC;AAG9B;AAAyB;AAID;AACtB;AACuB;AACG;AACJ;AACtB;AAIF;AAAqB;AACZ;AACU;AACD;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF;AACA;AACQ;AACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF;AAGF;AAKF;AAGK;AACL;AACA;AACE;AAAU;AACR;AACF;AAEF;AACF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e8271c17f910dca105fd66c7ea99f94ce660e8d8"},r=s[l]||(s[l]={});(!r[t]||r[t].hash!==i)&&(r[t]=C);var c=r[t];return n=function(){return c},c}n();const W=(n().s[0]++,d.createContext(void 0)),N=(n().s[1]++,{session:{id:null,isActive:!1,metadata:{}},events:{pending:[],processing:[],failed:[]},config:{isTrackingEnabled:!1,batchSize:10,flushInterval:3e4}});n().s[2]++;const Z=()=>(n().f[0]++,n().s[3]++,Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15));n().s[4]++;const J=(t,i)=>{switch(n().f[1]++,n().s[5]++,i.type){case"ADD_EVENT":n().b[0][0]++;{if(n().s[6]++,n().b[2][0]++,!t.session.isActive||(n().b[2][1]++,!t.config.isTrackingEnabled))return n().b[1][0]++,n().s[7]++,t;n().b[1][1]++;const s=(n().s[8]++,{id:Z(),type:i.payload.eventType,contentId:(n().b[3][0]++,i.payload.contentId||(n().b[3][1]++,void 0)),timestamp:Date.now(),metadata:(n().b[4][0]++,i.payload.metadata||(n().b[4][1]++,{})),persisted:!1});return n().s[9]++,console.log(`[InteractionTracker] Adding event: ${i.payload.eventType}`,s),n().s[10]++,{...t,events:{...t.events,pending:[...t.events.pending,s]}}}case"SET_EVENTS_PROCESSING":n().b[0][1]++;{const{processing:s,failed:l}=(n().s[11]++,t.events),C=(n().s[12]++,i.payload.events),r=(n().s[13]++,new Set(C.map(c=>(n().f[2]++,n().s[14]++,c.id))));return n().s[15]++,console.log(`[InteractionTracker Reducer] Moving ${C.length} events to processing.`),n().s[16]++,{...t,events:{pending:t.events.pending.filter(c=>(n().f[3]++,n().s[17]++,!r.has(c.id))),processing:[...s,...C],failed:l}}}case"SET_EVENTS_PERSISTED":n().b[0][2]++;{const s=(n().s[18]++,new Set(i.payload.processedIds));return n().s[19]++,console.log(`[InteractionTracker Reducer] Marking ${s.size} events as persisted.`),n().s[20]++,{...t,events:{...t.events,processing:t.events.processing.filter(l=>(n().f[4]++,n().s[21]++,!s.has(l.id)))}}}case"SET_EVENTS_FAILED":n().b[0][3]++;{const s=(n().s[22]++,i.payload.events),l=(n().s[23]++,new Set(s.map(C=>(n().f[5]++,n().s[24]++,C.id))));return n().s[25]++,console.warn(`[InteractionTracker Reducer] Marking ${s.length} events as failed.`),n().s[26]++,{...t,events:{...t.events,processing:t.events.processing.filter(C=>(n().f[6]++,n().s[27]++,!l.has(C.id))),failed:[...t.events.failed,...s]}}}case"SET_SESSION":return n().b[0][4]++,n().s[28]++,{...t,session:{id:i.payload.sessionId,isActive:i.payload.sessionId!==null,metadata:(n().b[5][0]++,i.payload.metadata||(n().b[5][1]++,t.session.metadata))}};case"SET_TRACKING_ENABLED":return n().b[0][5]++,n().s[29]++,{...t,config:{...t.config,isTrackingEnabled:i.payload}};case"UPDATE_CONFIG":return n().b[0][6]++,n().s[30]++,{...t,config:{...t.config,...i.payload}};default:return n().b[0][7]++,n().s[31]++,t}};n().s[32]++;const R=({children:t,dataService:i,apiClient:s,userId:l,batchSize:C=(n().b[6][0]++,10),flushInterval:r=(n().b[7][0]++,3e4)})=>{n().f[7]++;const[c,p]=(n().s[33]++,d.useReducer(J,{...N,config:{...N.config,isTrackingEnabled:!!l,batchSize:C,flushInterval:r}}));n().s[34]++,d.useEffect(()=>{n().f[8]++;let A=(n().s[35]++,!0);n().s[36]++;const o=async()=>{if(n().f[9]++,n().s[37]++,l)if(n().b[8][0]++,n().s[38]++,console.log(`[InteractionTracker] Attempting to start session for userId: ${l}`),n().s[39]++,i.startUserSession){n().b[9][0]++,n().s[40]++,p({type:"SET_TRACKING_ENABLED",payload:!1}),n().s[41]++,p({type:"SET_SESSION",payload:{sessionId:null}}),n().s[42]++;try{const m=(n().s[43]++,await i.startUserSession(l));if(n().s[44]++,n().b[11][0]++,A&&(n().b[11][1]++,m)&&(n().b[11][2]++,m.id))n().b[10][0]++,n().s[45]++,console.log(`[InteractionTracker] Session started successfully. Session ID: ${m.id}`),n().s[46]++,p({type:"SET_SESSION",payload:{sessionId:m.id,metadata:{userId:l,startedAt:new Date().toISOString()}}}),n().s[47]++,p({type:"SET_TRACKING_ENABLED",payload:!0});else if(n().b[10][1]++,n().s[48]++,A){n().b[12][0]++,n().s[49]++,console.warn("[InteractionTracker] Failed to start session or get session ID from service.");const E=(n().s[50]++,`session_${l}_${Date.now()}`);n().s[51]++,p({type:"SET_SESSION",payload:{sessionId:E,metadata:{userId:l,startedAt:new Date().toISOString(),fallback:!0}}}),n().s[52]++,p({type:"SET_TRACKING_ENABLED",payload:!0})}else n().b[12][1]++}catch(m){if(n().s[53]++,console.warn("[InteractionTracker] Error during session initialization, using fallback:",m),n().s[54]++,A){n().b[13][0]++;const E=(n().s[55]++,`session_${l}_${Date.now()}`);n().s[56]++,p({type:"SET_SESSION",payload:{sessionId:E,metadata:{userId:l,startedAt:new Date().toISOString(),fallback:!0}}}),n().s[57]++,p({type:"SET_TRACKING_ENABLED",payload:!0})}else n().b[13][1]++}}else{n().b[9][1]++,n().s[58]++,console.log("[InteractionTracker] No startUserSession method, creating simple session.");const m=(n().s[59]++,`session_${l}_${Date.now()}`);n().s[60]++,p({type:"SET_SESSION",payload:{sessionId:m,metadata:{userId:l,startedAt:new Date().toISOString(),simple:!0}}}),n().s[61]++,p({type:"SET_TRACKING_ENABLED",payload:!0})}else n().b[8][1]++,n().s[62]++,console.log("[InteractionTracker] No userId provided, disabling tracking."),n().s[63]++,p({type:"SET_SESSION",payload:{sessionId:null}}),n().s[64]++,p({type:"SET_TRACKING_ENABLED",payload:!1})};return n().s[65]++,o(),n().s[66]++,()=>{n().f[10]++,n().s[67]++,A=!1}},[l,i]),n().s[68]++,d.useEffect(()=>(n().f[11]++,n().s[69]++,()=>{n().f[12]++,n().s[70]++,n().b[15][0]++,c.session.id&&(n().b[15][1]++,i.endUserSession)?(n().b[14][0]++,n().s[71]++,console.log(`[InteractionTracker] Ending session: ${c.session.id}`),n().s[72]++,i.endUserSession(c.session.id).catch(A=>{n().f[13]++,n().s[73]++,console.error("[InteractionTracker] Error ending session:",A)})):n().b[14][1]++}),[c.session.id,i]),n().s[74]++,d.useEffect(()=>{if(n().f[14]++,n().s[75]++,n().b[17][0]++,c.config.isTrackingEnabled&&(n().b[17][1]++,c.session.isActive)){n().b[16][0]++;const A=(n().s[76]++,setInterval(()=>{n().f[15]++,n().s[77]++,c.events.pending.length>0?(n().b[18][0]++,n().s[78]++,y()):n().b[18][1]++},c.config.flushInterval));return n().s[79]++,()=>(n().f[16]++,n().s[80]++,clearInterval(A))}else n().b[16][1]++;n().s[81]++},[c.config.isTrackingEnabled,c.session.isActive,c.config.flushInterval,c.events.pending.length]);const y=(n().s[82]++,d.useCallback(async()=>{n().f[17]++;const A=(n().s[83]++,[...c.events.pending]);if(n().s[84]++,A.length===0){n().b[19][0]++,n().s[85]++;return}else n().b[19][1]++;n().s[86]++,console.log(`[InteractionTracker] Flushing ${A.length} pending events...`),n().s[87]++,p({type:"SET_EVENTS_PROCESSING",payload:{events:A}}),n().s[88]++;try{if(n().s[89]++,s){n().b[20][0]++;const o=(n().s[90]++,A.map(m=>(n().f[18]++,n().s[91]++,{user_id:l,event_type:m.type,content_id:(n().b[21][0]++,m.contentId||(n().b[21][1]++,null)),timestamp:m.timestamp,session_id:c.session.id,metadata:m.metadata})));n().s[92]++,console.log("[InteractionTracker] Events mapped for API client:",o),n().s[93]++,await Promise.all(o.map(m=>(n().f[19]++,n().s[94]++,n().b[22][0]++,s.trackAnalyticsEvent?.(m)||(n().b[22][1]++,Promise.resolve()))))}else{n().b[20][1]++;const o=(n().s[95]++,A.map(m=>(n().f[20]++,n().s[96]++,{userId:l,event_type:m.type,contentId:(n().b[23][0]++,m.contentId||(n().b[23][1]++,null)),timestamp:m.timestamp,sessionId:c.session.id,...m.metadata})));n().s[97]++,console.log("[InteractionTracker] Events mapped for analytics service:",o),n().s[98]++,await Promise.all(o.map(m=>(n().f[21]++,n().s[99]++,i.trackEvent(m))))}n().s[100]++,console.log(`[InteractionTracker] Successfully persisted ${A.length} events.`),n().s[101]++,p({type:"SET_EVENTS_PERSISTED",payload:{processedIds:A.map(o=>(n().f[22]++,n().s[102]++,o.id))}})}catch(o){n().s[103]++,console.error("Failed to persist events:",o),n().s[104]++,p({type:"SET_EVENTS_FAILED",payload:{events:A}})}},[i,c.events.pending,l,p])),a=(n().s[105]++,d.useCallback((A,o,m=(n().b[24][0]++,{}))=>{n().f[23]++,n().s[106]++,p({type:"ADD_EVENT",payload:{eventType:A,contentId:o?.toString(),metadata:{...m,timestamp:Date.now(),userId:l}}})},[l])),I=(n().s[107]++,d.useCallback(A=>{n().f[24]++;const{eventType:o,contentId:m,knowledgeId:E,moduleId:b,contentType:q,timestamp:V,...j}=(n().s[108]++,A);n().s[109]++,a(o,m?(n().b[25][0]++,parseInt(m,10)):(n().b[25][1]++,void 0),{knowledgeId:E,moduleId:b,contentType:q,timestamp:(n().b[26][0]++,V||(n().b[26][1]++,Date.now())),...j})},[a])),B=(n().s[110]++,d.useCallback((A,o)=>{n().f[25]++,n().s[111]++,n().b[28][0]++,!o.knowledgeId||(n().b[28][1]++,!o.moduleId)?(n().b[27][0]++,n().s[112]++,console.warn("Missing required fields in trackVideoPlay event data. Required: knowledgeId, moduleId")):n().b[27][1]++,n().s[113]++,a("video_play",A,{...o,timestamp:(n().b[29][0]++,o.timestamp||(n().b[29][1]++,Date.now()))})},[a])),M=(n().s[114]++,d.useCallback((A,o)=>{n().f[26]++,n().s[115]++,n().b[31][0]++,!o.knowledgeId||(n().b[31][1]++,!o.moduleId)?(n().b[30][0]++,n().s[116]++,console.warn("Missing required fields in trackVideoPause event data. Required: knowledgeId, moduleId")):n().b[30][1]++,n().s[117]++,a("video_pause",A,{...o,timestamp:(n().b[32][0]++,o.timestamp||(n().b[32][1]++,Date.now()))})},[a])),S=(n().s[118]++,d.useCallback((A,o)=>{n().f[27]++,n().s[119]++,n().b[34][0]++,!o.knowledgeId||(n().b[34][1]++,!o.moduleId)?(n().b[33][0]++,n().s[120]++,console.warn("Missing required fields in trackVideoComplete event data. Required: knowledgeId, moduleId")):n().b[33][1]++,n().s[121]++,a("video_complete",A,{...o,timestamp:(n().b[35][0]++,o.timestamp||(n().b[35][1]++,Date.now()))})},[a])),v=(n().s[122]++,d.useCallback((A,o)=>{n().f[28]++,n().s[123]++,n().b[37][0]++,!o.knowledgeId||(n().b[37][1]++,!o.moduleId)?(n().b[36][0]++,n().s[124]++,console.warn("Missing required fields in trackVideoProgress event data. Required: knowledgeId, moduleId")):n().b[36][1]++,n().s[125]++,a("video_progress",A,{...o,timestamp:(n().b[38][0]++,o.timestamp||(n().b[38][1]++,Date.now()))})},[a])),_=(n().s[126]++,d.useCallback((A,o)=>(n().f[29]++,n().s[127]++,a("quiz_start",A,o)),[a])),h=(n().s[128]++,d.useCallback((A,o,m)=>(n().f[30]++,n().s[129]++,a("quiz_answer",A,{...m,questionId:o})),[a])),k=(n().s[130]++,d.useCallback((A,o)=>(n().f[31]++,n().s[131]++,a("quiz_complete",A,o)),[a])),D=(n().s[132]++,d.useCallback((A,o)=>(n().f[32]++,n().s[133]++,a("content_view",(n().b[39][0]++,parseInt(A,10)||(n().b[39][1]++,0)),o)),[a])),w=(n().s[134]++,d.useCallback(A=>{n().f[33]++;const{knowledgeId:o,moduleId:m,scenarioId:E,...b}=(n().s[135]++,A);n().s[136]++,a("roleplay_start",(n().b[40][0]++,parseInt(E,10)||(n().b[40][1]++,0)),{knowledgeId:o,moduleId:m,scenarioId:E,...b,interactionType:"scenario_selection"})},[a])),K=(n().s[137]++,d.useCallback(A=>{n().f[34]++;const{knowledgeId:o,moduleId:m,scenarioId:E,...b}=(n().s[138]++,A);n().s[139]++,a("roleplay_response",(n().b[41][0]++,parseInt(E,10)||(n().b[41][1]++,0)),{knowledgeId:o,moduleId:m,scenarioId:E,...b,interactionType:"teacher_response"})},[a])),G=(n().s[140]++,d.useCallback(A=>{n().f[35]++;const{knowledgeId:o,moduleId:m,scenarioId:E,...b}=(n().s[141]++,A);n().s[142]++,a("roleplay_complete",(n().b[42][0]++,parseInt(E,10)||(n().b[42][1]++,0)),{knowledgeId:o,moduleId:m,scenarioId:E,...b,interactionType:"completion"})},[a])),F=(n().s[143]++,d.useCallback(A=>{n().f[36]++,n().s[144]++,n().b[44][0]++,!A.knowledgeId||(n().b[44][1]++,!A.moduleId)?(n().b[43][0]++,n().s[145]++,console.warn("Missing required fields in trackNavigation event data. Required: knowledgeId, moduleId")):n().b[43][1]++,n().s[146]++,a("navigation",0,{...A,timestamp:(n().b[45][0]++,A.timestamp||(n().b[45][1]++,Date.now()))})},[a])),O=(n().s[147]++,d.useCallback((A,o)=>{n().f[37]++,n().s[148]++,n().b[47][0]++,!o.knowledgeId||(n().b[47][1]++,!o.moduleId)?(n().b[46][0]++,n().s[149]++,console.warn("Missing required fields in trackMindMapInteraction event data. Required: knowledgeId, moduleId")):n().b[46][1]++,n().s[150]++,a("mindmap_interaction",(n().b[48][0]++,parseInt(A,10)||(n().b[48][1]++,0)),{...o,timestamp:(n().b[49][0]++,o.timestamp||(n().b[49][1]++,Date.now()))})},[a])),T=(n().s[151]++,d.useCallback(A=>{n().f[38]++,n().s[152]++,a("topic_generation_start",0,{...A,timestamp:Date.now()})},[a])),Q=(n().s[153]++,d.useCallback(A=>{n().f[39]++,n().s[154]++,a("topic_generation_complete",(n().b[50][0]++,parseInt(A.knowledge_id,10)||(n().b[50][1]++,0)),{...A,timestamp:Date.now()})},[a])),x=(n().s[155]++,d.useCallback(A=>{n().f[40]++,n().s[156]++,a("topic_content_view",(n().b[51][0]++,parseInt(A.knowledge_id,10)||(n().b[51][1]++,0)),{...A,timestamp:Date.now()})},[a])),Y=(n().s[157]++,d.useMemo(()=>(n().f[41]++,n().s[158]++,c.events.pending.length),[c.events.pending.length])),U=(n().s[159]++,d.useMemo(()=>(n().f[42]++,n().s[160]++,c.events.pending.length+c.events.processing.length+c.events.failed.length),[c.events.pending.length,c.events.processing.length,c.events.failed.length])),P=(n().s[161]++,d.useMemo(()=>(n().f[43]++,n().s[162]++,{session:c.session,config:c.config,trackEvent:I,trackVideoPlay:B,trackVideoPause:M,trackVideoComplete:S,trackVideoProgress:v,trackQuizStart:_,trackQuizAnswer:h,trackQuizComplete:k,trackContentView:D,trackNavigation:F,trackMindMapInteraction:O,trackRoleplayStart:w,trackRoleplayResponse:K,trackRoleplayComplete:G,trackTopicGenerationStart:T,trackTopicGenerationComplete:Q,trackTopicContentView:x,pendingEventsCount:Y,totalEventsCount:U,flushEvents:y}),[c.session,c.config,I,B,M,S,v,_,h,k,D,F,O,w,K,G,T,Q,x,Y,U,y]));return n().s[163]++,L.jsx(W.Provider,{value:P,children:t})};n().s[164]++;const on=()=>{n().f[44]++;const t=(n().s[165]++,d.useContext(W));if(n().s[166]++,t)n().b[52][1]++;else throw n().b[52][0]++,n().s[167]++,new Error("useInteractionTracker must be used within an InteractionTrackerProvider");return n().s[168]++,t};n().s[169]++;try{n().s[170]++,R.displayName="InteractionTrackerProvider",n().s[171]++,R.__docgenInfo={description:"",displayName:"InteractionTrackerProvider",props:{dataService:{defaultValue:null,description:"",name:"dataService",required:!0,type:{name:"AnalyticsService"}},apiClient:{defaultValue:null,description:"",name:"apiClient",required:!1,type:{name:"DynamicApiClient | null"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}},batchSize:{defaultValue:{value:"10"},description:"",name:"batchSize",required:!1,type:{name:"number"}},flushInterval:{defaultValue:{value:"30000"},description:"",name:"flushInterval",required:!1,type:{name:"number"}}}}}catch{}export{An as O,en as S,ln as a,on as u};
//# sourceMappingURL=InteractionTrackerContext-CvBYxA7b.js.map
