{"version":3,"file":"GraphCanvas.stories-C07Yd-HM.js","sources":["../../src/components/GraphCanvas.stories.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport type { Meta, StoryFn } from '@storybook/react'\nimport GraphCanvas from './GraphCanvas'\nimport { Point, Line, Shape, Text, Offset } from '@/types/geometry'\nimport { InteractionTrackerProvider } from '@/stories/InteractionTrackerContextMock'\n\nexport default {\n  title: 'Components/GraphCanvas',\n  component: GraphCanvas,\n  decorators: [\n    (Story: any) => (\n      <InteractionTrackerProvider>\n        <Story />\n      </InteractionTrackerProvider>\n    ),\n  ],\n} as Meta\n\nconst Template: StoryFn<any> = args => {\n  const [zoom, setZoom] = useState(1)\n  const [offset, setOffset] = useState<Offset>({ x: 0, y: 0 })\n\n  const mapPointToCanvas = (point: Point): Point => ({\n    x: point.x * 50 + 200, // Scale and center the points\n    y: 200 - point.y * 50, // Flip Y axis and scale\n  })\n\n  const mapCanvasToPoint = (canvasPoint: { x: number; y: number }): Point => ({\n    x: (canvasPoint.x - 200) / 50,\n    y: (200 - canvasPoint.y) / 50,\n  })\n\n  return (\n    <div style={{ border: '1px solid #ccc', padding: '8px' }}>\n      <GraphCanvas\n        {...args}\n        zoom={zoom}\n        offset={offset}\n        onZoomChange={setZoom}\n        onOffsetChange={setOffset}\n        mapPointToCanvas={mapPointToCanvas}\n        mapCanvasToPoint={mapCanvasToPoint}\n      />\n    </div>\n  )\n}\n\n// SVG Example with interactive elements\nexport const InteractiveSvgExample = Template.bind({})\nInteractiveSvgExample.args = {\n  width: 400,\n  height: 400,\n  renderingMode: 'svg',\n  points: [\n    { x: -2, y: 1 },\n    { x: 0, y: 0 },\n    { x: 2, y: 2 },\n  ],\n  lines: [\n    {\n      start: { x: -2, y: -2 },\n      end: { x: 2, y: 2 },\n      color: 'blue',\n      strokeWidth: 2,\n    },\n  ],\n  shapes: [\n    {\n      type: 'rectangle',\n      topLeft: { x: -1, y: -1 },\n      bottomRight: { x: 1, y: 1 },\n      fill: 'rgba(200, 200, 200, 0.5)',\n    },\n  ],\n  texts: [\n    {\n      text: 'Click me!',\n      position: { x: 0, y: 2 },\n      fontSize: '14px',\n    },\n  ],\n  onElementClick: (type: string, index: number, data: any) => {\n    console.log('Clicked element:', { type, index, data })\n    alert(`Clicked ${type} at index ${index}`)\n  },\n}\n\n// P5 Example with slope drawing\nexport const InteractiveP5Example = Template.bind({})\nInteractiveP5Example.args = {\n  width: 400,\n  height: 400,\n  renderingMode: 'p5',\n  drawingMode: 'slope',\n  points: [\n    { x: -1, y: -1 },\n    { x: 1, y: 1 },\n  ],\n  customPoints: [{ x: 0, y: 0 }],\n  customLines: [\n    {\n      start: { x: -2, y: 0 },\n      end: { x: 2, y: 0 },\n      color: 'red',\n    },\n  ],\n  shapes: [\n    {\n      type: 'rectangle',\n      topLeft: { x: -0.5, y: -0.5 },\n      bottomRight: { x: 0.5, y: 0.5 },\n      fill: 'rgba(100, 200, 100, 0.3)',\n    },\n  ],\n  texts: [\n    {\n      text: 'Origin',\n      position: { x: 0, y: -0.2 },\n    },\n  ],\n  onElementClick: (type: string, index: number, data: any) => {\n    console.log('Clicked element:', { type, index, data })\n    alert(`Clicked ${type} at index ${index}`)\n  },\n  editMode: true,\n  drawingTool: 'point',\n  highlightSolution: false,\n}\n"],"names":["GraphCanvas_stories","title","component","GraphCanvas","decorators","Story","InteractionTrackerProvider","jsx","Template","args","zoom","setZoom","useState","offset","setOffset","x","y","mapPointToCanvas","point","mapCanvasToPoint","canvasPoint","border","padding","InteractiveSvgExample","bind","width","height","renderingMode","points","lines","start","end","color","strokeWidth","shapes","type","topLeft","bottomRight","fill","texts","text","position","fontSize","onElementClick","index","data","console","log","alert","InteractiveP5Example","drawingMode","customPoints","customLines","editMode","drawingTool","highlightSolution","parameters","docs","source","originalSource"],"mappings":"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"}