var T=Object.defineProperty;var H=(s,l,e)=>l in s?T(s,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[l]=e;var S=(s,l,e)=>H(s,typeof l!="symbol"?l+"":l,e);import{j as i}from"./jsx-runtime-D_zvdyIk.js";import{r as m}from"./index-oxIuDU2I.js";import{u as $,O as P,S as X,a as J}from"./InteractionTrackerContext-CoH6j3_1.js";import{B as _}from"./button-eFm21kA6.js";import{T as Z}from"./textarea-BqieMxdA.js";import{c as Q}from"./createLucideIcon-DUWlDEBy.js";import{L as AA}from"./loader-circle-qNWLSv1Y.js";import{X as W}from"./x-DCH7TPgH.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eA=Q("message-square",nA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],oA=Q("mic-off",lA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],tA=Q("mic",iA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],sA=Q("volume-2",cA);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],aA=Q("volume-x",uA);function n(){var s="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/voice-service.ts",l="fb054ee3f33e2188a138207cc7f9df5f97f2f414",e=window,o="__coverage__",a={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/voice-service.ts",statementMap:{0:{start:{line:2,column:16},end:{line:2,column:20}},1:{start:{line:3,column:25},end:{line:3,column:27}},2:{start:{line:4,column:19},end:{line:4,column:21}},3:{start:{line:5,column:17},end:{line:5,column:22}},4:{start:{line:6,column:16},end:{line:6,column:21}},5:{start:{line:8,column:4},end:{line:8,column:34}},6:{start:{line:11,column:4},end:{line:11,column:78}},7:{start:{line:14,column:4},end:{line:14,column:29}},8:{start:{line:17,column:4},end:{line:17,column:28}},9:{start:{line:20,column:4},end:{line:20,column:55}},10:{start:{line:20,column:48},end:{line:20,column:55}},11:{start:{line:21,column:30},end:{line:21,column:60}},12:{start:{line:22,column:4},end:{line:22,column:47}},13:{start:{line:23,column:4},end:{line:23,column:40}},14:{start:{line:24,column:4},end:{line:24,column:44}},15:{start:{line:25,column:4},end:{line:25,column:36}},16:{start:{line:26,column:4},end:{line:29,column:6}},17:{start:{line:27,column:6},end:{line:27,column:31}},18:{start:{line:28,column:6},end:{line:28,column:44}},19:{start:{line:30,column:4},end:{line:33,column:6}},20:{start:{line:31,column:6},end:{line:31,column:32}},21:{start:{line:32,column:6},end:{line:32,column:42}},22:{start:{line:34,column:4},end:{line:37,column:6}},23:{start:{line:35,column:25},end:{line:35,column:55}},24:{start:{line:36,column:6},end:{line:36,column:55}},25:{start:{line:38,column:4},end:{line:42,column:6}},26:{start:{line:39,column:6},end:{line:39,column:62}},27:{start:{line:40,column:6},end:{line:40,column:32}},28:{start:{line:41,column:6},end:{line:41,column:55}},29:{start:{line:45,column:4},end:{line:45,column:55}},30:{start:{line:45,column:48},end:{line:45,column:55}},31:{start:{line:46,column:4},end:{line:54,column:7}},32:{start:{line:47,column:6},end:{line:47,column:58}},33:{start:{line:47,column:48},end:{line:47,column:57}},34:{start:{line:48,column:6},end:{line:48,column:67}},35:{start:{line:48,column:53},end:{line:48,column:66}},36:{start:{line:49,column:6},end:{line:53,column:7}},37:{start:{line:50,column:8},end:{line:50,column:33}},38:{start:{line:52,column:8},end:{line:52,column:22}},39:{start:{line:57,column:4},end:{line:59,column:5}},40:{start:{line:58,column:6},end:{line:58,column:30}},41:{start:{line:62,column:4},end:{line:62,column:40}},42:{start:{line:62,column:33},end:{line:62,column:40}},43:{start:{line:63,column:4},end:{line:63,column:36}},44:{start:{line:64,column:4},end:{line:64,column:29}},45:{start:{line:65,column:26},end:{line:65,column:49}},46:{start:{line:66,column:22},end:{line:66,column:53}},47:{start:{line:67,column:4},end:{line:100,column:7}},48:{start:{line:68,column:31},end:{line:68,column:32}},49:{start:{line:69,column:6},end:{line:96,column:9}},50:{start:{line:70,column:8},end:{line:70,column:37}},51:{start:{line:70,column:30},end:{line:70,column:37}},52:{start:{line:71,column:26},end:{line:71,column:77}},53:{start:{line:72,column:8},end:{line:72,column:41}},54:{start:{line:73,column:8},end:{line:73,column:44}},55:{start:{line:74,column:8},end:{line:74,column:44}},56:{start:{line:75,column:8},end:{line:75,column:48}},57:{start:{line:76,column:23},end:{line:76,column:57}},58:{start:{line:77,column:30},end:{line:79,column:9}},59:{start:{line:78,column:21},end:{line:78,column:87}},60:{start:{line:80,column:8},end:{line:80,column:59}},61:{start:{line:80,column:27},end:{line:80,column:59}},62:{start:{line:81,column:8},end:{line:83,column:10}},63:{start:{line:82,column:10},end:{line:82,column:34}},64:{start:{line:84,column:8},end:{line:90,column:10}},65:{start:{line:85,column:10},end:{line:85,column:31}},66:{start:{line:86,column:10},end:{line:89,column:11}},67:{start:{line:86,column:60},end:{line:86,column:68}},68:{start:{line:87,column:12},end:{line:87,column:37}},69:{start:{line:88,column:12},end:{line:88,column:22}},70:{start:{line:91,column:8},end:{line:94,column:10}},71:{start:{line:92,column:10},end:{line:92,column:35}},72:{start:{line:93,column:10},end:{line:93,column:20}},73:{start:{line:95,column:8},end:{line:95,column:44}},74:{start:{line:97,column:6},end:{line:99,column:9}},75:{start:{line:98,column:8},end:{line:98,column:48}},76:{start:{line:103,column:4},end:{line:103,column:36}},77:{start:{line:104,column:4},end:{line:104,column:29}},78:{start:{line:105,column:4},end:{line:105,column:29}},79:{start:{line:108,column:4},end:{line:108,column:42}},80:{start:{line:111,column:4},end:{line:113,column:5}},81:{start:{line:112,column:6},end:{line:112,column:39}},82:{start:{line:116,column:20},end:{line:122,column:5}},83:{start:{line:123,column:22},end:{line:123,column:44}},84:{start:{line:124,column:4},end:{line:128,column:5}},85:{start:{line:125,column:6},end:{line:127,column:7}},86:{start:{line:126,column:8},end:{line:126,column:20}},87:{start:{line:129,column:4},end:{line:129,column:19}},88:{start:{line:132,column:28},end:{line:132,column:53}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:2},end:{line:7,column:3}},loc:{start:{line:7,column:16},end:{line:9,column:3}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:2},end:{line:10,column:3}},loc:{start:{line:10,column:20},end:{line:12,column:3}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:13,column:2},end:{line:13,column:3}},loc:{start:{line:13,column:20},end:{line:15,column:3}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:19},end:{line:18,column:3}},line:16},4:{name:"(anonymous_4)",decl:{start:{line:19,column:2},end:{line:19,column:3}},loc:{start:{line:19,column:27},end:{line:43,column:3}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:26,column:31},end:{line:26,column:32}},loc:{start:{line:26,column:37},end:{line:29,column:5}},line:26},6:{name:"(anonymous_6)",decl:{start:{line:30,column:29},end:{line:30,column:30}},loc:{start:{line:30,column:35},end:{line:33,column:5}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:34,column:32},end:{line:34,column:33}},loc:{start:{line:34,column:43},end:{line:37,column:5}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:38,column:31},end:{line:38,column:32}},loc:{start:{line:38,column:42},end:{line:42,column:5}},line:38},9:{name:"(anonymous_9)",decl:{start:{line:44,column:2},end:{line:44,column:3}},loc:{start:{line:44,column:25},end:{line:55,column:3}},line:44},10:{name:"(anonymous_10)",decl:{start:{line:46,column:23},end:{line:46,column:24}},loc:{start:{line:46,column:44},end:{line:54,column:5}},line:46},11:{name:"(anonymous_11)",decl:{start:{line:47,column:42},end:{line:47,column:43}},loc:{start:{line:47,column:48},end:{line:47,column:57}},line:47},12:{name:"(anonymous_12)",decl:{start:{line:48,column:42},end:{line:48,column:43}},loc:{start:{line:48,column:53},end:{line:48,column:66}},line:48},13:{name:"(anonymous_13)",decl:{start:{line:56,column:2},end:{line:56,column:3}},loc:{start:{line:56,column:18},end:{line:60,column:3}},line:56},14:{name:"(anonymous_14)",decl:{start:{line:61,column:2},end:{line:61,column:3}},loc:{start:{line:61,column:52},end:{line:101,column:3}},line:61},15:{name:"(anonymous_15)",decl:{start:{line:67,column:23},end:{line:67,column:24}},loc:{start:{line:67,column:36},end:{line:100,column:5}},line:67},16:{name:"(anonymous_16)",decl:{start:{line:69,column:24},end:{line:69,column:25}},loc:{start:{line:69,column:45},end:{line:96,column:7}},line:69},17:{name:"(anonymous_17)",decl:{start:{line:78,column:10},end:{line:78,column:11}},loc:{start:{line:78,column:21},end:{line:78,column:87}},line:78},18:{name:"(anonymous_18)",decl:{start:{line:81,column:28},end:{line:81,column:29}},loc:{start:{line:81,column:34},end:{line:83,column:9}},line:81},19:{name:"(anonymous_19)",decl:{start:{line:84,column:26},end:{line:84,column:27}},loc:{start:{line:84,column:32},end:{line:90,column:9}},line:84},20:{name:"(anonymous_20)",decl:{start:{line:86,column:53},end:{line:86,column:54}},loc:{start:{line:86,column:60},end:{line:86,column:68}},line:86},21:{name:"(anonymous_21)",decl:{start:{line:91,column:28},end:{line:91,column:29}},loc:{start:{line:91,column:34},end:{line:94,column:9}},line:91},22:{name:"(anonymous_22)",decl:{start:{line:97,column:34},end:{line:97,column:35}},loc:{start:{line:97,column:49},end:{line:99,column:7}},line:97},23:{name:"(anonymous_23)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:17},end:{line:106,column:3}},line:102},24:{name:"(anonymous_24)",decl:{start:{line:107,column:2},end:{line:107,column:3}},loc:{start:{line:107,column:26},end:{line:109,column:3}},line:107},25:{name:"(anonymous_25)",decl:{start:{line:110,column:2},end:{line:110,column:3}},loc:{start:{line:110,column:24},end:{line:114,column:3}},line:110},26:{name:"(anonymous_26)",decl:{start:{line:115,column:2},end:{line:115,column:3}},loc:{start:{line:115,column:28},end:{line:130,column:3}},line:115}},branchMap:{0:{loc:{start:{line:11,column:11},end:{line:11,column:77}},type:"binary-expr",locations:[{start:{line:11,column:11},end:{line:11,column:46}},{start:{line:11,column:50},end:{line:11,column:77}}],line:11},1:{loc:{start:{line:20,column:4},end:{line:20,column:55}},type:"if",locations:[{start:{line:20,column:4},end:{line:20,column:55}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:45,column:4},end:{line:45,column:55}},type:"if",locations:[{start:{line:45,column:4},end:{line:45,column:55}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:45},3:{loc:{start:{line:45,column:8},end:{line:45,column:46}},type:"binary-expr",locations:[{start:{line:45,column:8},end:{line:45,column:25}},{start:{line:45,column:29},end:{line:45,column:46}}],line:45},4:{loc:{start:{line:57,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:57,column:4},end:{line:59,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},5:{loc:{start:{line:57,column:8},end:{line:57,column:45}},type:"binary-expr",locations:[{start:{line:57,column:8},end:{line:57,column:24}},{start:{line:57,column:28},end:{line:57,column:45}}],line:57},6:{loc:{start:{line:61,column:20},end:{line:61,column:50}},type:"default-arg",locations:[{start:{line:61,column:29},end:{line:61,column:50}}],line:61},7:{loc:{start:{line:62,column:4},end:{line:62,column:40}},type:"if",locations:[{start:{line:62,column:4},end:{line:62,column:40}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:62},8:{loc:{start:{line:70,column:8},end:{line:70,column:37}},type:"if",locations:[{start:{line:70,column:8},end:{line:70,column:37}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:70},9:{loc:{start:{line:73,column:25},end:{line:73,column:43}},type:"binary-expr",locations:[{start:{line:73,column:25},end:{line:73,column:36}},{start:{line:73,column:40},end:{line:73,column:43}}],line:73},10:{loc:{start:{line:74,column:26},end:{line:74,column:43}},type:"binary-expr",locations:[{start:{line:74,column:26},end:{line:74,column:38}},{start:{line:74,column:42},end:{line:74,column:43}}],line:74},11:{loc:{start:{line:75,column:27},end:{line:75,column:47}},type:"binary-expr",locations:[{start:{line:75,column:27},end:{line:75,column:40}},{start:{line:75,column:44},end:{line:75,column:47}}],line:75},12:{loc:{start:{line:80,column:8},end:{line:80,column:59}},type:"if",locations:[{start:{line:80,column:8},end:{line:80,column:59}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},13:{loc:{start:{line:86,column:10},end:{line:89,column:11}},type:"if",locations:[{start:{line:86,column:10},end:{line:89,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},14:{loc:{start:{line:111,column:4},end:{line:113,column:5}},type:"if",locations:[{start:{line:111,column:4},end:{line:113,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:111},15:{loc:{start:{line:125,column:6},end:{line:127,column:7}},type:"if",locations:[{start:{line:125,column:6},end:{line:127,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:125}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/voice-service.ts"],names:[],mappings:"AAiBA,MAAM,oBAA4C;AAAA,EACxC,cAAmB;AAAA,EACnB,uBAKJ,CAAC;AAAA,EAEG,iBAA6C,CAAC;AAAA,EAC9C,eAAe;AAAA,EACf,cAAc;AAAA,EAEtB,cAAc;AACZ,SAAK,uBAAuB;AAAA,EAC9B;AAAA,EAEA,IAAI,cAAuB;AACzB,WAAO,6BAA6B,UAAU,qBAAqB;AAAA,EACrE;AAAA,EAEA,IAAI,cAAuB;AACzB,WAAO,KAAK;AAAA,EACd;AAAA,EAEA,IAAI,aAAsB;AACxB,WAAO,KAAK;AAAA,EACd;AAAA,EAEQ,yBAAyB;AAC/B,QAAI,EAAE,6BAA6B,QAAS;AAE5C,UAAM,oBAAqB,OAAe;AAC1C,SAAK,cAAc,IAAI,kBAAkB;AACzC,SAAK,YAAY,aAAa;AAC9B,SAAK,YAAY,iBAAiB;AAClC,SAAK,YAAY,OAAO;AAExB,SAAK,YAAY,UAAU,MAAM;AAC/B,WAAK,eAAe;AACpB,WAAK,qBAAqB,UAAU;AAAA,IACtC;AAEA,SAAK,YAAY,QAAQ,MAAM;AAC7B,WAAK,eAAe;AACpB,WAAK,qBAAqB,QAAQ;AAAA,IACpC;AAEA,SAAK,YAAY,WAAW,CAAC,UAAe;AAC1C,YAAM,aAAa,MAAM,QAAQ,CAAC,EAAE,CAAC,EAAE;AACvC,WAAK,qBAAqB,WAAW,UAAU;AAAA,IACjD;AAEA,SAAK,YAAY,UAAU,CAAC,UAAe;AACzC,cAAQ,MAAM,6BAA6B,MAAM,KAAK;AACtD,WAAK,eAAe;AACpB,WAAK,qBAAqB,UAAU,MAAM,KAAK;AAAA,IACjD;AAAA,EACF;AAAA,EAEA,MAAM,iBAAgC;AACpC,QAAI,CAAC,KAAK,eAAe,KAAK,aAAc;AAE5C,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,WAAK,qBAAqB,UAAU,MAAM,QAAQ;AAClD,WAAK,qBAAqB,UAAU,CAAC,UAAU,OAAO,KAAK;AAE3D,UAAI;AACF,aAAK,YAAY,MAAM;AAAA,MACzB,SAAS,OAAO;AACd,eAAO,KAAK;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AAAA,EAEA,gBAAsB;AACpB,QAAI,KAAK,eAAe,KAAK,cAAc;AACzC,WAAK,YAAY,KAAK;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,MAAM,MAAM,MAAc,SAAsB,EAAE,UAAU,QAAQ,GAAkB;AACpF,QAAI,CAAC,OAAO,gBAAiB;AAE7B,WAAO,gBAAgB,OAAO;AAC9B,SAAK,iBAAiB,CAAC;AAEvB,UAAM,gBAAgB,KAAK,QAAQ,OAAO,EAAE;AAC5C,UAAM,YAAY,cAAc,MAAM,UAAU;AAEhD,WAAO,IAAI,QAAQ,CAAC,YAAY;AAC9B,UAAI,qBAAqB;AAEzB,gBAAU,QAAQ,CAAC,UAAU,UAAU;AACrC,YAAI,CAAC,SAAS,KAAK,EAAG;AAEtB,cAAM,YAAY,IAAI,yBAAyB,SAAS,KAAK,IAAI,GAAG;AACpE,kBAAU,OAAO,OAAO;AACxB,kBAAU,OAAO,OAAO,QAAQ;AAChC,kBAAU,QAAQ,OAAO,SAAS;AAClC,kBAAU,SAAS,OAAO,UAAU;AAGpC,cAAM,SAAS,OAAO,gBAAgB,UAAU;AAChD,cAAM,gBAAgB,OAAO;AAAA,UAAK,WAChC,MAAM,KAAK,YAAY,EAAE,WAAW,OAAO,SAAS,YAAY,CAAC;AAAA,QACnE;AACA,YAAI,cAAe,WAAU,QAAQ;AAErC,kBAAU,UAAU,MAAM;AACxB,eAAK,cAAc;AAAA,QACrB;AAEA,kBAAU,QAAQ,MAAM;AACtB;AACA,cAAI,sBAAsB,UAAU,OAAO,OAAK,EAAE,KAAK,CAAC,EAAE,QAAQ;AAChE,iBAAK,cAAc;AACnB,oBAAQ;AAAA,UACV;AAAA,QACF;AAEA,kBAAU,UAAU,MAAM;AACxB,eAAK,cAAc;AACnB,kBAAQ;AAAA,QACV;AAEA,aAAK,eAAe,KAAK,SAAS;AAAA,MACpC,CAAC;AAED,WAAK,eAAe,QAAQ,eAAa;AACvC,eAAO,gBAAgB,MAAM,SAAS;AAAA,MACxC,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAAA,EAEA,eAAqB;AACnB,WAAO,gBAAgB,OAAO;AAC9B,SAAK,iBAAiB,CAAC;AACvB,SAAK,cAAc;AAAA,EACrB;AAAA,EAEA,aAAa,WAKV;AACD,SAAK,uBAAuB;AAAA,EAC9B;AAAA,EAEA,YAAY,UAAkB;AAC5B,QAAI,KAAK,aAAa;AACpB,WAAK,YAAY,OAAO;AAAA,IAC1B;AAAA,EACF;AAAA,EAEA,gBAAgB,UAA0B;AACxC,UAAM,UAAkC;AAAA,MACtC,SAAS;AAAA,MACT,cAAc;AAAA,MACd,WAAW;AAAA,MACX,WAAW;AAAA,MACX,WAAW;AAAA,IACb;AAEA,UAAM,YAAY,SAAS,YAAY;AACvC,eAAW,CAAC,KAAK,IAAI,KAAK,OAAO,QAAQ,OAAO,GAAG;AACjD,UAAI,UAAU,SAAS,GAAG,GAAG;AAC3B,eAAO;AAAA,MACT;AAAA,IACF;AACA,WAAO;AAAA,EACT;AACF;AAEO,aAAM,eAAe,IAAI,oBAAoB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fb054ee3f33e2188a138207cc7f9df5f97f2f414"},t=e[o]||(e[o]={});(!t[s]||t[s].hash!==l)&&(t[s]=a);var r=t[s];return n=function(){return r},r}n();class mA{constructor(){S(this,"recognition",(n().s[0]++,null));S(this,"recognitionCallbacks",(n().s[1]++,{}));S(this,"synthesisQueue",(n().s[2]++,[]));S(this,"_isListening",(n().s[3]++,!1));S(this,"_isSpeaking",(n().s[4]++,!1));n().f[0]++,n().s[5]++,this.setupSpeechRecognition()}get isSupported(){return n().f[1]++,n().s[6]++,n().b[0][0]++,"webkitSpeechRecognition"in window&&(n().b[0][1]++,"speechSynthesis"in window)}get isListening(){return n().f[2]++,n().s[7]++,this._isListening}get isSpeaking(){return n().f[3]++,n().s[8]++,this._isSpeaking}setupSpeechRecognition(){if(n().f[4]++,n().s[9]++,"webkitSpeechRecognition"in window)n().b[1][1]++;else{n().b[1][0]++,n().s[10]++;return}const l=(n().s[11]++,window.webkitSpeechRecognition);n().s[12]++,this.recognition=new l,n().s[13]++,this.recognition.continuous=!1,n().s[14]++,this.recognition.interimResults=!1,n().s[15]++,this.recognition.lang="en-US",n().s[16]++,this.recognition.onstart=()=>{var e,o;n().f[5]++,n().s[17]++,this._isListening=!0,n().s[18]++,(o=(e=this.recognitionCallbacks).onStart)==null||o.call(e)},n().s[19]++,this.recognition.onend=()=>{var e,o;n().f[6]++,n().s[20]++,this._isListening=!1,n().s[21]++,(o=(e=this.recognitionCallbacks).onEnd)==null||o.call(e)},n().s[22]++,this.recognition.onresult=e=>{var a,t;n().f[7]++;const o=(n().s[23]++,e.results[0][0].transcript);n().s[24]++,(t=(a=this.recognitionCallbacks).onResult)==null||t.call(a,o)},n().s[25]++,this.recognition.onerror=e=>{var o,a;n().f[8]++,n().s[26]++,console.error("Speech recognition error:",e.error),n().s[27]++,this._isListening=!1,n().s[28]++,(a=(o=this.recognitionCallbacks).onError)==null||a.call(o,e.error)}}async startListening(){if(n().f[9]++,n().s[29]++,n().b[3][0]++,!this.recognition||(n().b[3][1]++,this._isListening)){n().b[2][0]++,n().s[30]++;return}else n().b[2][1]++;return n().s[31]++,new Promise((l,e)=>{n().f[10]++,n().s[32]++,this.recognitionCallbacks.onStart=()=>(n().f[11]++,n().s[33]++,l()),n().s[34]++,this.recognitionCallbacks.onError=o=>(n().f[12]++,n().s[35]++,e(o)),n().s[36]++;try{n().s[37]++,this.recognition.start()}catch(o){n().s[38]++,e(o)}})}stopListening(){n().f[13]++,n().s[39]++,n().b[5][0]++,this.recognition&&(n().b[5][1]++,this._isListening)?(n().b[4][0]++,n().s[40]++,this.recognition.stop()):n().b[4][1]++}async speak(l,e=(n().b[6][0]++,{language:"en-US"})){if(n().f[14]++,n().s[41]++,window.speechSynthesis)n().b[7][1]++;else{n().b[7][0]++,n().s[42]++;return}n().s[43]++,window.speechSynthesis.cancel(),n().s[44]++,this.synthesisQueue=[];const o=(n().s[45]++,l.replace(/\*/g,"")),a=(n().s[46]++,o.split(/[.?!]\s+/));return n().s[47]++,new Promise(t=>{n().f[15]++;let r=(n().s[48]++,0);n().s[49]++,a.forEach((h,w)=>{if(n().f[16]++,n().s[50]++,h.trim())n().b[8][1]++;else{n().b[8][0]++,n().s[51]++;return}const B=(n().s[52]++,new SpeechSynthesisUtterance(h.trim()+"."));n().s[53]++,B.lang=e.language,n().s[54]++,B.rate=(n().b[9][0]++,e.rate||(n().b[9][1]++,.9)),n().s[55]++,B.pitch=(n().b[10][0]++,e.pitch||(n().b[10][1]++,1)),n().s[56]++,B.volume=(n().b[11][0]++,e.volume||(n().b[11][1]++,.8));const E=(n().s[57]++,window.speechSynthesis.getVoices()),M=(n().s[58]++,E.find(g=>(n().f[17]++,n().s[59]++,g.lang.toLowerCase().startsWith(e.language.toLowerCase()))));n().s[60]++,M?(n().b[12][0]++,n().s[61]++,B.voice=M):n().b[12][1]++,n().s[62]++,B.onstart=()=>{n().f[18]++,n().s[63]++,this._isSpeaking=!0},n().s[64]++,B.onend=()=>{n().f[19]++,n().s[65]++,r++,n().s[66]++,r>=a.filter(g=>(n().f[20]++,n().s[67]++,g.trim())).length?(n().b[13][0]++,n().s[68]++,this._isSpeaking=!1,n().s[69]++,t()):n().b[13][1]++},n().s[70]++,B.onerror=()=>{n().f[21]++,n().s[71]++,this._isSpeaking=!1,n().s[72]++,t()},n().s[73]++,this.synthesisQueue.push(B)}),n().s[74]++,this.synthesisQueue.forEach(h=>{n().f[22]++,n().s[75]++,window.speechSynthesis.speak(h)})})}stopSpeaking(){n().f[23]++,n().s[76]++,window.speechSynthesis.cancel(),n().s[77]++,this.synthesisQueue=[],n().s[78]++,this._isSpeaking=!1}setCallbacks(l){n().f[24]++,n().s[79]++,this.recognitionCallbacks=l}setLanguage(l){n().f[25]++,n().s[80]++,this.recognition?(n().b[14][0]++,n().s[81]++,this.recognition.lang=l):n().b[14][1]++}getLanguageCode(l){n().f[26]++;const e=(n().s[82]++,{hindi:"hi-IN",vietnamese:"vi-VN",bengali:"bn-IN",marathi:"mr-IN",english:"en-US"}),o=(n().s[83]++,l.toLowerCase());n().s[84]++;for(const[a,t]of Object.entries(e)){if(n().s[85]++,o.includes(a))return n().b[15][0]++,n().s[86]++,t;n().b[15][1]++}return n().s[87]++,"en-US"}}const p=(n().s[88]++,new mA);function A(){var s="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ChatBot.tsx",l="47e1cc0563b4428d0de462ec3902e1f3d2d5eaaa",e=window,o="__coverage__",a={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ChatBot.tsx",statementMap:{0:{start:{line:1,column:33},end:{line:1,column:35}},1:{start:{line:10,column:21},end:{line:316,column:1}},2:{start:{line:11,column:42},end:{line:11,column:54}},3:{start:{line:12,column:20},end:{line:12,column:34}},4:{start:{line:13,column:17},end:{line:13,column:114}},5:{start:{line:14,column:36},end:{line:14,column:50}},6:{start:{line:15,column:38},end:{line:17,column:3}},7:{start:{line:18,column:40},end:{line:18,column:55}},8:{start:{line:19,column:38},end:{line:19,column:53}},9:{start:{line:20,column:36},end:{line:20,column:51}},10:{start:{line:21,column:42},end:{line:26,column:4}},11:{start:{line:27,column:25},end:{line:27,column:35}},12:{start:{line:28,column:27},end:{line:28,column:39}},13:{start:{line:29,column:25},end:{line:29,column:35}},14:{start:{line:30,column:25},end:{line:30,column:37}},15:{start:{line:31,column:29},end:{line:31,column:41}},16:{start:{line:32,column:2},end:{line:48,column:17}},17:{start:{line:33,column:32},end:{line:36,column:5}},18:{start:{line:34,column:21},end:{line:34,column:55}},19:{start:{line:35,column:6},end:{line:35,column:51}},20:{start:{line:37,column:4},end:{line:40,column:6}},21:{start:{line:41,column:4},end:{line:41,column:26}},22:{start:{line:42,column:4},end:{line:47,column:6}},23:{start:{line:43,column:6},end:{line:46,column:8}},24:{start:{line:49,column:2},end:{line:67,column:36}},25:{start:{line:50,column:4},end:{line:52,column:5}},26:{start:{line:51,column:6},end:{line:51,column:46}},27:{start:{line:53,column:4},end:{line:64,column:7}},28:{start:{line:55,column:8},end:{line:55,column:36}},29:{start:{line:56,column:8},end:{line:56,column:28}},30:{start:{line:59,column:8},end:{line:59,column:57}},31:{start:{line:60,column:8},end:{line:60,column:28}},32:{start:{line:62,column:21},end:{line:62,column:41}},33:{start:{line:63,column:19},end:{line:63,column:40}},34:{start:{line:65,column:21},end:{line:65,column:59}},35:{start:{line:66,column:4},end:{line:66,column:39}},36:{start:{line:68,column:2},end:{line:72,column:21}},37:{start:{line:69,column:4},end:{line:71,column:5}},38:{start:{line:70,column:6},end:{line:70,column:72}},39:{start:{line:73,column:23},end:{line:73,column:56}},40:{start:{line:73,column:33},end:{line:73,column:56}},41:{start:{line:74,column:28},end:{line:102,column:8}},42:{start:{line:75,column:4},end:{line:75,column:36}},43:{start:{line:76,column:4},end:{line:76,column:32}},44:{start:{line:77,column:22},end:{line:77,column:43}},45:{start:{line:78,column:22},end:{line:78,column:49}},46:{start:{line:79,column:4},end:{line:98,column:7}},47:{start:{line:80,column:6},end:{line:80,column:35}},48:{start:{line:80,column:28},end:{line:80,column:35}},49:{start:{line:81,column:20},end:{line:81,column:41}},50:{start:{line:82,column:24},end:{line:82,column:59}},51:{start:{line:83,column:6},end:{line:83,column:32}},52:{start:{line:84,column:24},end:{line:84,column:58}},53:{start:{line:85,column:28},end:{line:87,column:7}},54:{start:{line:86,column:19},end:{line:86,column:78}},55:{start:{line:88,column:6},end:{line:88,column:57}},56:{start:{line:88,column:25},end:{line:88,column:57}},57:{start:{line:89,column:6},end:{line:91,column:8}},58:{start:{line:90,column:8},end:{line:90,column:28}},59:{start:{line:92,column:6},end:{line:96,column:8}},60:{start:{line:93,column:8},end:{line:95,column:9}},61:{start:{line:94,column:10},end:{line:94,column:31}},62:{start:{line:97,column:6},end:{line:97,column:45}},63:{start:{line:99,column:4},end:{line:101,column:7}},64:{start:{line:100,column:6},end:{line:100,column:38}},65:{start:{line:103,column:26},end:{line:140,column:3}},66:{start:{line:105,column:6},end:{line:108,column:7}},67:{start:{line:106,column:8},end:{line:106,column:44}},68:{start:{line:107,column:8},end:{line:107,column:18}},69:{start:{line:109,column:23},end:{line:109,column:37}},70:{start:{line:110,column:6},end:{line:110,column:55}},71:{start:{line:111,column:6},end:{line:111,column:44}},72:{start:{line:112,column:30},end:{line:112,column:34}},73:{start:{line:113,column:6},end:{line:119,column:7}},74:{start:{line:114,column:26},end:{line:114,column:48}},75:{start:{line:115,column:8},end:{line:118,column:73}},76:{start:{line:115,column:41},end:{line:115,column:66}},77:{start:{line:116,column:13},end:{line:118,column:73}},78:{start:{line:116,column:51},end:{line:116,column:76}},79:{start:{line:117,column:13},end:{line:118,column:73}},80:{start:{line:117,column:48},end:{line:117,column:73}},81:{start:{line:118,column:13},end:{line:118,column:73}},82:{start:{line:118,column:48},end:{line:118,column:73}},83:{start:{line:120,column:6},end:{line:120,column:53}},84:{start:{line:121,column:6},end:{line:137,column:7}},85:{start:{line:122,column:25},end:{line:131,column:9}},86:{start:{line:132,column:21},end:{line:132,column:42}},87:{start:{line:133,column:8},end:{line:133,column:25}},88:{start:{line:135,column:8},end:{line:135,column:58}},89:{start:{line:136,column:8},end:{line:136,column:18}},90:{start:{line:141,column:21},end:{line:194,column:4}},91:{start:{line:142,column:4},end:{line:145,column:5}},92:{start:{line:143,column:6},end:{line:143,column:45}},93:{start:{line:144,column:6},end:{line:144,column:13}},94:{start:{line:146,column:4},end:{line:149,column:5}},95:{start:{line:147,column:6},end:{line:147,column:60}},96:{start:{line:148,column:6},end:{line:148,column:13}},97:{start:{line:150,column:4},end:{line:150,column:82}},98:{start:{line:150,column:30},end:{line:150,column:80}},99:{start:{line:151,column:4},end:{line:151,column:23}},100:{start:{line:152,column:4},end:{line:185,column:5}},101:{start:{line:153,column:28},end:{line:167,column:7}},102:{start:{line:159,column:40},end:{line:162,column:11}},103:{start:{line:168,column:6},end:{line:168,column:35}},104:{start:{line:169,column:6},end:{line:172,column:9}},105:{start:{line:169,column:32},end:{line:172,column:7}},106:{start:{line:173,column:6},end:{line:173,column:26}},107:{start:{line:174,column:23},end:{line:174,column:61}},108:{start:{line:175,column:6},end:{line:175,column:64}},109:{start:{line:176,column:6},end:{line:176,column:26}},110:{start:{line:177,column:6},end:{line:179,column:7}},111:{start:{line:178,column:8},end:{line:178,column:38}},112:{start:{line:181,column:6},end:{line:181,column:60}},113:{start:{line:182,column:6},end:{line:182,column:45}},114:{start:{line:184,column:6},end:{line:184,column:26}},115:{start:{line:195,column:26},end:{line:212,column:19}},116:{start:{line:196,column:4},end:{line:199,column:5}},117:{start:{line:197,column:6},end:{line:197,column:67}},118:{start:{line:198,column:6},end:{line:198,column:13}},119:{start:{line:200,column:4},end:{line:211,column:5}},120:{start:{line:201,column:6},end:{line:208,column:7}},121:{start:{line:202,column:8},end:{line:202,column:27}},122:{start:{line:203,column:8},end:{line:203,column:44}},123:{start:{line:205,column:8},end:{line:205,column:64}},124:{start:{line:206,column:8},end:{line:206,column:52}},125:{start:{line:207,column:8},end:{line:207,column:28}},126:{start:{line:210,column:6},end:{line:210,column:35}},127:{start:{line:213,column:25},end:{line:222,column:40}},128:{start:{line:214,column:4},end:{line:221,column:5}},129:{start:{line:215,column:6},end:{line:215,column:34}},130:{start:{line:216,column:6},end:{line:216,column:27}},131:{start:{line:218,column:23},end:{line:218,column:61}},132:{start:{line:219,column:6},end:{line:219,column:61}},133:{start:{line:220,column:6},end:{line:220,column:26}},134:{start:{line:223,column:2},end:{line:315,column:4}},135:{start:{line:234,column:75},end:{line:247,column:13}},136:{start:{line:258,column:33},end:{line:258,column:64}},137:{start:{line:318,column:0},end:{line:322,column:1}},138:{start:{line:319,column:2},end:{line:319,column:34}},139:{start:{line:320,column:2},end:{line:320,column:490}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:10,column:21},end:{line:10,column:22}},loc:{start:{line:10,column:63},end:{line:316,column:1}},line:10},1:{name:"(anonymous_1)",decl:{start:{line:32,column:12},end:{line:32,column:13}},loc:{start:{line:32,column:18},end:{line:48,column:3}},line:32},2:{name:"(anonymous_2)",decl:{start:{line:33,column:32},end:{line:33,column:33}},loc:{start:{line:33,column:38},end:{line:36,column:5}},line:33},3:{name:"(anonymous_3)",decl:{start:{line:42,column:11},end:{line:42,column:12}},loc:{start:{line:42,column:17},end:{line:47,column:5}},line:42},4:{name:"(anonymous_4)",decl:{start:{line:49,column:12},end:{line:49,column:13}},loc:{start:{line:49,column:18},end:{line:67,column:3}},line:49},5:{name:"(anonymous_5)",decl:{start:{line:54,column:16},end:{line:54,column:17}},loc:{start:{line:54,column:32},end:{line:57,column:7}},line:54},6:{name:"(anonymous_6)",decl:{start:{line:58,column:15},end:{line:58,column:16}},loc:{start:{line:58,column:26},end:{line:61,column:7}},line:58},7:{name:"(anonymous_7)",decl:{start:{line:62,column:15},end:{line:62,column:16}},loc:{start:{line:62,column:21},end:{line:62,column:41}},line:62},8:{name:"(anonymous_8)",decl:{start:{line:63,column:13},end:{line:63,column:14}},loc:{start:{line:63,column:19},end:{line:63,column:40}},line:63},9:{name:"(anonymous_9)",decl:{start:{line:68,column:12},end:{line:68,column:13}},loc:{start:{line:68,column:18},end:{line:72,column:3}},line:68},10:{name:"(anonymous_10)",decl:{start:{line:73,column:23},end:{line:73,column:24}},loc:{start:{line:73,column:33},end:{line:73,column:56}},line:73},11:{name:"(anonymous_11)",decl:{start:{line:74,column:40},end:{line:74,column:41}},loc:{start:{line:74,column:63},end:{line:102,column:3}},line:74},12:{name:"(anonymous_12)",decl:{start:{line:79,column:22},end:{line:79,column:23}},loc:{start:{line:79,column:41},end:{line:98,column:5}},line:79},13:{name:"(anonymous_13)",decl:{start:{line:86,column:8},end:{line:86,column:9}},loc:{start:{line:86,column:19},end:{line:86,column:78}},line:86},14:{name:"(anonymous_14)",decl:{start:{line:89,column:26},end:{line:89,column:27}},loc:{start:{line:89,column:32},end:{line:91,column:7}},line:89},15:{name:"(anonymous_15)",decl:{start:{line:92,column:24},end:{line:92,column:25}},loc:{start:{line:92,column:30},end:{line:96,column:7}},line:92},16:{name:"(anonymous_16)",decl:{start:{line:99,column:35},end:{line:99,column:36}},loc:{start:{line:99,column:42},end:{line:101,column:5}},line:99},17:{name:"(anonymous_17)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:25},end:{line:138,column:5}},line:104},18:{name:"(anonymous_18)",decl:{start:{line:141,column:33},end:{line:141,column:34}},loc:{start:{line:141,column:45},end:{line:186,column:3}},line:141},19:{name:"(anonymous_19)",decl:{start:{line:150,column:20},end:{line:150,column:21}},loc:{start:{line:150,column:30},end:{line:150,column:80}},line:150},20:{name:"(anonymous_20)",decl:{start:{line:159,column:30},end:{line:159,column:31}},loc:{start:{line:159,column:40},end:{line:162,column:11}},line:159},21:{name:"(anonymous_21)",decl:{start:{line:169,column:22},end:{line:169,column:23}},loc:{start:{line:169,column:32},end:{line:172,column:7}},line:169},22:{name:"(anonymous_22)",decl:{start:{line:195,column:38},end:{line:195,column:39}},loc:{start:{line:195,column:50},end:{line:212,column:3}},line:195},23:{name:"(anonymous_23)",decl:{start:{line:213,column:37},end:{line:213,column:38}},loc:{start:{line:213,column:43},end:{line:222,column:3}},line:213},24:{name:"(anonymous_24)",decl:{start:{line:234,column:39},end:{line:234,column:40}},loc:{start:{line:234,column:75},end:{line:247,column:13}},line:234},25:{name:"(anonymous_25)",decl:{start:{line:258,column:26},end:{line:258,column:27}},loc:{start:{line:258,column:33},end:{line:258,column:64}},line:258}},branchMap:{0:{loc:{start:{line:13,column:17},end:{line:13,column:114}},type:"binary-expr",locations:[{start:{line:13,column:17},end:{line:13,column:26}},{start:{line:13,column:65},end:{line:13,column:106}},{start:{line:13,column:110},end:{line:13,column:114}}],line:13},1:{loc:{start:{line:50,column:4},end:{line:52,column:5}},type:"if",locations:[{start:{line:50,column:4},end:{line:52,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:50},2:{loc:{start:{line:50,column:8},end:{line:50,column:28}},type:"binary-expr",locations:[{start:{line:50,column:8},end:{line:50,column:18}},{start:{line:50,column:22},end:{line:50,column:28}}],line:50},3:{loc:{start:{line:69,column:4},end:{line:71,column:5}},type:"if",locations:[{start:{line:69,column:4},end:{line:71,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:69},4:{loc:{start:{line:80,column:6},end:{line:80,column:35}},type:"if",locations:[{start:{line:80,column:6},end:{line:80,column:35}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:80},5:{loc:{start:{line:88,column:6},end:{line:88,column:57}},type:"if",locations:[{start:{line:88,column:6},end:{line:88,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88},6:{loc:{start:{line:93,column:8},end:{line:95,column:9}},type:"if",locations:[{start:{line:93,column:8},end:{line:95,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:93},7:{loc:{start:{line:105,column:6},end:{line:108,column:7}},type:"if",locations:[{start:{line:105,column:6},end:{line:108,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:105},8:{loc:{start:{line:113,column:6},end:{line:119,column:7}},type:"if",locations:[{start:{line:113,column:6},end:{line:119,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:113},9:{loc:{start:{line:115,column:8},end:{line:118,column:73}},type:"if",locations:[{start:{line:115,column:8},end:{line:118,column:73}},{start:{line:116,column:13},end:{line:118,column:73}}],line:115},10:{loc:{start:{line:116,column:13},end:{line:118,column:73}},type:"if",locations:[{start:{line:116,column:13},end:{line:118,column:73}},{start:{line:117,column:13},end:{line:118,column:73}}],line:116},11:{loc:{start:{line:117,column:13},end:{line:118,column:73}},type:"if",locations:[{start:{line:117,column:13},end:{line:118,column:73}},{start:{line:118,column:13},end:{line:118,column:73}}],line:117},12:{loc:{start:{line:118,column:13},end:{line:118,column:73}},type:"if",locations:[{start:{line:118,column:13},end:{line:118,column:73}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:118},13:{loc:{start:{line:142,column:4},end:{line:145,column:5}},type:"if",locations:[{start:{line:142,column:4},end:{line:145,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:142},14:{loc:{start:{line:146,column:4},end:{line:149,column:5}},type:"if",locations:[{start:{line:146,column:4},end:{line:149,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:146},15:{loc:{start:{line:177,column:6},end:{line:179,column:7}},type:"if",locations:[{start:{line:177,column:6},end:{line:179,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:177},16:{loc:{start:{line:196,column:4},end:{line:199,column:5}},type:"if",locations:[{start:{line:196,column:4},end:{line:199,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:196},17:{loc:{start:{line:200,column:4},end:{line:211,column:5}},type:"if",locations:[{start:{line:200,column:4},end:{line:211,column:5}},{start:{line:209,column:11},end:{line:211,column:5}}],line:200},18:{loc:{start:{line:214,column:4},end:{line:221,column:5}},type:"if",locations:[{start:{line:214,column:4},end:{line:221,column:5}},{start:{line:217,column:11},end:{line:221,column:5}}],line:214},19:{loc:{start:{line:237,column:35},end:{line:237,column:92}},type:"cond-expr",locations:[{start:{line:237,column:61},end:{line:237,column:74}},{start:{line:237,column:77},end:{line:237,column:92}}],line:237},20:{loc:{start:{line:241,column:71},end:{line:241,column:151}},type:"cond-expr",locations:[{start:{line:241,column:97},end:{line:241,column:121}},{start:{line:241,column:124},end:{line:241,column:151}}],line:241},21:{loc:{start:{line:267,column:25},end:{line:267,column:64}},type:"cond-expr",locations:[{start:{line:267,column:39},end:{line:267,column:52}},{start:{line:267,column:55},end:{line:267,column:64}}],line:267},22:{loc:{start:{line:269,column:45},end:{line:269,column:93}},type:"cond-expr",locations:[{start:{line:269,column:59},end:{line:269,column:88}},{start:{line:269,column:91},end:{line:269,column:93}}],line:269},23:{loc:{start:{line:272,column:30},end:{line:272,column:80}},type:"cond-expr",locations:[{start:{line:272,column:44},end:{line:272,column:60}},{start:{line:272,column:63},end:{line:272,column:80}}],line:272},24:{loc:{start:{line:273,column:26},end:{line:273,column:146}},type:"cond-expr",locations:[{start:{line:273,column:56},end:{line:273,column:93}},{start:{line:273,column:112},end:{line:273,column:146}}],line:273},25:{loc:{start:{line:282,column:26},end:{line:282,column:59}},type:"binary-expr",locations:[{start:{line:282,column:26},end:{line:282,column:46}},{start:{line:282,column:50},end:{line:282,column:59}}],line:282},26:{loc:{start:{line:284,column:26},end:{line:290,column:20}},type:"cond-expr",locations:[{start:{line:284,column:54},end:{line:287,column:20}},{start:{line:287,column:39},end:{line:290,column:20}}],line:284},27:{loc:{start:{line:297,column:25},end:{line:297,column:65}},type:"cond-expr",locations:[{start:{line:297,column:38},end:{line:297,column:51}},{start:{line:297,column:54},end:{line:297,column:65}}],line:297},28:{loc:{start:{line:298,column:30},end:{line:298,column:133}},type:"cond-expr",locations:[{start:{line:298,column:43},end:{line:298,column:85}},{start:{line:298,column:88},end:{line:298,column:133}}],line:298},29:{loc:{start:{line:300,column:26},end:{line:300,column:50}},type:"binary-expr",locations:[{start:{line:300,column:26},end:{line:300,column:35}},{start:{line:300,column:39},end:{line:300,column:50}}],line:300},30:{loc:{start:{line:301,column:30},end:{line:301,column:81}},type:"cond-expr",locations:[{start:{line:301,column:43},end:{line:301,column:58}},{start:{line:301,column:61},end:{line:301,column:81}}],line:301},31:{loc:{start:{line:302,column:26},end:{line:308,column:20}},type:"cond-expr",locations:[{start:{line:302,column:55},end:{line:305,column:20}},{start:{line:305,column:39},end:{line:308,column:20}}],line:302}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ChatBot.tsx"],names:[],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"47e1cc0563b4428d0de462ec3902e1f3d2d5eaaa"},t=e[o]||(e[o]={});(!t[s]||t[s].hash!==l)&&(t[s]=a);var r=t[s];return A=function(){return r},r}A();var rA=(A().s[0]++,{});A().s[1]++;const dA=({topic:s,language:l,onQuestionAsked:e})=>{A().f[0]++;const[o,a]=(A().s[2]++,m.useState(""));A().s[3]++,$();const t=(A().s[4]++,A().b[0][0]++,void 0||(A().b[0][1]++,rA.OPENAI_API_KEY)||(A().b[0][2]++,null)),[r,h]=(A().s[5]++,m.useState(null)),[w,B]=(A().s[6]++,m.useState("Hello, I'm Mentor! Let's start your journey. What would you like to know about?")),[E,M]=(A().s[7]++,m.useState(!1)),[g,U]=(A().s[8]++,m.useState(!1)),[I,y]=(A().s[9]++,m.useState(!1)),[k,K]=(A().s[10]++,m.useState([{role:"assistant",content:"Hello, I am your companion! Let's start your journey. Just tell me what you need?"}])),x=(A().s[11]++,m.useRef([]));A().s[12]++,m.useRef(null),A().s[13]++,m.useRef([]),A().s[14]++,m.useRef(null);const Y=(A().s[15]++,m.useRef(null));A().s[16]++,m.useEffect(()=>{A().f[1]++,A().s[17]++;const c=()=>{A().f[2]++;const d=(A().s[18]++,window.speechSynthesis.getVoices());A().s[19]++,console.log("Available TTS voices:",d)};return A().s[20]++,window.speechSynthesis.addEventListener("voiceschanged",c),A().s[21]++,c(),A().s[22]++,()=>{A().f[3]++,A().s[23]++,window.speechSynthesis.removeEventListener("voiceschanged",c)}},[l]),A().s[24]++,m.useEffect(()=>{A().f[4]++,A().s[25]++,A().b[2][0]++,!r&&(A().b[2][1]++,t)?(A().b[1][0]++,A().s[26]++,h(new P(t))):A().b[1][1]++,A().s[27]++,p.setCallbacks({onResult:d=>{A().f[5]++,A().s[28]++,a(d),A().s[29]++,y(!1)},onError:d=>{A().f[6]++,A().s[30]++,console.error("Voice recognition error:",d),A().s[31]++,y(!1)},onStart:()=>(A().f[7]++,A().s[32]++,M(!0)),onEnd:()=>(A().f[8]++,A().s[33]++,M(!1))});const c=(A().s[34]++,p.getLanguageCode(l));A().s[35]++,p.setLanguage(c)},[t,r,l]),A().s[36]++,m.useEffect(()=>{A().f[9]++,A().s[37]++,Y.current?(A().b[3][0]++,A().s[38]++,Y.current.scrollIntoView({behavior:"smooth"})):A().b[3][1]++},[k]),A().s[39]++;const j=c=>(A().f[10]++,A().s[40]++,c.replace(/\*/g,"")),G=(A().s[41]++,m.useCallback((c,d)=>{A().f[11]++,A().s[42]++,window.speechSynthesis.cancel(),A().s[43]++,x.current=[];const C=(A().s[44]++,j(c)),f=(A().s[45]++,C.split(/[.?!]\s+/));A().s[46]++,f.forEach((b,V)=>{if(A().f[12]++,A().s[47]++,b.trim())A().b[4][1]++;else{A().b[4][0]++,A().s[48]++;return}const R=(A().s[49]++,b.trim()+"."),v=(A().s[50]++,new SpeechSynthesisUtterance(R));A().s[51]++,v.lang=d;const D=(A().s[52]++,window.speechSynthesis.getVoices()),O=(A().s[53]++,D.find(z=>(A().f[13]++,A().s[54]++,z.lang.toLowerCase().startsWith(d.toLowerCase()))));A().s[55]++,O?(A().b[5][0]++,A().s[56]++,v.voice=O):A().b[5][1]++,A().s[57]++,v.onstart=()=>{A().f[14]++,A().s[58]++,U(!0)},A().s[59]++,v.onend=()=>{A().f[15]++,A().s[60]++,V===f.length?(A().b[6][0]++,A().s[61]++,U(!1)):A().b[6][1]++},A().s[62]++,x.current.push(v)}),A().s[63]++,x.current.forEach(b=>{A().f[16]++,A().s[64]++,window.speechSynthesis.speak(b)})},[]));A().s[65]++,m.useCallback(async c=>{if(A().f[17]++,A().s[66]++,t)A().b[7][1]++;else return A().b[7][0]++,A().s[67]++,alert("OpenAI API key is missing."),A().s[68]++,"";const d=(A().s[69]++,new FormData);A().s[70]++,d.append("file",c,"audio.webm"),A().s[71]++,d.append("model","whisper-1");let C=(A().s[72]++,"en");if(A().s[73]++,l){A().b[8][0]++;const f=(A().s[74]++,l.toLowerCase());A().s[75]++,f.includes("hindi")?(A().b[9][0]++,A().s[76]++,C="hi"):(A().b[9][1]++,A().s[77]++,f.includes("vietnamese")?(A().b[10][0]++,A().s[78]++,C="vi"):(A().b[10][1]++,A().s[79]++,f.includes("bengali")?(A().b[11][0]++,A().s[80]++,C="bn"):(A().b[11][1]++,A().s[81]++,f.includes("marathi")?(A().b[12][0]++,A().s[82]++,C="mr"):A().b[12][1]++)))}else A().b[8][1]++;A().s[83]++,d.append("language",C),A().s[84]++;try{const f=(A().s[85]++,await fetch("https://api.openai.com/v1/audio/transcriptions",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:d})),b=(A().s[86]++,await f.json());return A().s[87]++,b.text}catch(f){return A().s[88]++,console.error("Error transcribing audio:",f),A().s[89]++,""}},[t,l]);const F=(A().s[90]++,m.useCallback(async()=>{if(A().f[18]++,A().s[91]++,o.trim())A().b[13][1]++;else{A().b[13][0]++,A().s[92]++,alert("Please provide your response."),A().s[93]++;return}if(A().s[94]++,r)A().b[14][1]++;else{A().b[14][0]++,A().s[95]++,alert("OpenAI client not ready. Check your API key."),A().s[96]++;return}A().s[97]++,K(c=>(A().f[19]++,A().s[98]++,[...c,{role:"user",content:o}])),A().s[99]++,y(!0),A().s[100]++;try{const c=(A().s[101]++,await r.chatCompletion([{role:"system",content:`Make me understand this topic, answer my doubts, clarify assumptions, don't dump all the information directly, ask me what I want to know, encourage me to ask precise questions, help me drive towards correct path in ${s} in ${l} in less than 100 words`},...k.map(C=>(A().f[20]++,A().s[102]++,{role:C.role,content:C.content})),{role:"user",content:o}],"qwen3-4b-128k",200));A().s[103]++,B(c),A().s[104]++,K(C=>(A().f[21]++,A().s[105]++,[...C,{role:"assistant",content:c}])),A().s[106]++,a("");const d=(A().s[107]++,p.getLanguageCode(l));A().s[108]++,p.speak(c,{language:d}),A().s[109]++,U(!0),A().s[110]++,e?(A().b[15][0]++,A().s[111]++,e(o)):A().b[15][1]++}catch(c){A().s[112]++,console.error("Error during chat completion:",c),A().s[113]++,alert("Error during chat completion.")}finally{A().s[114]++,y(!1)}},[o,r,s,l,G,k,e])),N=(A().s[115]++,m.useCallback(async()=>{if(A().f[22]++,A().s[116]++,p.isSupported)A().b[16][1]++;else{A().b[16][0]++,A().s[117]++,alert("Voice recognition is not supported in your browser."),A().s[118]++;return}if(A().s[119]++,E)A().b[17][1]++,A().s[126]++,p.stopListening();else{A().b[17][0]++,A().s[120]++;try{A().s[121]++,y(!0),A().s[122]++,await p.startListening()}catch(c){A().s[123]++,console.error("Error starting voice recognition:",c),A().s[124]++,alert("Could not start voice recognition."),A().s[125]++,y(!1)}}},[E])),L=(A().s[127]++,m.useCallback(()=>{if(A().f[23]++,A().s[128]++,g)A().b[18][0]++,A().s[129]++,p.stopSpeaking(),A().s[130]++,U(!1);else{A().b[18][1]++;const c=(A().s[131]++,p.getLanguageCode(l));A().s[132]++,p.speak(w,{language:c}),A().s[133]++,U(!0)}},[g,w,l]));return A().s[134]++,i.jsxs("div",{style:{height:520},className:"mx-auto max-w-3xl overflow-hidden rounded-lg border-0 bg-white shadow-lg",children:[i.jsx("div",{style:{height:370},className:"space-y-4 overflow-y-auto rounded-lg border border-gray-200 bg-gray-50 p-3 p-4",children:k.map((c,d)=>(A().f[24]++,A().s[135]++,i.jsx("div",{className:`flex ${c.role==="user"?(A().b[19][0]++,"justify-end"):(A().b[19][1]++,"justify-start")}`,children:i.jsx("div",{className:`max-w-xs rounded-lg px-4 py-2 shadow ${c.role==="user"?(A().b[20][0]++,"bg-blue-600 text-white"):(A().b[20][1]++,"bg-gray-200 text-gray-900")}`,children:c.content})},d)))}),i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[i.jsx(Z,{className:"flex-grow resize-none rounded-lg border border-gray-300 p-3 text-gray-800 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500",placeholder:"Type or speak your response here...",value:o,onChange:c=>(A().f[25]++,A().s[136]++,a(c.target.value)),rows:3,disabled:I}),i.jsx(_,{onClick:N,variant:E?(A().b[21][0]++,"destructive"):(A().b[21][1]++,"outline"),size:"icon",className:`mr-2 h-12 w-12 ${E?(A().b[22][0]++,"bg-red-500 hover:bg-red-600"):(A().b[22][1]++,"")}`,style:{color:"black"},disabled:I,"aria-label":E?(A().b[23][0]++,"Stop listening"):(A().b[23][1]++,"Start listening"),children:E?(A().b[24][0]++,i.jsx(oA,{className:"h-5 w-5"})):(A().b[24][1]++,i.jsx(tA,{className:"h-5 w-5"}))})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_,{onClick:F,disabled:(A().b[25][0]++,!o.trim()||(A().b[25][1]++,I)),className:"ml-2 bg-indigo-600 px-3 py-2 text-white hover:bg-indigo-700",children:I?(A().b[26][0]++,i.jsxs(i.Fragment,{children:[i.jsx(AA,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]})):(A().b[26][1]++,i.jsxs(i.Fragment,{children:[i.jsx(X,{className:"mr-2 h-4 w-4"}),"Send Message"]}))}),i.jsx(_,{onClick:L,variant:g?(A().b[27][0]++,"destructive"):(A().b[27][1]++,"secondary"),className:`${g?(A().b[28][0]++,"bg-red-100 text-red-700 hover:bg-red-200"):(A().b[28][1]++,"bg-gray-100 text-gray-700 hover:bg-gray-200")}`,size:"sm",disabled:(A().b[29][0]++,I||(A().b[29][1]++,!w)),"aria-label":g?(A().b[30][0]++,"Stop speaking"):(A().b[30][1]++,"Read message aloud"),children:g?(A().b[31][0]++,i.jsxs(i.Fragment,{children:[i.jsx(aA,{className:"h-4 w-4"}),"Stop"]})):(A().b[31][1]++,i.jsxs(i.Fragment,{children:[i.jsx(sA,{className:"h-4 w-4"}),"Listen"]}))})]})]})]})};A().s[137]++;try{A().s[138]++,ChatBot.displayName="ChatBot",A().s[139]++,ChatBot.__docgenInfo={description:"",displayName:"ChatBot",props:{topic:{defaultValue:null,description:"",name:"topic",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},onQuestionAsked:{defaultValue:null,description:"",name:"onQuestionAsked",required:!1,type:{name:"(question: string) => void"}}}}}catch{}function u(){var s="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ChatbotFloatingButton.tsx",l="e281a03f0b0aad313507819c9e41e19525863673",e=window,o="__coverage__",a={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ChatbotFloatingButton.tsx",statementMap:{0:{start:{line:6,column:30},end:{line:58,column:1}},1:{start:{line:10,column:30},end:{line:10,column:45}},2:{start:{line:11,column:25},end:{line:11,column:48}},3:{start:{line:12,column:24},end:{line:14,column:3}},4:{start:{line:13,column:4},end:{line:13,column:23}},5:{start:{line:15,column:30},end:{line:22,column:3}},6:{start:{line:16,column:4},end:{line:21,column:5}},7:{start:{line:17,column:6},end:{line:20,column:9}},8:{start:{line:23,column:2},end:{line:57,column:7}},9:{start:{line:60,column:0},end:{line:66,column:50}},10:{start:{line:62,column:4},end:{line:62,column:64}},11:{start:{line:64,column:4},end:{line:64,column:386}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:30},end:{line:6,column:31}},loc:{start:{line:9,column:6},end:{line:58,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:12,column:24},end:{line:12,column:25}},loc:{start:{line:12,column:30},end:{line:14,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:15,column:30},end:{line:15,column:31}},loc:{start:{line:15,column:44},end:{line:22,column:3}},line:15}},branchMap:{0:{loc:{start:{line:16,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:21,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16},1:{loc:{start:{line:29,column:22},end:{line:29,column:63}},type:"cond-expr",locations:[{start:{line:29,column:31},end:{line:29,column:46}},{start:{line:29,column:49},end:{line:29,column:63}}],line:29},2:{loc:{start:{line:30,column:18},end:{line:30,column:138}},type:"cond-expr",locations:[{start:{line:30,column:43},end:{line:30,column:75}},{start:{line:30,column:94},end:{line:30,column:138}}],line:30},3:{loc:{start:{line:33,column:4},end:{line:56,column:8}},type:"binary-expr",locations:[{start:{line:33,column:4},end:{line:33,column:10}},{start:{line:33,column:30},end:{line:56,column:8}}],line:33}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ChatbotFloatingButton.tsx"],names:[],mappings:"AAuCU;AAvCV;AACA;AACA;AACA;AAOA;AAAqE;AACnE;AAEF;AACE;AACA;AAEA;AACE;AAAiB;AAGnB;AACE;AACE;AAAuC;AAC9B;AACE;AACV;AACH;AAGF;AAGI;AAAA;AAAC;AAAA;AACU;AACC;AAC6B;AAKF;AAAA;AAEvC;AAKI;AACE;AAAM;AAAA;AAAmB;AAAa;AACtC;AAAC;AAAA;AACU;AACC;AAEa;AAAA;AACzB;AACF;AAEE;AAAC;AAAA;AAC0C;AAChC;AACQ;AAAA;AAErB;AACF;AAIR;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e281a03f0b0aad313507819c9e41e19525863673"},t=e[o]||(e[o]={});(!t[s]||t[s].hash!==l)&&(t[s]=a);var r=t[s];return u=function(){return r},r}u();u().s[0]++;const q=({contentContext:s,chapterTitle:l})=>{u().f[0]++;const[e,o]=(u().s[1]++,m.useState(!1)),{trackEvent:a}=(u().s[2]++,J());u().s[3]++;const t=()=>{u().f[1]++,u().s[4]++,o(!e)};u().s[5]++;const r=h=>{u().f[2]++,u().s[6]++,a?(u().b[0][0]++,u().s[7]++,a("chatbot_query",void 0,{query:h,chapter:l})):u().b[0][1]++};return u().s[8]++,i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:t,className:"flex items-center justify-center rounded-full bg-indigo-600 p-3 text-white shadow-lg transition-colors hover:bg-indigo-700","aria-label":e?(u().b[1][0]++,"Close chatbot"):(u().b[1][1]++,"Open chatbot"),children:e?(u().b[2][0]++,i.jsx(W,{className:"h-6 w-6"})):(u().b[2][1]++,i.jsx(eA,{className:"h-6 w-6"}))}),(u().b[3][0]++,e&&(u().b[3][1]++,i.jsxs("div",{className:"absolute bottom-16 left-0 flex h-96 w-80 flex-col overflow-hidden rounded-lg border border-gray-700 bg-gray-800 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between bg-indigo-900/20 p-2 font-medium text-white",children:[i.jsxs("span",{children:["Course Assistant: ",l]}),i.jsx("button",{onClick:t,className:"rounded-full p-1 text-gray-300 hover:bg-indigo-800/30 hover:text-white",children:i.jsx(W,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-grow overflow-hidden",children:i.jsx(dA,{topic:`${l}: ${s}`,language:"English",onQuestionAsked:r})})]})))]})};u().s[9]++;try{u().s[10]++,q.displayName="ChatbotFloatingButton",u().s[11]++,q.__docgenInfo={description:"",displayName:"ChatbotFloatingButton",props:{contentContext:{defaultValue:null,description:"",name:"contentContext",required:!0,type:{name:"string"}},chapterTitle:{defaultValue:null,description:"",name:"chapterTitle",required:!0,type:{name:"string"}}}}}catch{}export{q as C,eA as M};
//# sourceMappingURL=ChatbotFloatingButton-DBfvN9Lg.js.map
