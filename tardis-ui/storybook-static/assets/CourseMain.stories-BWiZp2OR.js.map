{"version":3,"file":"CourseMain.stories-BWiZp2OR.js","sources":["../../src/services/api-client.ts","../../src/services/knowledge.ts","../../src/services/roleplay.ts","../../src/services/edtech-content.ts","../../src/services/edtech-api.ts","../../src/hooks/useChapters.ts","../../src/hooks/useCourseState.ts","../../src/contexts/AuthContext.tsx","../../src/contexts/CourseContext.tsx","../../src/components/course/CourseMain.tsx","../../src/components/course/CourseMain.stories.tsx"],"sourcesContent":["// Mock responses for sandbox mode\ninterface MockResponses {\n  [key: string]: any\n}\n\nconst mockResponses: MockResponses = {\n  // Auth endpoints\n  'POST:/v2/auth/login': {\n    token: 'mock_token_' + Date.now(),\n    user: {\n      id: 'mock_user_123',\n      email: 'user@example.com',\n      name: 'John Doe',\n      created_at: new Date().toISOString(),\n    },\n  },\n  'POST:/v2/auth/register': {\n    token: 'mock_token_' + Date.now(),\n    user: {\n      id: 'mock_user_' + Math.random().toString(36).substr(2, 9),\n      email: 'newuser@example.com',\n      name: 'New User',\n      created_at: new Date().toISOString(),\n    },\n  },\n  'POST:/v2/auth/logout': { success: true },\n  'GET:/v2/auth/profile': {\n    id: 'mock_user_123',\n    email: 'user@example.com',\n    name: 'John Doe',\n    created_at: new Date().toISOString(),\n  },\n  'PUT:/v2/auth/profile': {\n    id: 'mock_user_123',\n    email: 'user@example.com',\n    name: 'Updated Name',\n    created_at: new Date().toISOString(),\n  },\n\n  // Teacher endpoints\n  'GET:/api/v2/teacher/stats': {\n    totalStudents: 45,\n    totalContent: 12,\n    activeAssignments: 8,\n    avgCompletionRate: 78,\n    recentActivity: [\n      { type: 'submission', student: 'Alice', assignment: 'Math Quiz 1', time: '2 hours ago' },\n      { type: 'question', student: 'Bob', topic: 'Quadratic Equations', time: '5 hours ago' },\n      { type: 'completion', student: 'Carol', assignment: 'Science Project', time: '1 day ago' }\n    ]\n  },\n  'GET:/api/v2/teacher/classrooms': [\n    {\n      classId: 'class_1',\n      className: 'Advanced Mathematics',\n      studentCount: 28,\n      avgProgress: 85,\n      recentActivity: 'Quiz completed by 15 students'\n    },\n    {\n      classId: 'class_2', \n      className: 'Physics Fundamentals',\n      studentCount: 17,\n      avgProgress: 72,\n      recentActivity: 'New assignment posted'\n    }\n  ],\n  'GET:/api/v2/topic-generation/my-generated-content': {\n    content: [\n      {\n        id: 'content_1',\n        title: 'Quadratic Equations Study Guide',\n        type: 'study_guide',\n        subject: 'Mathematics',\n        createdAt: new Date().toISOString()\n      },\n      {\n        id: 'content_2',\n        title: 'Physics Lab Safety Quiz',\n        type: 'quiz',\n        subject: 'Physics', \n        createdAt: new Date().toISOString()\n      }\n    ]\n  },\n\n  // Knowledge endpoints\n  'GET:/v2/knowledge': [\n    {\n      id: 'knowledge_1',\n      title: 'Sample Knowledge Base 1',\n      description: 'A sample knowledge base for testing',\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    },\n    {\n      id: 'knowledge_2',\n      title: 'Sample Knowledge Base 2',\n      description: 'Another sample knowledge base',\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    },\n  ],\n  'GET:/v2/knowledge/([^/]+)': {\n    id: 'knowledge_1',\n    title: 'Sample Knowledge Base',\n    description: 'A sample knowledge base for testing',\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  },\n  'POST:/v2/knowledge': {\n    id: 'knowledge_' + Math.random().toString(36).substr(2, 9),\n    title: 'New Knowledge Base',\n    description: 'A newly created knowledge base',\n    created_at: new Date().toISOString(),\n    updated_at: new Date().toISOString(),\n  },\n  'DELETE:/v2/knowledge/([^/]+)': { success: true },\n\n  // Chapter endpoints\n  'GET:/v2/chapters/([^/]+)': [\n    {\n      id: 'chapter_1',\n      title: 'Introduction',\n      content: 'This is the introduction chapter...',\n      order: 1,\n    },\n    {\n      id: 'chapter_2',\n      title: 'Getting Started',\n      content: 'This chapter covers the basics...',\n      order: 2,\n    },\n  ],\n  'PUT:/v2/chapters/([^/]+)/([^/]+)': {\n    id: 'chapter_1',\n    title: 'Updated Chapter',\n    content: 'Updated content...',\n    order: 1,\n  },\n}\n\nclass ApiClient {\n  private baseURL: string\n  private sandboxMode: boolean\n\n  constructor() {\n    this.baseURL = import.meta.env.VITE_API_URL || 'http://localhost:8000'\n    // Check for sandbox mode from environment variable or localStorage\n    this.sandboxMode =\n      import.meta.env.VITE_SANDBOX_MODE === 'true' ||\n      localStorage.getItem('api_sandbox_mode') === 'true'\n  }\n\n  // Method to toggle sandbox mode\n  setSandboxMode(enabled: boolean): void {\n    this.sandboxMode = enabled\n    localStorage.setItem('api_sandbox_mode', enabled.toString())\n  }\n\n  // Method to check if sandbox mode is enabled\n  isSandboxMode(): boolean {\n    return this.sandboxMode\n  }\n\n  private getMockResponse<T>(method: string, endpoint: string): T | null {\n    if (!this.sandboxMode) return null\n\n    const key = `${method}:${endpoint}`\n\n    // First try exact match\n    if (mockResponses[key]) {\n      return mockResponses[key] as T\n    }\n\n    // Then try regex patterns for dynamic endpoints\n    for (const pattern in mockResponses) {\n      const [patternMethod, patternPath] = pattern.split(':')\n      if (patternMethod === method) {\n        const regex = new RegExp(`^${patternPath}$`)\n        if (regex.test(endpoint)) {\n          return mockResponses[pattern] as T\n        }\n      }\n    }\n\n    // Default fallback for unknown endpoints\n    console.warn(`No mock response found for ${key}, returning default`)\n    return {\n      success: true,\n      message: 'Mock response',\n      data: null,\n    } as unknown as T\n  }\n\n  private async simulateNetworkDelay(): Promise<void> {\n    if (this.sandboxMode) {\n      // Simulate network delay between 100-500ms\n      const delay = Math.random() * 400 + 100\n      await new Promise(resolve => setTimeout(resolve, delay))\n    }\n  }\n\n  private getAuthHeaders(): HeadersInit {\n    const token = localStorage.getItem('auth_token')\n    return token ? { Authorization: `Bearer ${token}` } : {}\n  }\n\n  private async handleResponse<T>(response: Response): Promise<T> {\n    if (!response.ok) {\n      const error = await response.text()\n      throw new Error(`API Error: ${response.status} - ${error}`)\n    }\n    return response.json()\n  }\n\n  async get<T>(endpoint: string): Promise<T> {\n    // Check for mock response first\n    const mockResponse = this.getMockResponse<T>('GET', endpoint)\n    if (mockResponse !== null) {\n      await this.simulateNetworkDelay()\n      console.log(`[SANDBOX] GET ${endpoint}:`, mockResponse)\n      return mockResponse\n    }\n\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeaders(),\n      },\n    })\n    return this.handleResponse<T>(response)\n  }\n\n  async post<T>(endpoint: string, data?: any): Promise<T> {\n    // Check for mock response first\n    const mockResponse = this.getMockResponse<T>('POST', endpoint)\n    if (mockResponse !== null) {\n      await this.simulateNetworkDelay()\n      console.log(`[SANDBOX] POST ${endpoint}:`, mockResponse)\n      return mockResponse\n    }\n\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeaders(),\n      },\n      body: data ? JSON.stringify(data) : null,\n    })\n    return this.handleResponse<T>(response)\n  }\n\n  async put<T>(endpoint: string, data?: any): Promise<T> {\n    // Check for mock response first\n    const mockResponse = this.getMockResponse<T>('PUT', endpoint)\n    if (mockResponse !== null) {\n      await this.simulateNetworkDelay()\n      console.log(`[SANDBOX] PUT ${endpoint}:`, mockResponse)\n      return mockResponse\n    }\n\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        ...this.getAuthHeaders(),\n      },\n      body: data ? JSON.stringify(data) : null,\n    })\n    return this.handleResponse<T>(response)\n  }\n\n  async delete<T>(endpoint: string): Promise<T> {\n    // Check for mock response first\n    const mockResponse = this.getMockResponse<T>('DELETE', endpoint)\n    if (mockResponse !== null) {\n      await this.simulateNetworkDelay()\n      console.log(`[SANDBOX] DELETE ${endpoint}:`, mockResponse)\n      return mockResponse\n    }\n\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: 'DELETE',\n      headers: this.getAuthHeaders(),\n    })\n    return this.handleResponse<T>(response)\n  }\n\n  async upload<T>(endpoint: string, formData: FormData): Promise<T> {\n    // Check for mock response first\n    const mockResponse = this.getMockResponse<T>('POST', endpoint)\n    if (mockResponse !== null) {\n      await this.simulateNetworkDelay()\n      console.log(`[SANDBOX] UPLOAD ${endpoint}:`, mockResponse)\n      return mockResponse\n    }\n\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: 'POST',\n      headers: this.getAuthHeaders(),\n      body: formData,\n    })\n    return this.handleResponse<T>(response)\n  }\n\n  createWebSocket(endpoint: string): WebSocket {\n    if (this.sandboxMode) {\n      console.log(`[SANDBOX] WebSocket ${endpoint}: Creating mock WebSocket`)\n      // Return a mock WebSocket-like object for sandbox mode\n      return {\n        readyState: WebSocket.OPEN,\n        send: (data: string | ArrayBufferLike | Blob | ArrayBufferView) => {\n          console.log(`[SANDBOX] WebSocket send:`, data)\n        },\n        close: () => {\n          console.log(`[SANDBOX] WebSocket closed`)\n        },\n        addEventListener: () => {},\n        removeEventListener: () => {},\n        dispatchEvent: () => false,\n        binaryType: 'blob',\n        bufferedAmount: 0,\n        extensions: '',\n        onclose: null,\n        onerror: null,\n        onmessage: null,\n        onopen: null,\n        protocol: '',\n        url: `ws://sandbox${endpoint}`,\n        CLOSED: WebSocket.CLOSED,\n        CLOSING: WebSocket.CLOSING,\n        CONNECTING: WebSocket.CONNECTING,\n        OPEN: WebSocket.OPEN,\n      } as unknown as WebSocket\n    }\n\n    const wsUrl = this.baseURL.replace('http', 'ws')\n    return new WebSocket(`${wsUrl}/ws${endpoint}`)\n  }\n}\n\nexport const apiClient = new ApiClient()\n","import { apiClient } from './api-client'\nimport { Knowledge } from '../types/api'\n\ninterface UploadOptions {\n  auto_process?: boolean\n  generate_content?: boolean\n  content_types?: string[]\n  content_language?: string\n}\n\nexport class KnowledgeService {\n  async uploadFiles(\n    files: File[],\n    options: UploadOptions = {}\n  ): Promise<{ knowledge_id: number; ws_channel: string }> {\n    const formData = new FormData()\n    files.forEach(file => formData.append('files', file))\n\n    Object.entries(options).forEach(([key, value]) => {\n      if (value !== undefined) {\n        formData.append(\n          key,\n          Array.isArray(value) ? JSON.stringify(value) : String(value)\n        )\n      }\n    })\n\n    return apiClient.upload('/knowledge', formData)\n  }\n\n  async getKnowledgeList(): Promise<Knowledge[]> {\n    return apiClient.get<Knowledge[]>('/knowledge')\n  }\n\n  async getKnowledge(id: number): Promise<Knowledge> {\n    return apiClient.get<Knowledge>(`/knowledge/${id}`)\n  }\n\n  async deleteKnowledge(id: number): Promise<void> {\n    return apiClient.delete(`/knowledge/${id}`)\n  }\n\n  createStatusWebSocket(knowledgeId: number): WebSocket {\n    return apiClient.createWebSocket(`/knowledge/${knowledgeId}/status`)\n  }\n}\n\nexport const knowledgeService = new KnowledgeService()\n","import { apiClient } from './api-client'\nimport { RoleplayScenario } from '../types/api'\n\ninterface GenerateRoleplayRequest {\n  knowledge_id: number\n  topic: string\n  content: string\n  language?: string\n}\n\nexport class RoleplayService {\n  async generateScenario(\n    request: GenerateRoleplayRequest\n  ): Promise<RoleplayScenario> {\n    return apiClient.post<RoleplayScenario>('/roleplay/generate', request)\n  }\n\n  async getScenarios(knowledgeId: number): Promise<RoleplayScenario[]> {\n    return apiClient.get<RoleplayScenario[]>(`/roleplay/${knowledgeId}`)\n  }\n}\n\nexport const roleplayService = new RoleplayService()\n","import { apiClient } from './api-client'\nimport { Chapter, QuizQuestion, User } from '../types/api'\nimport { knowledgeService } from './knowledge'\nimport { roleplayService } from './roleplay'\n\ninterface MindMapStructure {\n  nodes: Array<{\n    id: string\n    type?: 'input' | 'default' | 'output'\n    data: { label: string }\n  }>\n  edges: Array<{\n    id: string\n    source: string\n    target: string\n  }>\n}\n\ninterface ChapterUpdate {\n  notes?: string\n  summary?: string\n  quiz?: QuizQuestion[]\n  mindmap?: MindMapStructure\n}\n\nexport class ContentService {\n  async getChapters(knowledgeId: number): Promise<Chapter[]> {\n    return apiClient.get<Chapter[]>(`/v2/chapters/${knowledgeId}`)\n  }\n\n  async getChapter(knowledgeId: number, chapterId: string): Promise<Chapter> {\n    return apiClient.get<Chapter>(`/v2/chapters/${knowledgeId}/${chapterId}`)\n  }\n\n  async updateChapter(\n    knowledgeId: number,\n    chapterId: string,\n    updates: ChapterUpdate\n  ): Promise<Chapter> {\n    return apiClient.put<Chapter>(\n      `/v2/chapters/${knowledgeId}/${chapterId}`,\n      updates\n    )\n  }\n\n  async generateContent(knowledgeId: number): Promise<void> {\n    return apiClient.post(`/v2/content/generate/${knowledgeId}`)\n  }\n}\n\nexport const contentService = new ContentService()\n\n// Legacy function replacements that now use the new API\nexport const getEdTechContent = async (\n  chapter: { knowledge_id: number; id: number },\n  _language = 'English'\n) => {\n  try {\n    const content = await contentService.getChapter(\n      chapter.knowledge_id,\n      chapter.id.toString()\n    )\n    return [content] // Maintain legacy array format\n  } catch (error) {\n    // Error getting EdTech content\n    return []\n  }\n}\n\nexport const getChapterMetaDataByLanguage = async (\n  knowledgeId: number,\n  _language: string\n) => {\n  try {\n    return await contentService.getChapters(knowledgeId)\n  } catch (error) {\n    // Error getting chapter metadata\n    return []\n  }\n}\n\nexport const getChapters = async (knowledgeId: number, _language: string) => {\n  try {\n    return await contentService.getChapters(knowledgeId)\n  } catch (error) {\n    // Error getting chapters\n    return []\n  }\n}\n\nexport const updateEdtechContent = async (\n  updateObject: ChapterUpdate,\n  edtechId: string,\n  chapterId: string,\n  knowledgeId: number,\n  _language = 'English'\n) => {\n  try {\n    return await contentService.updateChapter(\n      knowledgeId,\n      chapterId,\n      updateObject\n    )\n  } catch (error) {\n    // Error updating EdTech content\n    return null\n  }\n}\n\nexport const getKnowledge = async () => {\n  try {\n    return await knowledgeService.getKnowledgeList()\n  } catch (error) {\n    // Error getting knowledge\n    return []\n  }\n}\n\nexport const getKnowledgeMeta = async (id: number) => {\n  try {\n    const knowledge = await knowledgeService.getKnowledge(id)\n    return [{ id: knowledge.id, name: knowledge.name }]\n  } catch (error) {\n    // Error getting knowledge meta\n    return []\n  }\n}\n\nexport const getRoleplayData = async (knowledgeId: number) => {\n  try {\n    const scenarios = await roleplayService.getScenarios(knowledgeId)\n    return scenarios\n  } catch (error) {\n    // Error getting roleplay data\n    return null\n  }\n}\n\nexport const generateRoleplayScenarios = async (\n  knowledgeId: number,\n  topic: string,\n  content: string,\n  _apiKey: string,\n  language: string = 'English'\n) => {\n  try {\n    const response = await roleplayService.generateScenario({\n      knowledge_id: knowledgeId,\n      topic,\n      content,\n      language,\n    })\n    return response\n  } catch (error) {\n    // Error generating roleplay scenarios\n    return null\n  }\n}\n\n// Legacy functions for compatibility\nexport const insertKnowledge = async (\n  _name: string,\n  _user: User,\n  _fileName: string\n) => {\n  // insertKnowledge is deprecated, use knowledgeService.uploadFiles instead\n  return { id: Date.now() } // Mock response\n}\n\nexport const uploadFiles = async (\n  _files: File[],\n  _knowledge_id: number,\n  _fileType: string\n) => {\n  // uploadFiles is deprecated, use knowledgeService.uploadFiles instead\n  return [] // Mock response\n}\n","// Types\nexport type ProcessingStatus = {\n  knowledge_id: number\n  status: 'queued' | 'processing' | 'completed' | 'failed' | 'unknown'\n  message: string\n  retry_count: number\n  result: Record<string, unknown> | null\n}\n\nexport type RetryRequest = {\n  force?: boolean\n  max_retries?: number\n}\n\nexport type RetryHistoryEntry = {\n  timestamp: string\n  type: string\n  message: string\n}\n\nexport type RetryHistory = {\n  knowledge_id: number\n  retries: RetryHistoryEntry[]\n}\n\nexport type ImageUploadStatus = {\n  knowledge_id: number\n  total_images: number\n  uploaded_images: number\n  failed_images: string[]\n}\n\nexport type ContentGenerationResponse = {\n  success: boolean\n  data?: {\n    chapters: Record<string, unknown>[]\n    processed_chapters?: number\n    failed_chapters?: number\n  }\n  error?: string\n  message?: string\n}\n\nexport type ChapterDataResponse = {\n  success: boolean\n  data?: Record<string, unknown>[]\n  error?: string\n}\n\nexport type ContentType = 'notes' | 'summary' | 'quiz' | 'mindmap'\n\n// API Client Class\nexport class EdTechAPI {\n  private baseURL: string\n  private apiKey: string | undefined\n  private headers: Record<string, string>\n\n  constructor(\n    baseURL: string = 'https://qbf0e8btmrrsd4-8000.proxy.runpod.net',\n    apiKey?: string\n  ) {\n    this.baseURL = baseURL\n    this.apiKey = apiKey\n    this.headers = {\n      'Content-Type': 'application/json',\n      ...(apiKey ? { Authorization: `Bearer ${apiKey}` } : {}),\n    }\n  }\n\n  private async request<T>(\n    endpoint: string,\n    method: 'GET' | 'POST' | 'PUT' | 'DELETE' = 'GET',\n    params?: URLSearchParams,\n    body?: unknown\n  ): Promise<T> {\n    const url = new URL(`${this.baseURL}${endpoint}`, window.location.origin)\n\n    if (params) {\n      url.search = params.toString()\n    }\n\n    const options: RequestInit = {\n      method,\n      headers: this.headers,\n    }\n\n    if (body) {\n      options.body = JSON.stringify(body)\n    }\n\n    const response = await fetch(url.toString(), options)\n\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}))\n      throw new Error(\n        errorData.message || `Request failed with status ${response.status}`\n      )\n    }\n\n    return await response.json()\n  }\n\n  // Health Check\n  async checkHealth(): Promise<{ status: string }> {\n    return this.request<{ status: string }>('/health')\n  }\n\n  // Process Knowledge\n  async startProcessing(knowledgeId: number): Promise<{\n    knowledge_id: number\n    status: string\n    message: string\n  }> {\n    return this.request<{\n      knowledge_id: number\n      status: string\n      message: string\n    }>(`/process/${knowledgeId}`)\n  }\n\n  // Retry Processing\n  async retryProcessing(\n    knowledgeId: number,\n    request: RetryRequest\n  ): Promise<void> {\n    return this.request<void>(\n      `/process/${knowledgeId}/retry`,\n      'POST',\n      undefined,\n      request\n    )\n  }\n\n  // Get Retry History\n  async getRetryHistory(knowledgeId: number): Promise<RetryHistory> {\n    return this.request<RetryHistory>(`/process/${knowledgeId}/retry-history`)\n  }\n\n  // Get Processing Status\n  async getProcessingStatus(knowledgeId: number): Promise<ProcessingStatus> {\n    return this.request<ProcessingStatus>(`/process/${knowledgeId}/status`)\n  }\n\n  // Get Image Status\n  async getImageStatus(knowledgeId: number): Promise<ImageUploadStatus> {\n    return this.request<ImageUploadStatus>(`/process/${knowledgeId}/images`)\n  }\n\n  // Generate Content\n  async generateContent(\n    knowledgeId: number,\n    options: {\n      chapterId?: string\n      types: ContentType[]\n      language?: string\n    }\n  ): Promise<ContentGenerationResponse> {\n    const params = new URLSearchParams()\n    if (options.chapterId) params.append('chapter_id', options.chapterId)\n    options.types.forEach(type => params.append('types', type))\n    if (options.language) params.append('language', options.language)\n\n    return this.request<ContentGenerationResponse>(\n      `/generate-content/${knowledgeId}`,\n      'GET',\n      params\n    )\n  }\n\n  // Get Chapter Data\n  async getChapterData(\n    knowledgeId: number,\n    options?: {\n      chapterId?: string\n      types?: string[]\n      language?: string\n    }\n  ): Promise<ChapterDataResponse> {\n    const params = new URLSearchParams()\n    if (options?.chapterId) params.append('chapter_id', options.chapterId)\n    if (options?.types)\n      options.types.forEach(type => params.append('types', type))\n    if (options?.language) params.append('language', options.language)\n\n    return this.request<ChapterDataResponse>(\n      `/chapters/${knowledgeId}`,\n      'GET',\n      params\n    )\n  }\n}\n\n// Usage Example:\n/*\nconst api = new EdTechAPI('http://your-api-base-url/api/v1', 'your-api-key');\n\n// Example: Generate content\ntry {\n  const content = await api.generateContent(123, {\n    types: ['notes', 'summary'],\n    language: 'English'\n  });\n  console.log(content);\n} catch (error) {\n  console.error('Error generating content:', error);\n}\n*/\n","import { useEffect, useRef, useState, useCallback, useMemo } from 'react'\nimport {\n  getChapters,\n  getChapterMetaDataByLanguage,\n  getEdTechContent,\n} from '@/services/edtech-content'\nimport useAuthState from './useAuth'\nimport { EdTechAPI, ContentType, ProcessingStatus } from '@/services/edtech-api'\nimport { knowledgeService } from '@/services/knowledge'\nimport { Chapter, ChapterContent, EdTechChapter } from '@/types/api'\n\n// Create an instance of the EdTechAPI\nconst edtechApi = new EdTechAPI()\n\n// Throttling constants\nconst STATUS_CHECK_INTERVAL = 30000 // 30 seconds between status checks\nconst MAX_STATUS_CHECKS = 1 // Maximum number of consecutive status checks\n\ninterface ChaptersState {\n  uploadedFiles: Chapter[]\n  chaptersMeta: EdTechChapter[]\n  content: ChapterContent | null\n  knowledgeData: {\n    video_url: string | null\n    roleplay: any | null\n  } | null\n  error: Error | null\n  processingStatus: ProcessingStatus | null\n  isCheckingStatus: boolean\n  isGeneratingContent: boolean\n  generationProgress: {\n    total: number\n    completed: number\n    failed: number\n  }\n  lastGenerationError: string | null\n}\n\nexport const useChapters = () => {\n  // Use a single state object to reduce re-renders when multiple properties change\n  const [state, setState] = useState<ChaptersState>({\n    uploadedFiles: [],\n    chaptersMeta: [],\n    content: null,\n    knowledgeData: null,\n    error: null,\n    processingStatus: null,\n    isCheckingStatus: false,\n    isGeneratingContent: false,\n    generationProgress: {\n      total: 0,\n      completed: 0,\n      failed: 0,\n    },\n    lastGenerationError: null,\n  })\n\n  // Use refs for values that don't trigger re-renders\n  const statusCheckIntervalRef = useRef<NodeJS.Timeout | null>(null)\n  const statusCheckCountRef = useRef<number>(0)\n  const generationAttemptsRef = useRef<Record<string, number>>({})\n\n  // Memoized state update functions using useCallback\n  const fetchChapters = useCallback(\n    async (knowledgeId: number, language: string): Promise<Chapter[]> => {\n      try {\n        const chapters = await getChapters(knowledgeId, language)\n        if (chapters) {\n          setState(prev => ({\n            ...prev,\n            uploadedFiles: chapters,\n          }))\n          return chapters\n        }\n        return []\n      } catch (error) {\n        setState(prev => ({\n          ...prev,\n          error:\n            error instanceof Error\n              ? error\n              : new Error('Unknown error fetching chapters'),\n        }))\n        return []\n      }\n    },\n    []\n  )\n\n  const fetchChapterMeta = useCallback(\n    async (knowledgeId: number, language: string): Promise<void> => {\n      try {\n        const metadata = await getChapterMetaDataByLanguage(\n          knowledgeId,\n          language\n        )\n        setState(prev => ({\n          ...prev,\n          chaptersMeta: metadata as unknown as EdTechChapter[],\n        }))\n      } catch (error) {\n        setState(prev => ({\n          ...prev,\n          error:\n            error instanceof Error\n              ? error\n              : new Error('Unknown error fetching chapter metadata'),\n        }))\n      }\n    },\n    []\n  )\n\n  const fetchKnowledgeData = useCallback(\n    async (knowledgeId: number): Promise<void> => {\n      if (!knowledgeId) return\n      console.log('Fetching knowledge data for knowledgeId:', knowledgeId)\n      try {\n        const knowledge = await knowledgeService.getKnowledge(knowledgeId)\n\n        setState(prev => ({\n          ...prev,\n          knowledgeData: {\n            video_url: knowledge.video_url || null,\n            roleplay: knowledge.roleplay || null,\n          },\n        }))\n        console.log('Fetched knowledge data:', knowledge)\n      } catch (error) {\n        console.error('Error fetching knowledge data:', error)\n        setState(prev => ({\n          ...prev,\n          knowledgeData: { video_url: null, roleplay: null },\n          error:\n            error instanceof Error\n              ? error\n              : new Error('Unknown error fetching knowledge data'),\n        }))\n      }\n    },\n    []\n  )\n\n  const getEdTechContentForChapter = useCallback(\n    async (\n      chapter: Chapter,\n      language: string\n    ): Promise<ChapterContent | null> => {\n      try {\n        console.log(\n          'Getting EdTech content for chapter:',\n          chapter,\n          'language:',\n          language\n        )\n\n        if (!chapter || !chapter.id) {\n          console.error(\n            'Invalid chapter provided to getEdTechContentForChapter'\n          )\n          return null\n        }\n\n        const contentResult = await getEdTechContent(\n          {\n            knowledge_id: Number(chapter.knowledge_id),\n            id: Number(chapter.id),\n          },\n          language\n        )\n        console.log('Raw EdTech content result:', contentResult)\n\n        let chapterContent: ChapterContent | null = null\n        if (contentResult && contentResult.length > 0) {\n          chapterContent = contentResult[0] as unknown as ChapterContent\n        }\n\n        setState(prev => ({\n          ...prev,\n          content: chapterContent,\n        }))\n\n        console.log('Set chapter content in state:', chapterContent)\n        return chapterContent\n      } catch (error) {\n        console.error('Error in getEdTechContentForChapter:', error)\n        setState(prev => ({\n          ...prev,\n          content: null,\n          error:\n            error instanceof Error\n              ? error\n              : new Error('Unknown error fetching EdTech content'),\n        }))\n        return null\n      }\n    },\n    []\n  )\n\n  const generateMissingContent = useCallback(\n    async (\n      chapter: Chapter,\n      language: string,\n      contentTypes: ContentType[]\n    ): Promise<ChapterContent | null> => {\n      if (!chapter || contentTypes.length === 0) return null\n\n      // Reset progress and set generation state to true\n      setState(prev => ({\n        ...prev,\n        isGeneratingContent: true,\n        generationProgress: {\n          total: contentTypes.length,\n          completed: 0,\n          failed: 0,\n        },\n        lastGenerationError: null,\n      }))\n\n      try {\n        // Track this generation attempt\n        const chapterKey = `${chapter.id}-${language}`\n        generationAttemptsRef.current[chapterKey] =\n          (generationAttemptsRef.current[chapterKey] || 0) + 1\n\n        const generationResponse = await edtechApi.generateContent(\n          chapter.knowledge_id,\n          {\n            chapterId: chapter.id.toString(),\n            types: contentTypes,\n            language,\n          }\n        )\n\n        if (\n          generationResponse.success &&\n          (generationResponse.data?.chapters?.length ?? 0) > 0\n        ) {\n          const newContent = generationResponse.data\n            ?.chapters?.[0] as ChapterContent\n\n          // Check if we have partial success (some content types failed)\n          if (\n            generationResponse.message &&\n            generationResponse.message.includes('Partially successful')\n          ) {\n            setState(prev => ({\n              ...prev,\n              content: newContent,\n              isGeneratingContent: false,\n              generationProgress: {\n                total: contentTypes.length,\n                completed: generationResponse.data?.processed_chapters || 0,\n                failed: generationResponse.data?.failed_chapters || 0,\n              },\n              lastGenerationError: generationResponse.message || null,\n            }))\n          } else {\n            // Complete success\n            setState(prev => ({\n              ...prev,\n              content: newContent,\n              isGeneratingContent: false,\n              generationProgress: {\n                total: contentTypes.length,\n                completed: contentTypes.length,\n                failed: 0,\n              },\n            }))\n          }\n\n          return newContent\n        } else {\n          // Complete failure\n          setState(prev => ({\n            ...prev,\n            isGeneratingContent: false,\n            generationProgress: {\n              ...prev.generationProgress,\n              failed: contentTypes.length,\n            },\n            lastGenerationError:\n              generationResponse.error ||\n              'Unknown error during content generation',\n          }))\n        }\n\n        return null\n      } catch (error) {\n        const errorMessage =\n          error instanceof Error ? error.message : 'Error generating content'\n\n        setState(prev => ({\n          ...prev,\n          error:\n            error instanceof Error\n              ? error\n              : new Error('Error generating content'),\n          isGeneratingContent: false,\n          generationProgress: {\n            ...prev.generationProgress,\n            failed: contentTypes.length,\n          },\n          lastGenerationError: errorMessage,\n        }))\n\n        console.error('Error generating content:', error)\n        return null\n      }\n    },\n    []\n  )\n\n  // Retry failed content generation\n  const retryContentGeneration = useCallback(\n    async (\n      chapter: Chapter,\n      language: string,\n      contentTypes?: ContentType[]\n    ): Promise<ChapterContent | null> => {\n      // If no specific content types provided, use missing types\n      if (!contentTypes) {\n        const missingTypes = getMissingContentTypes(state.content)\n        if (missingTypes.length === 0) {\n          console.log('No missing content types to generate')\n          return state.content\n        }\n        contentTypes = missingTypes\n      }\n\n      // Reset error state before retry\n      setState(prev => ({\n        ...prev,\n        error: null,\n        lastGenerationError: null,\n      }))\n\n      return generateMissingContent(chapter, language, contentTypes)\n    },\n    [state.content, generateMissingContent]\n  )\n\n  // Memoized utility function for identifying missing content types\n  const getMissingContentTypes = useCallback(\n    (contentData: ChapterContent | null | undefined): ContentType[] => {\n      if (!contentData) return []\n\n      const missingTypes: ContentType[] = []\n\n      if (!contentData.notes) missingTypes.push('notes')\n      if (!contentData.summary) missingTypes.push('summary')\n      if (!contentData.quiz && contentData.notes) missingTypes.push('quiz')\n      if (!contentData.mindmap && contentData.notes)\n        missingTypes.push('mindmap')\n\n      return missingTypes\n    },\n    []\n  )\n\n  // Check if content has errors in any types\n  const getContentTypesWithErrors = useCallback(\n    (contentData: ChapterContent | null): ContentType[] => {\n      if (!contentData) return []\n\n      const errorTypes: ContentType[] = []\n\n      // Check for errors in each content type\n      // Using String() to safely convert to string regardless of type\n      if (\n        contentData.notes &&\n        String(contentData.notes).includes('Error generating')\n      ) {\n        errorTypes.push('notes')\n      }\n      if (\n        contentData.summary &&\n        String(contentData.summary).includes('Error generating')\n      ) {\n        errorTypes.push('summary')\n      }\n      if (\n        contentData.quiz &&\n        typeof contentData.quiz === 'string' &&\n        String(contentData.quiz).includes('Error generating')\n      ) {\n        errorTypes.push('quiz')\n      }\n      if (\n        contentData.mindmap &&\n        typeof contentData.mindmap === 'string' &&\n        String(contentData.mindmap).includes('Error generating')\n      ) {\n        errorTypes.push('mindmap')\n      }\n\n      return errorTypes\n    },\n    []\n  )\n\n  // Memoized setter for content to avoid unnecessary re-renders\n  const setContent = useCallback((newContent: ChapterContent | null) => {\n    setState(prev => ({\n      ...prev,\n      content: newContent,\n    }))\n  }, [])\n\n  // Reset generation state\n  const resetGenerationState = useCallback(() => {\n    setState(prev => ({\n      ...prev,\n      isGeneratingContent: false,\n      generationProgress: {\n        total: 0,\n        completed: 0,\n        failed: 0,\n      },\n      lastGenerationError: null,\n    }))\n  }, [])\n\n  // Memoize derived values to prevent unnecessary recalculations\n  const {\n    uploadedFiles,\n    chaptersMeta,\n    content,\n    error,\n    processingStatus,\n    isCheckingStatus,\n    isGeneratingContent,\n    generationProgress,\n    lastGenerationError,\n    knowledgeData,\n  } = state\n\n  // Memoized combined content (merges chapter content with knowledge data)\n  const combinedContent = useMemo(() => {\n    if (!content && !knowledgeData) return null\n\n    const baseContent = content || {}\n    const knowledge = knowledgeData || { video_url: null, roleplay: null }\n\n    return {\n      ...baseContent,\n      video_url: baseContent.video_url || knowledge.video_url,\n      roleplay: knowledge.roleplay,\n    }\n  }, [content, knowledgeData])\n\n  return {\n    uploadedFiles,\n    chaptersMeta,\n    fetchChapters,\n    setContent,\n    content: combinedContent,\n    fetchChapterMeta,\n    fetchKnowledgeData,\n    getEdTechContentForChapter,\n    generateMissingContent,\n    retryContentGeneration,\n    getMissingContentTypes,\n    getContentTypesWithErrors,\n    processingStatus,\n    isCheckingStatus,\n    isGeneratingContent,\n    generationProgress,\n    lastGenerationError,\n    resetGenerationState,\n    knowledgeData,\n    error,\n  }\n}\n","import React, { useState, useCallback, useMemo, useEffect, useRef } from 'react'\nimport { ContentType } from '@/services/edtech-api'\nimport { ChapterContent, Chapter } from '@/types/api'\nimport { useInteractionTracker } from '@/contexts/InteractionTrackerContext'\nimport { useChapters } from '@/hooks/useChapters'\nimport useAuthState from '@/hooks/useAuth'\nimport { generateRoleplayScenarios } from '@/services/edtech-content'\nimport { BookOpen as BookOpenIcon } from 'lucide-react' // Import a specific icon\n\n// Define TabConfig type - Icon is now a string identifier\ninterface TabConfig {\n  label: string\n  key: string\n  iconIdentifier: string // e.g., 'FileText', 'BookOpen'\n}\n\n// Config for the Original content tab\nconst OG_TAB_CONFIG: TabConfig = {\n  label: 'Original',\n  key: 'og',\n  iconIdentifier: 'BookOpen', // Using BookOpen icon for original content\n}\n\n// Base tab structure with icon identifiers\nconst BASE_TABS: TabConfig[] = [\n  { label: 'Original', key: 'og', iconIdentifier: 'BookOpen' },\n  { label: 'Video', key: 'video', iconIdentifier: 'Video' },\n  { label: 'Notes', key: 'notes', iconIdentifier: 'FileText' },\n  { label: 'Summary', key: 'summary', iconIdentifier: 'BookOpen' },\n  { label: 'Quiz', key: 'quiz', iconIdentifier: 'PieChart' },\n  { label: 'Mindmap', key: 'mindmap', iconIdentifier: 'Brain' },\n  { label: 'Roleplay', key: 'roleplay', iconIdentifier: 'MessageSquare' },\n  { label: 'Practice', key: 'interactive', iconIdentifier: 'PenTool' },\n]\n\n// Helper function to check if a tab should be available\nconst isTabAvailable = (tabType: string, content: any) => {\n  try {\n    // Original content is always available\n    if (tabType === 'og') {\n      return true\n    }\n\n    if (!content) {\n      console.log(`No content provided for tab: ${tabType}`)\n      return false\n    }\n\n    // For specific content types, check if they exist\n    let result = false\n    let contentValue = null\n\n    switch (tabType) {\n      case 'notes':\n        contentValue = content.notes\n        result = Boolean(contentValue) && contentValue !== ''\n        break\n      case 'summary':\n        contentValue = content.summary\n        result = Boolean(contentValue) && contentValue !== ''\n        break\n      case 'quiz':\n        contentValue = content.quiz\n        result =\n          Boolean(contentValue) &&\n          (Array.isArray(contentValue)\n            ? contentValue.length > 0\n            : typeof contentValue === 'object'\n              ? Object.keys(contentValue).length > 0\n              : contentValue !== '')\n        break\n      case 'mindmap':\n        contentValue = content.mindmap\n        result = Boolean(contentValue) && contentValue !== ''\n        break\n      case 'video':\n        contentValue = content.video_url\n        result = Boolean(contentValue) && contentValue !== ''\n        break\n      case 'roleplay':\n        contentValue = content.roleplay\n        result =\n          Boolean(contentValue) &&\n          (typeof contentValue === 'string'\n            ? contentValue !== ''\n            : typeof contentValue === 'object'\n              ? Object.keys(contentValue).length > 0\n              : false)\n        break\n      case 'interactive':\n        contentValue = content.interactive\n        // Always show the interactive tab, regardless of whether content exists\n        result = true\n        break\n      default:\n        result = false\n    }\n\n    console.log(`Tab '${tabType}' availability: ${result}`, contentValue)\n    return result\n  } catch (error) {\n    console.error(`Error checking tab availability for ${tabType}:`, error)\n    return false\n  }\n}\n\n// Helper function to get available tabs based on content\nconst getAvailableTabs = (content: any, chapter: any): TabConfig[] => {\n  console.log(\n    'Getting available tabs with content:',\n    content,\n    'chapter:',\n    chapter\n  )\n\n  // Use the existing BASE_TABS array defined above that has the correct structure\n  // Filter tabs based on content availability\n  const availableTabs = BASE_TABS.filter(tab =>\n    isTabAvailable(tab.key, content)\n  )\n\n  console.log('Available tabs:', availableTabs)\n  return availableTabs\n}\n\n// Interface for the hook's state\ninterface CourseState {\n  activeTab: string\n  showReport: boolean\n  isFullscreenMindmap: boolean\n  // timelineMarkers: any[]; // Consider moving marker logic if tied to video player state\n  isLoading: boolean\n  showSettings: boolean\n  generatingTypes: ContentType[]\n  isMobileView: boolean\n  sidebarOpen: boolean\n  isGeneratingRoleplay: boolean\n  // activeChapterId: string | undefined; // If chapter change logic moves here\n}\n\n// Interface for the hook's return value\ninterface UseCourseStateReturn extends CourseState {\n  // State Setters/Updaters exposed by the hook\n  handleTabClick: (tabKey: string) => void\n  toggleSidebar: () => void\n  handleMindmapBack: () => void\n  toggleMindmapFullscreen: () => void\n  showContentGenerationPanel: () => void\n  hideContentGenerationPanel: () => void\n  handleGenerateContent: (type: ContentType) => Promise<void>\n  handleGenerateRoleplay: () => Promise<void>\n  handleCloseReport: () => void\n  handleShowReport: () => void // Add function to show report\n  availableTabs: TabConfig[] // Use the defined TabConfig\n  getMissingContentTypes: (\n    content: ChapterContent | null | undefined\n  ) => ContentType[]\n  isGeneratingContent: (type: ContentType) => boolean // Function checking local state\n  // Add other handlers as needed, e.g., handleChapterChange, handleVideoMarkerClick\n  getCurrentContentContext: () => string\n  isChapterHookGenerating: boolean // Boolean flag from useChapters hook\n}\n\n// Initial state calculation helper\nconst getInitialActiveTab = (\n  content: ChapterContent | null | undefined\n): string => {\n  // Use the helper function to find the first available tab or default\n  const firstAvailable = BASE_TABS.find(tab => isTabAvailable(tab.key, content))\n  return firstAvailable ? firstAvailable.key : 'notes' // Default to notes if nothing else\n}\n\nexport const useCourseState = (\n  initialContent: ChapterContent | null | undefined,\n  chapter: Chapter | null | undefined,\n  language = 'English'\n): UseCourseStateReturn => {\n  console.log('useCourseState called with:', {\n    initialContent,\n    chapter,\n    language,\n  })\n\n  // Extract data from initialContent\n  const {\n    notes,\n    latex_code,\n    mindmap,\n    quiz = [],\n    summary,\n    og: generatedOgField,\n    video_url,\n    roleplay,\n  } = initialContent || {}\n  console.log('Extracted content fields:', {\n    hasNotes: !!notes,\n    hasLatexCode: !!latex_code,\n    hasMindmap: !!mindmap,\n    hasQuiz: !!quiz && Array.isArray(quiz) ? quiz.length > 0 : !!quiz,\n    hasSummary: !!summary,\n    hasOg: !!generatedOgField,\n    hasVideoUrl: !!video_url,\n    hasRoleplay: !!roleplay,\n  })\n  const interactionTracker = useInteractionTracker()\n  const {\n    generateMissingContent,\n    getMissingContentTypes,\n    isGeneratingContent: isChapterHookGenerating,\n  } = useChapters()\n  const oAiKey = import.meta.env.VITE_OPENAI_API_KEY\n\n  // Determine initial active tab based on chapter.chapter presence\n  const determineInitialTab = () => {\n    if (chapter?.chapter) {\n      // Check chapter.chapter instead of chapter.og\n      return OG_TAB_CONFIG.key // Default to 'og' if original chapter content exists\n    }\n    // Fallback: Find the first available *generated* content tab\n    const firstAvailableGenerated = BASE_TABS.find(tab =>\n      isTabAvailable(tab.key, initialContent)\n    )\n    return firstAvailableGenerated\n      ? firstAvailableGenerated.key\n      : OG_TAB_CONFIG.key // Default to OG if available, else maybe first in list? or handle no tabs case\n  }\n\n  const [state, setState] = useState<CourseState>(() => ({\n    activeTab: determineInitialTab(), // Use the function here\n    showReport: false, // Default to false\n    isFullscreenMindmap: false,\n    // timelineMarkers: [], // Initialize markers if managed here\n    isLoading: false,\n    showSettings: false,\n    generatingTypes: [],\n    isMobileView: typeof window !== 'undefined' && window.innerWidth < 768,\n    sidebarOpen:\n      typeof window !== 'undefined' ? window.innerWidth >= 1024 : true, // Default open on SSR/initial\n    isGeneratingRoleplay: false,\n  }))\n\n  // Calculate available tabs using the new function\n  const availableTabs = useMemo(\n    () => getAvailableTabs(initialContent, chapter),\n    [initialContent, chapter]\n  )\n\n  // Responsive behavior\n  useEffect(() => {\n    const handleResize = () => {\n      const isMobile = window.innerWidth < 768\n      const shouldOpenSidebar = window.innerWidth >= 1024\n      setState(prevState => ({\n        ...prevState,\n        isMobileView: isMobile,\n        // Only adjust sidebar based on resize if it wasn't manually toggled? Decide on behavior.\n        // sidebarOpen: shouldOpenSidebar\n      }))\n    }\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  // Effect to reset tab if current one becomes unavailable\n  useEffect(() => {\n    const currentTabIsAvailable = availableTabs.some(\n      tab => tab.key === state.activeTab\n    )\n    if (!currentTabIsAvailable && availableTabs.length > 0) {\n      setState(prevState => ({\n        ...prevState,\n        activeTab: availableTabs[0]?.key || 'chapter',\n      }))\n    }\n  }, [availableTabs, state.activeTab])\n\n  // --- State Update Callbacks ---\n\n  const toggleSidebar = useCallback(() => {\n    setState(prevState => ({\n      ...prevState,\n      sidebarOpen: !prevState.sidebarOpen,\n    }))\n  }, [])\n\n  const handleTabClick = useCallback(\n    (tabKey: string) => {\n      setState(prevState => ({\n        ...prevState,\n        // isLoading: true, // Consider if loading state is needed just for tab switch\n        activeTab: tabKey,\n        // showReport: tabKey === 'report' // Remove report logic\n      }))\n\n      // Track interactions (ensure chapter and video_url are stable or passed correctly)\n      if (!chapter) return\n      switch (tabKey) {\n        case 'quiz':\n          interactionTracker.trackQuizStart(\n            parseInt(chapter.id.toString(), 10),\n            {\n              quizId: chapter.id.toString(),\n              quizTitle: chapter.chaptertitle,\n              questionCount: 5, // Default question count\n              attemptNumber: 1, // Default attempt number\n              knowledgeId: chapter.knowledge_id?.toString() || '',\n              moduleId: chapter.id.toString(),\n            }\n          )\n          break\n        case 'notes':\n          interactionTracker.trackContentView('notes', {\n            contentId: 'notes',\n            knowledgeId: chapter.knowledge_id?.toString() || '',\n            moduleId: chapter.id.toString(),\n            contentTitle: chapter.chaptertitle,\n            contentType: 'notes',\n            timestamp: Date.now(),\n          })\n          break\n        case 'summary':\n          interactionTracker.trackContentView('summary', {\n            contentId: 'summary',\n            knowledgeId: chapter.knowledge_id?.toString() || '',\n            moduleId: chapter.id.toString(),\n            contentTitle: chapter.chaptertitle,\n            contentType: 'summary',\n            timestamp: Date.now(),\n          })\n          break\n        case 'mindmap':\n          interactionTracker.trackContentView('mindmap', {\n            contentId: 'mindmap',\n            knowledgeId: chapter.knowledge_id?.toString() || '',\n            moduleId: chapter.id.toString(),\n            chapterTitle: chapter.chaptertitle,\n            contentType: 'mindmap',\n          })\n          break\n        case 'video':\n          if (video_url)\n            interactionTracker.trackVideoPlay(\n              parseInt(chapter.id.toString(), 10),\n              {\n                knowledgeId: chapter.knowledge_id?.toString() || '',\n                moduleId: chapter.id.toString(),\n                currentTime: 0,\n                totalDuration: 0,\n                progressPercent: 0,\n                videoId: chapter.id.toString(),\n                chapterTitle: chapter.chaptertitle,\n                videoUrl: video_url\n              }\n            )\n          break\n        case 'og':\n          interactionTracker.trackContentView('og', {\n            contentId: 'og',\n            knowledgeId: chapter.knowledge_id?.toString() || '',\n            moduleId: chapter.id.toString(),\n            chapterTitle: chapter.chaptertitle,\n            contentType: 'original',\n          })\n          break // Track 'og' view\n      }\n      // Simulate loading delay removed, content renderer handles its own loading state\n    },\n    [chapter, interactionTracker, video_url]\n  ) // Add dependencies carefully\n\n  const handleMindmapBack = useCallback(() => {\n    setState(prevState => ({ ...prevState, isFullscreenMindmap: false }))\n  }, [])\n\n  const toggleMindmapFullscreen = useCallback(() => {\n    setState(prevState => ({\n      ...prevState,\n      isFullscreenMindmap: !prevState.isFullscreenMindmap,\n    }))\n  }, [])\n\n  const showContentGenerationPanel = useCallback(() => {\n    setState(prevState => ({ ...prevState, showSettings: true }))\n  }, [])\n\n  const hideContentGenerationPanel = useCallback(() => {\n    setState(prevState => ({ ...prevState, showSettings: false }))\n  }, [])\n\n  const handleGenerateContent = useCallback(\n    async (type: ContentType) => {\n      if (state.generatingTypes.includes(type) || !chapter) return\n      setState(prevState => ({\n        ...prevState,\n        generatingTypes: [...prevState.generatingTypes, type],\n      }))\n      try {\n        await generateMissingContent(chapter, language, [type])\n      } catch (error) {\n        console.error(`Error generating ${type}:`, error)\n      } finally {\n        setState(prevState => ({\n          ...prevState,\n          generatingTypes: prevState.generatingTypes.filter(t => t !== type),\n        }))\n      }\n    },\n    [state.generatingTypes, chapter, language, generateMissingContent]\n  )\n\n  // Ref for interaction tracker to potentially avoid dependency issues in callbacks\n  const interactionTrackerRef = useRef(interactionTracker)\n  useEffect(() => {\n    interactionTrackerRef.current = interactionTracker\n  }, [interactionTracker])\n\n  const handleGenerateRoleplay = useCallback(async () => {\n    if (state.isGeneratingRoleplay || !chapter || !oAiKey) return\n\n    setState(prevState => ({ ...prevState, isGeneratingRoleplay: true }))\n    try {\n      const scenarios = await generateRoleplayScenarios(\n        chapter.knowledge_id,\n        String(chapter.id),\n        oAiKey,\n        notes || summary || chapter.chapter || '' // Context for generation\n      )\n      interactionTrackerRef.current.trackContentView('roleplay', {\n        // Use ref\n        contentId: 'roleplay',\n        knowledgeId: chapter.knowledge_id?.toString() || '',\n        moduleId: chapter.id.toString(),\n        chapterTitle: chapter.chaptertitle,\n        contentType: 'roleplay',\n      })\n      // TODO: Update state or trigger refetch to show new roleplay content\n      console.log('Generated Roleplay Scenarios:', scenarios) // Placeholder\n    } catch (error) {\n      console.error('Error generating roleplay scenarios:', error)\n    } finally {\n      setState(prevState => ({ ...prevState, isGeneratingRoleplay: false }))\n    }\n  }, [state.isGeneratingRoleplay, chapter, oAiKey, notes, summary])\n\n  const handleCloseReport = useCallback(() => {\n    setState(prevState => ({ ...prevState, showReport: false }))\n  }, [])\n\n  // Add function to show the report\n  const handleShowReport = useCallback(() => {\n    setState(prevState => ({ ...prevState, showReport: true }))\n  }, [])\n\n  const isGeneratingContent = useCallback(\n    (type: ContentType): boolean => {\n      return state.generatingTypes.includes(type)\n    },\n    [state.generatingTypes]\n  )\n\n  const getCurrentContentContext = useCallback(() => {\n    if (!chapter) return ''\n    switch (state.activeTab) {\n      case 'notes':\n        return notes || ''\n      case 'summary':\n        return summary || ''\n      case 'quiz':\n        return `Quiz content for ${chapter.chaptertitle}`\n      case 'mindmap':\n        return `Mindmap for ${chapter.chaptertitle}`\n      case 'og':\n        return chapter.chapter || '' // Context for original content is chapter.chapter\n      // Add cases for other content types\n      default:\n        return chapter.chapter || '' // Fallback context is chapter.chapter\n    }\n  }, [state.activeTab, notes, summary, chapter])\n\n  // Return state values and handlers\n  return {\n    ...state,\n    handleTabClick,\n    toggleSidebar,\n    handleMindmapBack,\n    toggleMindmapFullscreen,\n    showContentGenerationPanel,\n    hideContentGenerationPanel,\n    handleGenerateContent,\n    handleGenerateRoleplay,\n    handleCloseReport,\n    handleShowReport, // Return the new function\n    availableTabs, // Memoized and filtered tabs with icons\n    getMissingContentTypes,\n    isGeneratingContent,\n    getCurrentContentContext,\n    isChapterHookGenerating,\n  }\n}\n","import {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  ReactNode,\n} from 'react'\nimport { User } from '../types/api'\nimport { createApiClient, DynamicApiClient } from '../services/dynamic-api-client'\n\ninterface AuthContextType {\n  user: User | null\n  loading: boolean\n  apiClient: DynamicApiClient | null\n  login: (flowId: string) => Promise<void>\n  register: (flowId: string) => Promise<void>\n  logout: () => Promise<void>\n  isAuthenticated: () => boolean\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined)\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [apiClient, setApiClient] = useState<DynamicApiClient | null>(null)\n\n  useEffect(() => {\n    const initAuth = async () => {\n      try {\n        // Initialize API client\n        const client = await createApiClient()\n        setApiClient(client)\n        \n        // Check for existing auth token\n        const token = localStorage.getItem('auth_token')\n        if (token) {\n          client.setAuthToken(token)\n          \n          // Validate token and get user info\n          try {\n            // You might want to add a /me endpoint to validate the token\n            // For now, we'll construct user from token payload\n            const payload = JSON.parse(atob(token.split('.')[1]))\n            setUser({\n              id: payload.user_id,\n              email: payload.email || '',\n              display_name: payload.display_name || '',\n              roles: payload.roles || ['user'],\n              verified: payload.verified || false\n            } as User)\n          } catch (tokenError) {\n            console.error('Invalid token, clearing auth:', tokenError)\n            localStorage.removeItem('auth_token')\n            client.clearAuth()\n          }\n        }\n      } catch (error) {\n        console.error('Auth initialization failed:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    initAuth()\n  }, [])\n\n  const login = async (flowId: string) => {\n    if (!apiClient) throw new Error('API client not initialized')\n    \n    try {\n      const result = await (apiClient as any).loginUserAuthLoginPost({ flow_id: flowId })\n      \n      // Store token and set user\n      localStorage.setItem('auth_token', result.access_token)\n      apiClient.setAuthToken(result.access_token)\n      setUser(result.user)\n    } catch (error) {\n      console.error('Login failed:', error)\n      throw error\n    }\n  }\n\n  const register = async (flowId: string) => {\n    if (!apiClient) throw new Error('API client not initialized')\n    \n    try {\n      const result = await (apiClient as any).registerUserAuthRegisterPost({ flow_id: flowId })\n      \n      // Store token and set user\n      localStorage.setItem('auth_token', result.access_token)\n      apiClient.setAuthToken(result.access_token)\n      setUser(result.user)\n    } catch (error) {\n      console.error('Registration failed:', error)\n      throw error\n    }\n  }\n\n  const logout = async () => {\n    // Clear local storage and API client auth\n    localStorage.removeItem('auth_token')\n    if (apiClient) {\n      apiClient.clearAuth()\n    }\n    setUser(null)\n  }\n\n  const isAuthenticated = () => {\n    return !!user && !!localStorage.getItem('auth_token')\n  }\n\n  return (\n    <AuthContext.Provider value={{ \n      user, \n      loading, \n      apiClient, \n      login, \n      register, \n      logout, \n      isAuthenticated \n    }}>\n      {children}\n    </AuthContext.Provider>\n  )\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext)\n  if (context === undefined) {\n    // Return a default context when used outside of AuthProvider\n    console.warn('useAuth called outside of AuthProvider, returning default values')\n    return {\n      user: null,\n      loading: false,\n      apiClient: null,\n      login: async () => { throw new Error('AuthProvider not available') },\n      register: async () => { throw new Error('AuthProvider not available') },\n      logout: async () => { throw new Error('AuthProvider not available') },\n      isAuthenticated: () => false\n    }\n  }\n  return context\n}\n","'use client'\n\nimport React, { createContext, useContext, ReactNode, useEffect } from 'react'\nimport { Chapter, ChapterContent } from '@/types/api'\nimport { useCourseState } from '@/hooks/useCourseState'\nimport { ContentType } from '@/services/edtech-api'\nimport { DynamicApiClient } from '@/services/dynamic-api-client'\nimport { useAuth } from './AuthContext'\n\n// CourseState interface defined here for export\nexport interface CourseState {\n  // Course data\n  content: ChapterContent\n  chapter: Chapter\n  language: string\n\n  // UI state\n  activeTab: string\n  showReport: boolean\n  isFullscreenMindmap: boolean\n  timelineMarkers: any[]\n  isLoading: boolean\n  showSettings: boolean\n  generatingTypes: ContentType[]\n  isMobileView: boolean\n  sidebarOpen: boolean\n  isGeneratingRoleplay: boolean\n  activeChapterId: string | undefined\n  availableTabs: Array<{\n    key: string\n    label: string\n    icon: React.ReactNode\n  }>\n}\n\n// Enhanced context type that includes API client\ntype CourseContextType = ReturnType<typeof useCourseState> & {\n  apiClient: DynamicApiClient | null\n}\n\n// Create the context with a default undefined value\nconst CourseContext = createContext<CourseContextType | undefined>(undefined)\n\ninterface CourseProviderProps {\n  children: ReactNode\n  content: ChapterContent\n  chapter: Chapter\n  language?: string\n  availableTabs: Array<{\n    key: string\n    label: string\n    icon: React.ReactNode\n  }>\n}\n\nexport const CourseProvider: React.FC<CourseProviderProps> = ({\n  children,\n  content,\n  chapter,\n  language = 'English',\n  availableTabs,\n}) => {\n  const authContext = useAuth()\n  const apiClient = authContext?.apiClient || null\n  \n  // Log any missing data for debugging\n  useEffect(() => {\n    if (!chapter || !chapter.id) {\n      console.warn('CourseProvider: Missing or invalid chapter data', chapter)\n    }\n    if (!content) {\n      console.warn('CourseProvider: Missing content data')\n    }\n  }, [chapter, content])\n\n  // If content or chapter is missing, don't render children\n  if (!chapter?.id) {\n    console.error('CourseProvider: Required chapter data is missing', {\n      chapter,\n    })\n    return null\n  }\n\n  console.log('CourseProvider rendering with combined content:', content)\n  console.log('Video URL in provider:', content?.video_url)\n  console.log('Roleplay data in provider:', content?.roleplay)\n\n  const courseState = useCourseState(content, chapter, language)\n\n  // Enhanced context value with API client\n  const enhancedContextValue: CourseContextType = {\n    ...courseState,\n    apiClient\n  }\n\n  return (\n    <CourseContext.Provider value={enhancedContextValue}>\n      {children}\n    </CourseContext.Provider>\n  )\n}\n\n// Custom hook to use the course context\nexport function useCourse(): CourseContextType {\n  const context = useContext(CourseContext)\n\n  if (context === undefined) {\n    throw new Error('useCourse must be used within a CourseProvider')\n  }\n\n  return context\n}\n","'use client'\n\nimport React, { useMemo } from 'react'\nimport { Chapter, ChapterContent } from '@/types/api'\nimport { CourseProvider } from '@/contexts/CourseContext'\nimport { useCourse } from '@/contexts/CourseContext'\nimport CourseHeader from './CourseHeader'\nimport CourseContentRenderer from './CourseContentRenderer'\nimport {\n  FileText,\n  BookOpen,\n  PieChart,\n  Video,\n  MessageSquare,\n} from 'lucide-react'\nimport { ContentGenerationPanel } from '@/components/content/ContentGenerationPanel'\nimport ChatbotFloatingButton from '@/components/ChatbotFloatingButton'\nimport LearningReport from '@/components/LearningReport'\nimport { useChapters } from '@/hooks/useChapters'\nimport { useInteractionTracker } from '@/contexts/InteractionTrackerContext'\n\nimport Loader from '@/components/ui/Loader'\n\ninterface CourseMainProps {\n  content: ChapterContent\n  language: string\n  chapter: Chapter\n}\n\n// Add props interface for CourseContent\ninterface CourseContentProps {\n  content: ChapterContent\n  chapter: Chapter\n  language: string\n}\n\nconst CourseContent: React.FC<CourseContentProps> = ({\n  content,\n  chapter,\n  language,\n}) => {\n  const {\n    activeTab,\n    showReport,\n    isFullscreenMindmap,\n    showSettings,\n    sidebarOpen,\n    isLoading,\n    availableTabs,\n    toggleSidebar,\n    handleTabClick,\n    showContentGenerationPanel,\n    hideContentGenerationPanel,\n    handleMindmapBack,\n    generatingTypes,\n    handleGenerateContent: generateContentFromHook,\n    handleCloseReport,\n    handleShowReport,\n  } = useCourse()\n\n  const { getMissingContentTypes, isGeneratingContent: isHookGenerating } =\n    useChapters()\n\n  const { session } = useInteractionTracker()\n  const userId =\n    typeof session?.metadata?.userId === 'string'\n      ? session.metadata.userId\n      : 'anonymous'\n\n  // Create chaptersMeta array from the current chapter\n  const chaptersMeta = useMemo(() => {\n    if (!chapter) return []\n    return [chapter]\n  }, [chapter])\n\n  return (\n    <div className='course-viewer flex min-h-screen flex-col bg-gray-900'>\n      {/* Course Header Component */}\n      <CourseHeader\n        chapter={chapter}\n        activeTab={activeTab}\n        sidebarOpen={sidebarOpen}\n        availableTabs={availableTabs}\n        getMissingContentTypes={getMissingContentTypes}\n        toggleSidebar={toggleSidebar}\n        handleTabClick={handleTabClick}\n        onShowSettings={showContentGenerationPanel}\n        showSettingsButton={\n          content ? getMissingContentTypes(content).length > 0 : false\n        }\n        onShowReport={handleShowReport}\n      />\n\n      {/* Main Content Area */}\n      <div className='relative flex-grow overflow-hidden'>\n        {/* Settings Panel */}\n        {showSettings && (\n          <ContentGenerationPanel\n            chapter={chapter}\n            language={language}\n            missingTypes={content ? getMissingContentTypes(content) : []}\n            onGenerate={generateContentFromHook}\n            isGenerating={isHookGenerating}\n            onClose={hideContentGenerationPanel}\n            generatingTypes={generatingTypes}\n          />\n        )}\n\n        {/* Content Renderer Component */}\n        <CourseContentRenderer\n          activeTab={activeTab}\n          content={content}\n          chapter={chapter}\n          language={language}\n          chaptersMeta={chaptersMeta}\n          isLoading={isLoading}\n          showReport={showReport}\n          isFullscreenMindmap={isFullscreenMindmap}\n          sidebarOpen={sidebarOpen}\n          onMindmapBack={handleMindmapBack}\n          onToggleMindmapFullscreen={handleMindmapBack}\n          onCloseReport={handleCloseReport}\n          onGenerateContentRequest={showContentGenerationPanel}\n        />\n\n        {/* Chatbot Floating Button */}\n        <div className='absolute bottom-4 left-4 z-50'>\n          <ChatbotFloatingButton\n            contentContext={content?.notes || ''}\n            chapterTitle={chapter?.chaptertitle || 'Current Chapter'}\n          />\n        </div>\n      </div>\n\n      {/* Learning Report Modal */}\n      {showReport && userId && chapter?.knowledge_id && (\n        <div className='fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4'>\n          <div className='max-h-[90vh] w-full max-w-3xl overflow-auto rounded-lg bg-gray-800'>\n            <LearningReport\n              userId={userId}\n              knowledgeId={String(chapter.knowledge_id)}\n              onClose={handleCloseReport}\n            />\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\n// Main component with CourseProvider\nconst CourseMain: React.FC<CourseMainProps> = ({\n  content,\n  language,\n  chapter,\n}) => {\n  // Ensure we have valid chapter data before rendering\n  if (!chapter || !chapter.id) {\n    return (\n      <div className='flex h-screen flex-col items-center justify-center bg-gray-900 text-white'>\n        <Loader size='large' />\n        <p className='mt-4'>Loading chapter data...</p>\n      </div>\n    )\n  }\n\n  // Helper function to get icon component\n  const getIconComponent = (iconIdentifier: string) => {\n    const iconMap = {\n      FileText: <FileText className='h-4 w-4' />,\n      BookOpen: <BookOpen className='h-4 w-4' />,\n      PieChart: <PieChart className='h-4 w-4' />,\n      Video: <Video className='h-4 w-4' />,\n      MessageSquare: <MessageSquare className='h-4 w-4' />,\n    }\n    return iconMap[iconIdentifier as keyof typeof iconMap] || null\n  }\n\n  // Create availableTabs from content\n  const getAvailableTabs = () => {\n    const tabs = []\n\n    if (content.notes) {\n      tabs.push({\n        label: 'Notes',\n        key: 'notes',\n        icon: getIconComponent('FileText'),\n      })\n    }\n\n    if (content.summary) {\n      tabs.push({\n        label: 'Summary',\n        key: 'summary',\n        icon: getIconComponent('BookOpen'),\n      })\n    }\n\n    if (content.quiz && content.quiz.length > 0) {\n      tabs.push({\n        label: 'Quiz',\n        key: 'quiz',\n        icon: getIconComponent('PieChart'),\n      })\n    }\n\n    if (content.video_url) {\n      tabs.push({\n        label: 'Video',\n        key: 'video',\n        icon: getIconComponent('Video'),\n      })\n    }\n\n    if (content.roleplay) {\n      tabs.push({\n        label: 'Roleplay',\n        key: 'roleplay',\n        icon: getIconComponent('MessageSquare'),\n      })\n    }\n\n    return tabs\n  }\n\n  return (\n    <CourseProvider\n      content={content}\n      chapter={chapter}\n      language={language}\n      availableTabs={getAvailableTabs()}\n    >\n      <CourseContent content={content} chapter={chapter} language={language} />\n    </CourseProvider>\n  )\n}\n\nexport default CourseMain\n","import type { Meta, StoryObj } from '@storybook/react'\nimport CourseMain from './CourseMain'\nimport {\n  BookOpen,\n  FileText,\n  PieChart,\n  Video,\n  Brain,\n  MessageSquare,\n} from 'lucide-react'\nimport { InteractionTrackerProvider } from '../../stories/InteractionTrackerContextMock'\n\n\n// Mock data for our stories\nconst mockChapter = {\n  id: 1,\n  chaptertitle: 'Introduction to Linear Algebra',\n  subtopic: 'Vectors and Vector Spaces',\n  topic: 'Linear Algebra',\n  knowledge_id: 123,\n  chapter:\n    'This is the original chapter content. Linear algebra is the branch of mathematics concerning linear equations, linear functions and their representations through matrices and vector spaces.',\n  chapter_type: 'text',\n  context: null,\n  created_at: '2023-01-01T00:00:00Z',\n  k_id: 123,\n  level: 1,\n  lines: 100,\n  metadata: null,\n  needs_code: false,\n  needs_latex: true,\n  needs_roleplay: false,\n  seeded: true,\n  timestamp_end: 600,\n  timestamp_start: 0,\n  type: 'lecture',\n}\n\nconst mockContent = {\n  notes:\n    'These are the notes for the chapter. Linear algebra is a fundamental area of mathematics that deals with vector spaces and linear transformations between these spaces.',\n  summary:\n    'This chapter introduces the fundamental concepts of linear algebra, focusing on vectors, vector spaces, and their operations.',\n  quiz: [\n    {\n      question: 'What is a vector space?',\n      options: [\n        'A collection of vectors',\n        'A mathematical structure that is a set of vectors with operations of addition and scalar multiplication',\n        'A three-dimensional coordinate system',\n        'A point in a coordinate system',\n      ],\n      correct_answer:\n        'A mathematical structure that is a set of vectors with operations of addition and scalar multiplication',\n      answer: '',\n      explanation:\n        'A vector space is a mathematical structure formed by a set of vectors with operations of addition and scalar multiplication, satisfying certain axioms.',\n    },\n    {\n      question: 'What is linear independence?',\n      options: [\n        'When vectors are perpendicular to each other',\n        'When no vector in a set can be written as a linear combination of the others',\n        'When vectors have the same magnitude',\n        'When vectors point in the same direction',\n      ],\n      correct_answer:\n        'When no vector in a set can be written as a linear combination of the others',\n      answer: '',\n      explanation:\n        'A set of vectors is linearly independent if no vector in the set can be expressed as a linear combination of the other vectors.',\n    },\n  ],\n  mindmap:\n    '{\"nodes\":[{\"id\":\"root\",\"text\":\"Linear Algebra\",\"fx\":400,\"fy\":200},{\"id\":\"node1\",\"text\":\"Vector Spaces\",\"fx\":200,\"fy\":100},{\"id\":\"node2\",\"text\":\"Linear Transformations\",\"fx\":600,\"fy\":100},{\"id\":\"node3\",\"text\":\"Matrices\",\"fx\":200,\"fy\":300},{\"id\":\"node4\",\"text\":\"Eigenvalues & Eigenvectors\",\"fx\":600,\"fy\":300}],\"links\":[{\"source\":\"root\",\"target\":\"node1\"},{\"source\":\"root\",\"target\":\"node2\"},{\"source\":\"root\",\"target\":\"node3\"},{\"source\":\"root\",\"target\":\"node4\"},{\"source\":\"node1\",\"target\":\"node3\"},{\"source\":\"node2\",\"target\":\"node3\"},{\"source\":\"node3\",\"target\":\"node4\"}]}',\n  video_url: 'https://example.com/videos/linear-algebra-intro.mp4',\n  roleplay: {\n    scenarios: [\n      {\n        id: '1',\n        title: 'Professor and Student Discussion',\n        description:\n          'A conversation between a math professor and a student trying to understand vector spaces.',\n        characters: [\n          {\n            id: 'prof',\n            name: 'Professor Smith',\n            description:\n              'An experienced mathematics professor specializing in linear algebra.',\n          },\n          {\n            id: 'student',\n            name: 'Alex',\n            description:\n              'A curious student trying to understand the fundamentals of vector spaces.',\n          },\n        ],\n        initialPrompt:\n          'Alex approaches Professor Smith after class with questions about vector spaces.',\n        relatedCourse: 'Linear Algebra',\n      },\n    ],\n  },\n  latex_code: '\\\\begin{align} V = \\\\{v_1, v_2, \\\\ldots, v_n\\\\} \\\\end{align}',\n}\n\nconst meta: Meta<typeof CourseMain> = {\n  title: 'Course/CourseMain',\n  component: CourseMain,\n  parameters: {\n    layout: 'fullscreen',\n  },\n  decorators: [\n    Story => (\n      <div className='min-h-screen bg-gray-900'>\n        <InteractionTrackerProvider>\n          <Story />\n        </InteractionTrackerProvider>\n      </div>\n    ),\n  ],\n  // Hide certain controls that shouldn't be modified in Storybook\n  argTypes: {\n    content: { control: 'object' },\n    language: {\n      control: 'select',\n      options: ['English', 'Hindi', 'Bengali', 'Marathi', 'Vietnamese'],\n    },\n    chapter: { control: 'object' },\n  },\n}\n\nexport default meta\ntype Story = StoryObj<typeof CourseMain>\n\nexport const Default: Story = {\n  args: {\n    content: mockContent,\n    language: 'English',\n    chapter: mockChapter,\n  },\n}\n\nexport const WithMissingContent: Story = {\n  args: {\n    content: {\n      notes: mockContent.notes,\n      summary: mockContent.summary,\n      // Quiz, mindmap, and video content are omitted\n    },\n    language: 'English',\n    chapter: mockChapter,\n  },\n}\n\nexport const LoadingState: Story = {\n  args: {\n    content: null,\n    language: 'English',\n    chapter: null,\n  },\n}\n\nexport const WithDifferentLanguage: Story = {\n  args: {\n    content: mockContent,\n    language: 'Hindi',\n    chapter: mockChapter,\n  },\n}\n\n// Define a story where only certain content types are available\nexport const LimitedContent: Story = {\n  args: {\n    content: {\n      notes: mockContent.notes,\n      mindmap: mockContent.mindmap,\n      // Only notes and mindmap are available\n    },\n    language: 'English',\n    chapter: mockChapter,\n  },\n}\n"],"names":["cov_10exlymhpx","actualCoverage","mockResponses","token","user","id","email","name","created_at","Date","success","totalStudents","totalContent","activeAssignments","avgCompletionRate","recentActivity","type","student","assignment","time","topic","classId","className","studentCount","avgProgress","content","title","subject","createdAt","description","updated_at","toISOString","Math","order","baseURL","sandboxMode","constructor","s","enabled","localStorage","setItem","getMockResponse","method","endpoint","key","pattern","patternMethod","patternPath","console","message","data","Promise","resolve","setTimeout","delay","getAuthHeaders","Authorization","response","ok","Error","error","json","mockResponse","simulateNetworkDelay","headers","handleResponse","body","formData","readyState","send","bufferedAmount","extensions","onclose","onerror","onmessage","onopen","protocol","url","CLOSED","CLOSING","CONNECTING","WebSocket","OPEN","wsUrl","cov_1o9kki5wq7","apiClient","uploadFiles","options","files","file","append","Object","value","upload","get","f","delete","knowledgeId","createWebSocket","cov_6lb4ofmhs","generateScenario","request","post","cov_1ltqrvcili","getChapters","chapterId","updates","put","ContentService","getEdTechContent","chapter","_language","contentService","getKnowledge","getKnowledgeMeta","getRoleplayData","insertKnowledge","cov_28kae94zj0","EdTechAPI","apiKey","params","toString","JSON","stringify","errorData","forEach","language","types","cov_1tf2pjwtr3","useRef","STATUS_CHECK_INTERVAL","useChapters","setState","uploadedFiles","useState","chaptersMeta","knowledgeData","processingStatus","isCheckingStatus","isGeneratingContent","generationProgress","total","completed","failed","lastGenerationError","fetchChapters","useCallback","prev","chapters","error2","getChapterMetaDataByLanguage","metadata","knowledgeService","video_url","roleplay","knowledge","b","knowledge_id","contentResult","chapterContent","contentTypes","generationAttemptsRef","generationResponse","edtechApi","generateContent","newContent","failed_chapters","errorMessage","missingTypes","getMissingContentTypes","state","length","generateMissingContent","contentData","notes","push","summary","errorTypes","combinedContent","useMemo","baseContent","setContent","fetchChapterMeta","fetchKnowledgeData","getEdTechContentForChapter","retryContentGeneration","getContentTypesWithErrors","resetGenerationState","cov_6kjtiyvrl","label","iconIdentifier","tabType","contentValue","result","availableTabs","BASE_TABS","filter","tab","isTabAvailable","getInitialActiveTab","useCourseState","initialContent","latex_code","mindmap","quiz","og","hasNotes","hasLatexCode","hasMindmap","hasQuiz","hasSummary","hasOg","generatedOgField","hasVideoUrl","hasRoleplay","interactionTracker","useInteractionTracker","isChapterHookGenerating","undefined","determineInitialTab","OG_TAB_CONFIG","firstAvailableGenerated","activeTab","showSettings","generatingTypes","isMobileView","sidebarOpen","window","getAvailableTabs","useEffect","handleResize","isMobile","shouldOpenSidebar","innerWidth","prevState","addEventListener","removeEventListener","currentTabIsAvailable","tabKey","trackQuizStart","quizId","quizTitle","chaptertitle","questionCount","moduleId","trackContentView","contentId","contentTitle","contentType","timestamp","chapterTitle","trackVideoPlay","currentTime","totalDuration","progressPercent","videoId","videoUrl","handleMindmapBack","isFullscreenMindmap","t","interactionTrackerRef","handleGenerateRoleplay","oAiKey","handleCloseReport","showReport","getCurrentContentContext","handleTabClick","toggleSidebar","toggleMindmapFullscreen","showContentGenerationPanel","hideContentGenerationPanel","handleGenerateContent","handleShowReport","cov_2lzfcjqrct","AuthContext","createContext","children","setUser","loading","setLoading","setApiClient","createApiClient","client","setAuthToken","payload","display_name","roles","verified","tokenError","removeItem","clearAuth","initAuth","flowId","flow_id","logout","isAuthenticated","jsx","login","register","useAuth","useContext","context","cov_2a17l6m412","CourseProvider","authContext","courseState","enhancedContextValue","useCourse","CourseContext","cov_2boyvgjp75","jsxs","CourseContent","isLoading","generateContentFromHook","isHookGenerating","session","CourseHeader","onShowSettings","showSettingsButton","onShowReport","ContentGenerationPanel","onGenerate","isGenerating","onClose","CourseContentRenderer","onMindmapBack","onToggleMindmapFullscreen","onCloseReport","onGenerateContentRequest","contentContext","userId","LearningReport","CourseMain","size","Loader","getIconComponent","FileText","BookOpen","PieChart","Video","MessageSquare","iconMap","tabs","icon","mockChapter","subtopic","chapter_type","k_id","level","lines","needs_code","needs_latex","needs_roleplay","seeded","timestamp_end","timestamp_start","mockContent","question","correct_answer","answer","explanation","scenarios","characters","initialPrompt","relatedCourse","meta","component","parameters","layout","decorators","Story","InteractionTrackerProvider","argTypes","control","Default","args","WithMissingContent","LoadingState","WithDifferentLanguage","LimitedContent","docs","source","originalSource"],"mappings":"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"}