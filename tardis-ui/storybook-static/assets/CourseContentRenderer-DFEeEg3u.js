import{j as m,r as O,R as Ra,g as Uu}from"./iframe-Baxcka9q.js";import{i as Tn,b as _r,c as Qu,d as kr,e as mo,u as Vu,C as Hu,R as ll,a as In,L as $u}from"./LearningReport-SAKc6_Ha.js";import{c as Fa,v as qu,o as rt,u as Zn,a as Xi,n as Gt,l as Yu,b as El,d as Wu,t as La,E as Ku,e as Zi,f as It,m as Fe,g as Xu,h as Zu,i as xn,s as fo,r as Ju,j as _t,k as $n,p as ed,M as nd,q as td,w as ld}from"./index-Ci6XSRhi.js";import{C as Bt}from"./chevron-left-CxQQqCjg.js";import{c as Pe}from"./createLucideIcon-BhHhnBlm.js";import"./index-C-cy63yR.js";import{B as Bn}from"./button-DXArZr2y.js";import{u as Ul,a as Sr,b as od,c as id,d as ho,P as rd,e as zt,f as Nt,h as sd,R as ad,g as cd,i as Ad,F as ud,D as dd,j as md}from"./index-DbLOHU6b.js";import{c as st}from"./utils-CbZsw6Wr.js";import{X as Pa}from"./x-DqPFOomp.js";import{I as fd}from"./input-7Y_YHb2v.js";import{a as hd,O as Ga,u as za,S as pd}from"./InteractionTrackerContext-CvBYxA7b.js";import{L as gd}from"./loader-circle-8XdIYPpo.js";import{T as Cd}from"./trash-2-DHC5cfht.js";import{C as yd}from"./circle-question-mark-CgAfY6ym.js";import{B as Nr}from"./brain-5hf2MatN.js";import{S as bd}from"./SlopeDrawing-B-4jfn4q.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ed=Pe("arrow-left",xd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ji=Pe("chevron-right",vd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],_d=Pe("copy",wd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Sd=Pe("maximize",kd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]],Md=Pe("minimize",Nd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Bd=Pe("plus",Id);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Td=Pe("square-pen",Dd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],jd=Pe("star",Od);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],po=Pe("target",Rd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ld=Pe("trophy",Fd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ua=Pe("user",Pd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zd=Pe("users",Gd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qd=Pe("zap",Ud);var Mr=180/Math.PI,ki={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Qa(e,n,t,l,o,r){var i,a,s;return(i=Math.sqrt(e*e+n*n))&&(e/=i,n/=i),(s=e*t+n*l)&&(t-=e*s,l-=n*s),(a=Math.sqrt(t*t+l*l))&&(t/=a,l/=a,s/=a),e*l<n*t&&(e=-e,n=-n,s=-s,i=-i),{translateX:o,translateY:r,rotate:Math.atan2(n,e)*Mr,skewX:Math.atan(s)*Mr,scaleX:i,scaleY:a}}var ol;function Vd(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?ki:Qa(n.a,n.b,n.c,n.d,n.e,n.f)}function Hd(e){return e==null||(ol||(ol=document.createElementNS("http://www.w3.org/2000/svg","g")),ol.setAttribute("transform",e),!(e=ol.transform.baseVal.consolidate()))?ki:(e=e.matrix,Qa(e.a,e.b,e.c,e.d,e.e,e.f))}function Va(e,n,t,l){function o(c){return c.length?c.pop()+" ":""}function r(c,u,A,d,f,p){if(c!==A||u!==d){var C=f.push("translate(",null,n,null,t);p.push({i:C-4,x:Tn(c,A)},{i:C-2,x:Tn(u,d)})}else(A||d)&&f.push("translate("+A+n+d+t)}function i(c,u,A,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:A.push(o(A)+"rotate(",null,l)-2,x:Tn(c,u)})):u&&A.push(o(A)+"rotate("+u+l)}function a(c,u,A,d){c!==u?d.push({i:A.push(o(A)+"skewX(",null,l)-2,x:Tn(c,u)}):u&&A.push(o(A)+"skewX("+u+l)}function s(c,u,A,d,f,p){if(c!==A||u!==d){var C=f.push(o(f)+"scale(",null,",",null,")");p.push({i:C-4,x:Tn(c,A)},{i:C-2,x:Tn(u,d)})}else(A!==1||d!==1)&&f.push(o(f)+"scale("+A+","+d+")")}return function(c,u){var A=[],d=[];return c=e(c),u=e(u),r(c.translateX,c.translateY,u.translateX,u.translateY,A,d),i(c.rotate,u.rotate,A,d),a(c.skewX,u.skewX,A,d),s(c.scaleX,c.scaleY,u.scaleX,u.scaleY,A,d),c=u=null,function(f){for(var p=-1,C=d.length,y;++p<C;)A[(y=d[p]).i]=y.x(f);return A.join("")}}}var $d=Va(Vd,"px, ","px)","deg)"),qd=Va(Hd,", ",")",")"),Yd=1e-12;function Ir(e){return((e=Math.exp(e))+1/e)/2}function Wd(e){return((e=Math.exp(e))-1/e)/2}function Kd(e){return((e=Math.exp(2*e))-1)/(e+1)}const pl=function e(n,t,l){function o(r,i){var a=r[0],s=r[1],c=r[2],u=i[0],A=i[1],d=i[2],f=u-a,p=A-s,C=f*f+p*p,y,b;if(C<Yd)b=Math.log(d/c)/n,y=function(R){return[a+R*f,s+R*p,c*Math.exp(n*R*b)]};else{var E=Math.sqrt(C),g=(d*d-c*c+l*C)/(2*c*t*E),x=(d*d-c*c-l*C)/(2*d*t*E),N=Math.log(Math.sqrt(g*g+1)-g),B=Math.log(Math.sqrt(x*x+1)-x);b=(B-N)/n,y=function(R){var v=R*b,I=Ir(N),w=c/(t*E)*(I*Kd(n*v+N)-Wd(N));return[a+w*f,s+w*p,c*I/Ir(n*v+N)]}}return y.duration=b*1e3*n/Math.SQRT2,y}return o.rho=function(r){var i=Math.max(.001,+r),a=i*i,s=a*a;return e(i,a,s)},o}(Math.SQRT2,2,4);function ze(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ui/Loader.tsx",n="5292f482690346bcea30d8f58e607523c96c6846",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ui/Loader.tsx",statementMap:{0:{start:{line:2,column:15},end:{line:20,column:1}},1:{start:{line:3,column:18},end:{line:7,column:3}},2:{start:{line:8,column:19},end:{line:13,column:3}},3:{start:{line:14,column:2},end:{line:19,column:7}},4:{start:{line:22,column:0},end:{line:28,column:50}},5:{start:{line:24,column:4},end:{line:24,column:34}},6:{start:{line:26,column:4},end:{line:26,column:551}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:15},end:{line:2,column:16}},loc:{start:{line:2,column:56},end:{line:20,column:1}},line:2}},branchMap:{0:{loc:{start:{line:2,column:18},end:{line:2,column:33}},type:"default-arg",locations:[{start:{line:2,column:25},end:{line:2,column:33}}],line:2},1:{loc:{start:{line:2,column:35},end:{line:2,column:49}},type:"default-arg",locations:[{start:{line:2,column:43},end:{line:2,column:49}}],line:2}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0},b:{0:[0],1:[0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ui/Loader.tsx"],names:[],mappings:"AA4BM;AAlBN;AAEE;AAA4C;AACnC;AACC;AACD;AAIT;AAA8C;AACtC;AACC;AACF;AACG;AAGV;AAEI;AAAC;AAAA;AACyH;AAAA;AAIhI;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5292f482690346bcea30d8f58e607523c96c6846"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return ze=function(){return i},i}ze();ze().s[0]++;const vl=({size:e=(ze().b[0][0]++,"medium"),color:n=(ze().b[1][0]++,"blue")})=>{ze().f[0]++;const t=(ze().s[1]++,{small:"w-5 h-5",medium:"w-10 h-10",large:"w-14 h-14"}),l=(ze().s[2]++,{blue:"from-blue-400 to-blue-600",green:"from-green-400 to-green-600",red:"from-red-400 to-red-600",purple:"from-purple-400 to-purple-600"});return ze().s[3]++,m.jsx("div",{className:"flex items-center justify-center",children:m.jsx("div",{className:` ${t[e]} border-3 animate-spin rounded-full border-t-transparent bg-gradient-to-r ${l[n]} `})})};ze().s[4]++;try{ze().s[5]++,vl.displayName="Loader",ze().s[6]++,vl.__docgenInfo={description:"",displayName:"Loader",props:{size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"large"'},{value:'"medium"'}]}},color:{defaultValue:{value:"blue"},description:"",name:"color",required:!1,type:{name:"enum",value:[{value:'"blue"'},{value:'"green"'},{value:'"red"'},{value:'"purple"'}]}}}}}catch{}function _(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/video/ModernVideoPlayer.tsx",n="2437ca525a2695a7990838ee6173143dde51ee50",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/video/ModernVideoPlayer.tsx",statementMap:{0:{start:{line:3,column:26},end:{line:445,column:1}},1:{start:{line:15,column:19},end:{line:15,column:31}},2:{start:{line:16,column:23},end:{line:16,column:35}},3:{start:{line:17,column:36},end:{line:17,column:51}},4:{start:{line:18,column:40},end:{line:18,column:51}},5:{start:{line:19,column:34},end:{line:19,column:45}},6:{start:{line:20,column:30},end:{line:20,column:41}},7:{start:{line:21,column:32},end:{line:21,column:47}},8:{start:{line:22,column:42},end:{line:22,column:57}},9:{start:{line:23,column:42},end:{line:23,column:57}},10:{start:{line:24,column:29},end:{line:24,column:41}},11:{start:{line:25,column:27},end:{line:25,column:40}},12:{start:{line:26,column:25},end:{line:26,column:37}},13:{start:{line:27,column:24},end:{line:29,column:28}},14:{start:{line:28,column:4},end:{line:28,column:82}},15:{start:{line:28,column:54},end:{line:28,column:80}},16:{start:{line:30,column:2},end:{line:102,column:32}},17:{start:{line:31,column:18},end:{line:31,column:34}},18:{start:{line:32,column:22},end:{line:32,column:42}},19:{start:{line:33,column:4},end:{line:33,column:37}},20:{start:{line:33,column:30},end:{line:33,column:37}},21:{start:{line:34,column:34},end:{line:44,column:5}},22:{start:{line:35,column:22},end:{line:35,column:39}},23:{start:{line:36,column:6},end:{line:36,column:30}},24:{start:{line:37,column:6},end:{line:42,column:7}},25:{start:{line:38,column:8},end:{line:40,column:10}},26:{start:{line:41,column:8},end:{line:41,column:15}},27:{start:{line:43,column:6},end:{line:43,column:30}},28:{start:{line:45,column:33},end:{line:51,column:5}},29:{start:{line:46,column:6},end:{line:50,column:7}},30:{start:{line:47,column:8},end:{line:47,column:36}},31:{start:{line:49,column:8},end:{line:49,column:23}},32:{start:{line:52,column:23},end:{line:52,column:47}},33:{start:{line:52,column:29},end:{line:52,column:47}},34:{start:{line:53,column:24},end:{line:53,column:49}},35:{start:{line:53,column:30},end:{line:53,column:49}},36:{start:{line:54,column:32},end:{line:57,column:5}},37:{start:{line:55,column:6},end:{line:55,column:30}},38:{start:{line:56,column:6},end:{line:56,column:52}},39:{start:{line:58,column:35},end:{line:60,column:5}},40:{start:{line:59,column:6},end:{line:59,column:64}},41:{start:{line:61,column:4},end:{line:63,column:5}},42:{start:{line:62,column:6},end:{line:62,column:29}},43:{start:{line:64,column:4},end:{line:64,column:64}},44:{start:{line:65,column:4},end:{line:65,column:67}},45:{start:{line:66,column:4},end:{line:66,column:67}},46:{start:{line:67,column:4},end:{line:67,column:47}},47:{start:{line:68,column:4},end:{line:68,column:49}},48:{start:{line:69,column:4},end:{line:69,column:64}},49:{start:{line:70,column:4},end:{line:70,column:74}},50:{start:{line:71,column:25},end:{line:71,column:53}},51:{start:{line:71,column:31},end:{line:71,column:53}},52:{start:{line:72,column:33},end:{line:80,column:5}},53:{start:{line:73,column:6},end:{line:75,column:7}},54:{start:{line:74,column:8},end:{line:74,column:49}},55:{start:{line:76,column:6},end:{line:76,column:28}},56:{start:{line:77,column:6},end:{line:79,column:7}},57:{start:{line:78,column:8},end:{line:78,column:67}},58:{start:{line:81,column:4},end:{line:81,column:66}},59:{start:{line:82,column:4},end:{line:82,column:59}},60:{start:{line:83,column:4},end:{line:83,column:62}},61:{start:{line:84,column:4},end:{line:101,column:6}},62:{start:{line:85,column:6},end:{line:85,column:69}},63:{start:{line:86,column:6},end:{line:86,column:72}},64:{start:{line:87,column:6},end:{line:87,column:72}},65:{start:{line:88,column:6},end:{line:88,column:52}},66:{start:{line:89,column:6},end:{line:89,column:54}},67:{start:{line:90,column:6},end:{line:90,column:69}},68:{start:{line:91,column:6},end:{line:91,column:79}},69:{start:{line:92,column:6},end:{line:92,column:71}},70:{start:{line:93,column:6},end:{line:93,column:64}},71:{start:{line:94,column:6},end:{line:94,column:67}},72:{start:{line:95,column:6},end:{line:97,column:7}},73:{start:{line:96,column:8},end:{line:96,column:49}},74:{start:{line:98,column:6},end:{line:100,column:7}},75:{start:{line:99,column:8},end:{line:99,column:45}},76:{start:{line:103,column:21},end:{line:111,column:3}},77:{start:{line:104,column:4},end:{line:110,column:5}},78:{start:{line:105,column:6},end:{line:109,column:7}},79:{start:{line:106,column:8},end:{line:106,column:33}},80:{start:{line:108,column:8},end:{line:108,column:95}},81:{start:{line:108,column:49},end:{line:108,column:93}},82:{start:{line:112,column:21},end:{line:154,column:3}},83:{start:{line:113,column:23},end:{line:113,column:77}},84:{start:{line:114,column:4},end:{line:114,column:80}},85:{start:{line:115,column:4},end:{line:153,column:5}},86:{start:{line:116,column:20},end:{line:116,column:36}},87:{start:{line:117,column:6},end:{line:122,column:8}},88:{start:{line:123,column:22},end:{line:123,column:115}},89:{start:{line:124,column:6},end:{line:124,column:60}},90:{start:{line:125,column:6},end:{line:148,column:7}},91:{start:{line:126,column:8},end:{line:126,column:73}},92:{start:{line:127,column:8},end:{line:127,column:39}},93:{start:{line:128,column:8},end:{line:131,column:10}},94:{start:{line:132,column:8},end:{line:132,column:35}},95:{start:{line:133,column:8},end:{line:133,column:40}},96:{start:{line:134,column:8},end:{line:136,column:9}},97:{start:{line:135,column:10},end:{line:135,column:47}},98:{start:{line:137,column:8},end:{line:140,column:16}},99:{start:{line:138,column:10},end:{line:138,column:43}},100:{start:{line:139,column:10},end:{line:139,column:61}},101:{start:{line:142,column:8},end:{line:147,column:10}},102:{start:{line:150,column:6},end:{line:152,column:8}},103:{start:{line:155,column:29},end:{line:161,column:3}},104:{start:{line:156,column:4},end:{line:160,column:5}},105:{start:{line:157,column:18},end:{line:157,column:44}},106:{start:{line:158,column:6},end:{line:158,column:36}},107:{start:{line:159,column:6},end:{line:159,column:41}},108:{start:{line:162,column:21},end:{line:169,column:3}},109:{start:{line:163,column:4},end:{line:168,column:5}},110:{start:{line:164,column:6},end:{line:164,column:55}},111:{start:{line:165,column:6},end:{line:167,column:7}},112:{start:{line:166,column:8},end:{line:166,column:38}},113:{start:{line:170,column:27},end:{line:202,column:3}},114:{start:{line:171,column:17},end:{line:171,column:37}},115:{start:{line:172,column:4},end:{line:172,column:22}},116:{start:{line:172,column:15},end:{line:172,column:22}},117:{start:{line:173,column:4},end:{line:201,column:5}},118:{start:{line:174,column:6},end:{line:186,column:7}},119:{start:{line:175,column:8},end:{line:183,column:9}},120:{start:{line:176,column:10},end:{line:176,column:41}},121:{start:{line:177,column:15},end:{line:183,column:9}},122:{start:{line:178,column:10},end:{line:178,column:44}},123:{start:{line:179,column:15},end:{line:183,column:9}},124:{start:{line:180,column:10},end:{line:180,column:47}},125:{start:{line:181,column:15},end:{line:183,column:9}},126:{start:{line:182,column:10},end:{line:182,column:43}},127:{start:{line:185,column:8},end:{line:185,column:69}},128:{start:{line:188,column:6},end:{line:200,column:7}},129:{start:{line:189,column:8},end:{line:197,column:9}},130:{start:{line:190,column:10},end:{line:190,column:42}},131:{start:{line:191,column:15},end:{line:197,column:9}},132:{start:{line:192,column:10},end:{line:192,column:47}},133:{start:{line:193,column:15},end:{line:197,column:9}},134:{start:{line:194,column:10},end:{line:194,column:48}},135:{start:{line:195,column:15},end:{line:197,column:9}},136:{start:{line:196,column:10},end:{line:196,column:44}},137:{start:{line:199,column:8},end:{line:199,column:70}},138:{start:{line:203,column:21},end:{line:210,column:3}},139:{start:{line:204,column:4},end:{line:206,column:5}},140:{start:{line:205,column:6},end:{line:205,column:21}},141:{start:{line:207,column:17},end:{line:207,column:41}},142:{start:{line:208,column:17},end:{line:208,column:41}},143:{start:{line:209,column:4},end:{line:209,column:85}},144:{start:{line:211,column:26},end:{line:211,column:73}},145:{start:{line:212,column:28},end:{line:212,column:113}},146:{start:{line:213,column:2},end:{line:444,column:4}},147:{start:{line:218,column:26},end:{line:218,column:47}},148:{start:{line:237,column:28},end:{line:237,column:47}},149:{start:{line:420,column:62},end:{line:439,column:13}},150:{start:{line:424,column:18},end:{line:424,column:38}},151:{start:{line:425,column:18},end:{line:430,column:20}},152:{start:{line:431,column:18},end:{line:431,column:42}},153:{start:{line:432,column:18},end:{line:432,column:42}},154:{start:{line:447,column:0},end:{line:453,column:50}},155:{start:{line:449,column:4},end:{line:449,column:56}},156:{start:{line:451,column:4},end:{line:451,column:1581}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:26},end:{line:3,column:27}},loc:{start:{line:14,column:6},end:{line:445,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:27,column:32},end:{line:27,column:33}},loc:{start:{line:27,column:38},end:{line:29,column:3}},line:27},2:{name:"(anonymous_2)",decl:{start:{line:28,column:42},end:{line:28,column:43}},loc:{start:{line:28,column:54},end:{line:28,column:80}},line:28},3:{name:"(anonymous_3)",decl:{start:{line:30,column:12},end:{line:30,column:13}},loc:{start:{line:30,column:18},end:{line:102,column:3}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:34,column:34},end:{line:34,column:35}},loc:{start:{line:34,column:40},end:{line:44,column:5}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:45,column:33},end:{line:45,column:34}},loc:{start:{line:45,column:39},end:{line:51,column:5}},line:45},6:{name:"(anonymous_6)",decl:{start:{line:52,column:23},end:{line:52,column:24}},loc:{start:{line:52,column:29},end:{line:52,column:47}},line:52},7:{name:"(anonymous_7)",decl:{start:{line:53,column:24},end:{line:53,column:25}},loc:{start:{line:53,column:30},end:{line:53,column:49}},line:53},8:{name:"(anonymous_8)",decl:{start:{line:54,column:32},end:{line:54,column:33}},loc:{start:{line:54,column:38},end:{line:57,column:5}},line:54},9:{name:"(anonymous_9)",decl:{start:{line:58,column:35},end:{line:58,column:36}},loc:{start:{line:58,column:41},end:{line:60,column:5}},line:58},10:{name:"(anonymous_10)",decl:{start:{line:71,column:25},end:{line:71,column:26}},loc:{start:{line:71,column:31},end:{line:71,column:53}},line:71},11:{name:"(anonymous_11)",decl:{start:{line:72,column:33},end:{line:72,column:34}},loc:{start:{line:72,column:39},end:{line:80,column:5}},line:72},12:{name:"(anonymous_12)",decl:{start:{line:84,column:11},end:{line:84,column:12}},loc:{start:{line:84,column:17},end:{line:101,column:5}},line:84},13:{name:"(anonymous_13)",decl:{start:{line:103,column:21},end:{line:103,column:22}},loc:{start:{line:103,column:27},end:{line:111,column:3}},line:103},14:{name:"(anonymous_14)",decl:{start:{line:108,column:38},end:{line:108,column:39}},loc:{start:{line:108,column:49},end:{line:108,column:93}},line:108},15:{name:"(anonymous_15)",decl:{start:{line:112,column:21},end:{line:112,column:22}},loc:{start:{line:112,column:28},end:{line:154,column:3}},line:112},16:{name:"(anonymous_16)",decl:{start:{line:137,column:44},end:{line:137,column:45}},loc:{start:{line:137,column:50},end:{line:140,column:9}},line:137},17:{name:"(anonymous_17)",decl:{start:{line:155,column:29},end:{line:155,column:30}},loc:{start:{line:155,column:36},end:{line:161,column:3}},line:155},18:{name:"(anonymous_18)",decl:{start:{line:162,column:21},end:{line:162,column:22}},loc:{start:{line:162,column:27},end:{line:169,column:3}},line:162},19:{name:"(anonymous_19)",decl:{start:{line:170,column:27},end:{line:170,column:28}},loc:{start:{line:170,column:39},end:{line:202,column:3}},line:170},20:{name:"(anonymous_20)",decl:{start:{line:203,column:21},end:{line:203,column:22}},loc:{start:{line:203,column:34},end:{line:210,column:3}},line:203},21:{name:"(anonymous_21)",decl:{start:{line:218,column:20},end:{line:218,column:21}},loc:{start:{line:218,column:26},end:{line:218,column:47}},line:218},22:{name:"(anonymous_22)",decl:{start:{line:237,column:21},end:{line:237,column:22}},loc:{start:{line:237,column:28},end:{line:237,column:47}},line:237},23:{name:"(anonymous_23)",decl:{start:{line:420,column:34},end:{line:420,column:35}},loc:{start:{line:420,column:62},end:{line:439,column:13}},line:420},24:{name:"(anonymous_24)",decl:{start:{line:423,column:25},end:{line:423,column:26}},loc:{start:{line:423,column:32},end:{line:433,column:17}},line:423}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:16}},type:"default-arg",locations:[{start:{line:8,column:14},end:{line:8,column:16}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:9,column:14}},type:"default-arg",locations:[{start:{line:9,column:12},end:{line:9,column:14}}],line:9},2:{loc:{start:{line:12,column:2},end:{line:12,column:28}},type:"default-arg",locations:[{start:{line:12,column:23},end:{line:12,column:28}}],line:12},3:{loc:{start:{line:33,column:4},end:{line:33,column:37}},type:"if",locations:[{start:{line:33,column:4},end:{line:33,column:37}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:33},4:{loc:{start:{line:33,column:8},end:{line:33,column:28}},type:"binary-expr",locations:[{start:{line:33,column:8},end:{line:33,column:14}},{start:{line:33,column:18},end:{line:33,column:28}}],line:33},5:{loc:{start:{line:37,column:6},end:{line:42,column:7}},type:"if",locations:[{start:{line:37,column:6},end:{line:42,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:37},6:{loc:{start:{line:46,column:6},end:{line:50,column:7}},type:"if",locations:[{start:{line:46,column:6},end:{line:50,column:7}},{start:{line:48,column:13},end:{line:50,column:7}}],line:46},7:{loc:{start:{line:46,column:10},end:{line:46,column:60}},type:"binary-expr",locations:[{start:{line:46,column:10},end:{line:46,column:32}},{start:{line:46,column:36},end:{line:46,column:60}}],line:46},8:{loc:{start:{line:56,column:17},end:{line:56,column:50}},type:"binary-expr",locations:[{start:{line:56,column:17},end:{line:56,column:28}},{start:{line:56,column:32},end:{line:56,column:50}}],line:56},9:{loc:{start:{line:61,column:4},end:{line:63,column:5}},type:"if",locations:[{start:{line:61,column:4},end:{line:63,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:61},10:{loc:{start:{line:73,column:6},end:{line:75,column:7}},type:"if",locations:[{start:{line:73,column:6},end:{line:75,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:73},11:{loc:{start:{line:77,column:6},end:{line:79,column:7}},type:"if",locations:[{start:{line:77,column:6},end:{line:79,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:77},12:{loc:{start:{line:95,column:6},end:{line:97,column:7}},type:"if",locations:[{start:{line:95,column:6},end:{line:97,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:95},13:{loc:{start:{line:98,column:6},end:{line:100,column:7}},type:"if",locations:[{start:{line:98,column:6},end:{line:100,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:98},14:{loc:{start:{line:104,column:4},end:{line:110,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:110,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},15:{loc:{start:{line:105,column:6},end:{line:109,column:7}},type:"if",locations:[{start:{line:105,column:6},end:{line:109,column:7}},{start:{line:107,column:13},end:{line:109,column:7}}],line:105},16:{loc:{start:{line:113,column:23},end:{line:113,column:77}},type:"cond-expr",locations:[{start:{line:113,column:47},end:{line:113,column:48}},{start:{line:113,column:51},end:{line:113,column:77}}],line:113},17:{loc:{start:{line:115,column:4},end:{line:153,column:5}},type:"if",locations:[{start:{line:115,column:4},end:{line:153,column:5}},{start:{line:149,column:11},end:{line:153,column:5}}],line:115},18:{loc:{start:{line:123,column:22},end:{line:123,column:115}},type:"binary-expr",locations:[{start:{line:123,column:22},end:{line:123,column:42}},{start:{line:123,column:46},end:{line:123,column:64}},{start:{line:123,column:68},end:{line:123,column:83}},{start:{line:123,column:87},end:{line:123,column:115}}],line:123},19:{loc:{start:{line:125,column:6},end:{line:148,column:7}},type:"if",locations:[{start:{line:125,column:6},end:{line:148,column:7}},{start:{line:141,column:13},end:{line:148,column:7}}],line:125},20:{loc:{start:{line:134,column:8},end:{line:136,column:9}},type:"if",locations:[{start:{line:134,column:8},end:{line:136,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:134},21:{loc:{start:{line:156,column:4},end:{line:160,column:5}},type:"if",locations:[{start:{line:156,column:4},end:{line:160,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:156},22:{loc:{start:{line:163,column:4},end:{line:168,column:5}},type:"if",locations:[{start:{line:163,column:4},end:{line:168,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:163},23:{loc:{start:{line:165,column:6},end:{line:167,column:7}},type:"if",locations:[{start:{line:165,column:6},end:{line:167,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:165},24:{loc:{start:{line:165,column:10},end:{line:165,column:66}},type:"binary-expr",locations:[{start:{line:165,column:10},end:{line:165,column:33}},{start:{line:165,column:37},end:{line:165,column:66}}],line:165},25:{loc:{start:{line:172,column:4},end:{line:172,column:22}},type:"if",locations:[{start:{line:172,column:4},end:{line:172,column:22}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:172},26:{loc:{start:{line:173,column:4},end:{line:201,column:5}},type:"if",locations:[{start:{line:173,column:4},end:{line:201,column:5}},{start:{line:187,column:11},end:{line:201,column:5}}],line:173},27:{loc:{start:{line:175,column:8},end:{line:183,column:9}},type:"if",locations:[{start:{line:175,column:8},end:{line:183,column:9}},{start:{line:177,column:15},end:{line:183,column:9}}],line:175},28:{loc:{start:{line:177,column:15},end:{line:183,column:9}},type:"if",locations:[{start:{line:177,column:15},end:{line:183,column:9}},{start:{line:179,column:15},end:{line:183,column:9}}],line:177},29:{loc:{start:{line:179,column:15},end:{line:183,column:9}},type:"if",locations:[{start:{line:179,column:15},end:{line:183,column:9}},{start:{line:181,column:15},end:{line:183,column:9}}],line:179},30:{loc:{start:{line:181,column:15},end:{line:183,column:9}},type:"if",locations:[{start:{line:181,column:15},end:{line:183,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:181},31:{loc:{start:{line:189,column:8},end:{line:197,column:9}},type:"if",locations:[{start:{line:189,column:8},end:{line:197,column:9}},{start:{line:191,column:15},end:{line:197,column:9}}],line:189},32:{loc:{start:{line:191,column:15},end:{line:197,column:9}},type:"if",locations:[{start:{line:191,column:15},end:{line:197,column:9}},{start:{line:193,column:15},end:{line:197,column:9}}],line:191},33:{loc:{start:{line:193,column:15},end:{line:197,column:9}},type:"if",locations:[{start:{line:193,column:15},end:{line:197,column:9}},{start:{line:195,column:15},end:{line:197,column:9}}],line:193},34:{loc:{start:{line:195,column:15},end:{line:197,column:9}},type:"if",locations:[{start:{line:195,column:15},end:{line:197,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:195},35:{loc:{start:{line:204,column:4},end:{line:206,column:5}},type:"if",locations:[{start:{line:204,column:4},end:{line:206,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:204},36:{loc:{start:{line:204,column:8},end:{line:204,column:44}},type:"binary-expr",locations:[{start:{line:204,column:8},end:{line:204,column:22}},{start:{line:204,column:26},end:{line:204,column:44}}],line:204},37:{loc:{start:{line:211,column:26},end:{line:211,column:73}},type:"cond-expr",locations:[{start:{line:211,column:41},end:{line:211,column:69}},{start:{line:211,column:72},end:{line:211,column:73}}],line:211},38:{loc:{start:{line:236,column:155},end:{line:236,column:260}},type:"cond-expr",locations:[{start:{line:236,column:184},end:{line:236,column:197}},{start:{line:236,column:200},end:{line:236,column:260}}],line:236},39:{loc:{start:{line:236,column:155},end:{line:236,column:181}},type:"binary-expr",locations:[{start:{line:236,column:155},end:{line:236,column:167}},{start:{line:236,column:171},end:{line:236,column:181}}],line:236},40:{loc:{start:{line:244,column:23},end:{line:244,column:36}},type:"binary-expr",locations:[{start:{line:244,column:23},end:{line:244,column:31}},{start:{line:244,column:35},end:{line:244,column:36}}],line:244},41:{loc:{start:{line:260,column:36},end:{line:260,column:64}},type:"cond-expr",locations:[{start:{line:260,column:48},end:{line:260,column:55}},{start:{line:260,column:58},end:{line:260,column:64}}],line:260},42:{loc:{start:{line:261,column:32},end:{line:293,column:23}},type:"cond-expr",locations:[{start:{line:261,column:60},end:{line:277,column:23}},{start:{line:277,column:42},end:{line:293,column:23}}],line:261},43:{loc:{start:{line:302,column:38},end:{line:302,column:65}},type:"cond-expr",locations:[{start:{line:302,column:48},end:{line:302,column:56}},{start:{line:302,column:59},end:{line:302,column:65}}],line:302},44:{loc:{start:{line:303,column:34},end:{line:335,column:25}},type:"cond-expr",locations:[{start:{line:303,column:60},end:{line:319,column:25}},{start:{line:319,column:44},end:{line:335,column:25}}],line:303},45:{loc:{start:{line:345,column:31},end:{line:345,column:51}},type:"cond-expr",locations:[{start:{line:345,column:41},end:{line:345,column:42}},{start:{line:345,column:45},end:{line:345,column:51}}],line:345},46:{loc:{start:{line:363,column:34},end:{line:363,column:87}},type:"cond-expr",locations:[{start:{line:363,column:49},end:{line:363,column:66}},{start:{line:363,column:69},end:{line:363,column:87}}],line:363},47:{loc:{start:{line:364,column:30},end:{line:396,column:21}},type:"cond-expr",locations:[{start:{line:364,column:61},end:{line:380,column:21}},{start:{line:380,column:40},end:{line:396,column:21}}],line:364},48:{loc:{start:{line:403,column:8},end:{line:415,column:9}},type:"binary-expr",locations:[{start:{line:403,column:8},end:{line:403,column:26}},{start:{line:403,column:30},end:{line:403,column:44}},{start:{line:403,column:64},end:{line:415,column:9}}],line:403},49:{loc:{start:{line:406,column:138},end:{line:406,column:243}},type:"cond-expr",locations:[{start:{line:406,column:167},end:{line:406,column:180}},{start:{line:406,column:183},end:{line:406,column:243}}],line:406},50:{loc:{start:{line:406,column:138},end:{line:406,column:164}},type:"binary-expr",locations:[{start:{line:406,column:138},end:{line:406,column:150}},{start:{line:406,column:154},end:{line:406,column:164}}],line:406},51:{loc:{start:{line:411,column:16},end:{line:411,column:84}},type:"binary-expr",locations:[{start:{line:411,column:16},end:{line:411,column:38}},{start:{line:411,column:42},end:{line:411,column:84}}],line:411},52:{loc:{start:{line:416,column:8},end:{line:441,column:9}},type:"binary-expr",locations:[{start:{line:416,column:8},end:{line:416,column:26}},{start:{line:416,column:30},end:{line:416,column:48}},{start:{line:416,column:68},end:{line:441,column:9}}],line:416},53:{loc:{start:{line:419,column:117},end:{line:419,column:222}},type:"cond-expr",locations:[{start:{line:419,column:146},end:{line:419,column:159}},{start:{line:419,column:162},end:{line:419,column:222}}],line:419},54:{loc:{start:{line:419,column:117},end:{line:419,column:143}},type:"binary-expr",locations:[{start:{line:419,column:117},end:{line:419,column:129}},{start:{line:419,column:133},end:{line:419,column:143}}],line:419},55:{loc:{start:{line:434,column:99},end:{line:434,column:238}},type:"cond-expr",locations:[{start:{line:434,column:192},end:{line:434,column:219}},{start:{line:434,column:222},end:{line:434,column:238}}],line:434},56:{loc:{start:{line:434,column:99},end:{line:434,column:189}},type:"binary-expr",locations:[{start:{line:434,column:99},end:{line:434,column:125}},{start:{line:434,column:130},end:{line:434,column:145}},{start:{line:434,column:149},end:{line:434,column:188}}],line:434},57:{loc:{start:{line:435,column:23},end:{line:435,column:57}},type:"binary-expr",locations:[{start:{line:435,column:23},end:{line:435,column:41}},{start:{line:435,column:45},end:{line:435,column:57}}],line:435}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},b:{0:[0],1:[0],2:[0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0,0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0,0],53:[0,0],54:[0,0],55:[0,0],56:[0,0,0],57:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/video/ModernVideoPlayer.tsx"],names:[],mappings:"AAyTM;AAzTN;AAuCA;AAA6D;AAC3D;AACA;AACA;AACA;AACY;AACD;AACX;AACA;AACqB;AAEvB;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACE;AAG4C;AAG9C;AACE;AACA;AACA;AAEA;AACE;AACA;AAGA;AACE;AAAQ;AACN;AAEF;AAAA;AAGF;AAAsB;AAGxB;AACE;AACE;AAA0B;AAG1B;AAAa;AACf;AAEF;AACA;AACA;AACE;AACA;AAA4C;AAI9C;AACE;AAAwD;AAI1D;AAEE;AAAqB;AAGvB;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AACE;AACE;AAAuC;AAEzC;AAEA;AACE;AAA0D;AAC5D;AAGF;AACA;AACA;AAEA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACE;AAAuC;AAGzC;AACE;AAAmC;AACrC;AACF;AAGF;AACE;AACE;AACE;AAAuB;AAEvB;AAE8D;AAChE;AACF;AAGF;AACE;AACA;AACA;AACE;AACA;AAAQ;AACN;AACM;AACN;AACM;AAER;AAKA;AACA;AACE;AACA;AACA;AAAQ;AACN;AACM;AAER;AAGA;AAEA;AACE;AAAmC;AAGrC;AACE;AACA;AAAiD;AAC7C;AAEN;AAAQ;AACN;AACA;AACA;AACM;AACR;AACF;AAEA;AAAQ;AACN;AACF;AACF;AAGF;AACE;AACE;AACA;AACA;AAAiC;AACnC;AAGF;AACE;AACE;AAEA;AACE;AAA0B;AAC5B;AACF;AAGF;AACE;AACA;AAEA;AACE;AAEE;AACE;AAA6B;AAI7B;AAAyC;AAGzC;AAA4C;AAG5C;AAAwC;AAC1C;AAEA;AAA2D;AAC7D;AAEA;AACE;AACE;AAA8B;AAG9B;AAA4C;AAG5C;AAA6C;AAG7C;AAAyC;AAC3C;AAEA;AAA4D;AAC9D;AACF;AAGF;AACE;AACE;AAAO;AAET;AACA;AACA;AAA8E;AAIhF;AACA;AAEA;AACE;AAAC;AAAA;AACM;AACiC;AACE;AAIxC;AAAA;AAAC;AAAA;AACM;AACK;AACV;AACA;AACW;AACF;AACM;AAChB;AAAA;AAED;AAGA;AAAC;AAAA;AACyP;AACxN;AAGhC;AACE;AAAC;AAAA;AACM;AACD;AACa;AACV;AACG;AACA;AAC6B;AAC5B;AACW;AAAA;AAE1B;AAKE;AACE;AAAA;AAAC;AAAA;AACU;AACC;AACwB;AAIhC;AAAC;AAAA;AACO;AACI;AACF;AACH;AAEL;AAAC;AAAA;AACU;AACP;AACO;AAAA;AACX;AAAA;AAGF;AAAC;AAAA;AACO;AACI;AACF;AACH;AAEL;AAAC;AAAA;AACU;AACP;AACO;AAAA;AACX;AAAA;AACF;AAAA;AAEJ;AAIE;AAAA;AAAC;AAAA;AACU;AACC;AACuB;AAI/B;AAAC;AAAA;AACO;AACI;AACF;AACH;AAEL;AAAC;AAAA;AACU;AACP;AACO;AAAA;AACX;AAAA;AAGF;AAAC;AAAA;AACO;AACI;AACF;AACH;AAEL;AAAC;AAAA;AACU;AACP;AACO;AAAA;AACX;AAAA;AACF;AAAA;AAEJ;AACA;AAAC;AAAA;AACM;AACD;AACA;AACC;AACgB;AACX;AACA;AACC;AAAA;AACb;AACF;AAIG;AAAsB;AAAE;AAAuB;AAClD;AACF;AAME;AAAC;AAAA;AACU;AACC;AACqC;AAI7C;AAAC;AAAA;AACO;AACI;AACF;AACH;AAEL;AAAC;AAAA;AACU;AACP;AACO;AAAA;AACX;AAAA;AAGF;AAAC;AAAA;AACO;AACI;AACF;AACH;AAEL;AAAC;AAAA;AACU;AACP;AACO;AAAA;AACX;AAAA;AACF;AAAA;AAGN;AACF;AAAA;AAAA;AACF;AAIE;AAAC;AAAA;AACwO;AAEvO;AAAoD;AAEjD;AAAmC;AAEM;AAC5C;AAAA;AAAA;AACF;AAKA;AAAC;AAAA;AACmN;AAGhN;AAAC;AAAA;AAGG;AACA;AAAQ;AACN;AACO;AACP;AACO;AAGT;AAEA;AAAsB;AACxB;AAC8N;AAC1L;AAE5B;AAAA;AAjBI;AAmBf;AAAA;AACH;AAAA;AAAA;AAIR;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2437ca525a2695a7990838ee6173143dde51ee50"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return _=function(){return i},i}_();_().s[0]++;const wl=({src:e,title:n,chapterId:t,knowledgeId:l,className:o=(_().b[0][0]++,""),markers:r=(_().b[1][0]++,[]),onMarkerClick:i,onTimeUpdate:a,showChapterOverlay:s=(_().b[2][0]++,!1),currentChapter:c})=>{_().f[0]++;const u=(_().s[1]++,O.useRef(null)),A=(_().s[2]++,O.useRef(null)),[d,f]=(_().s[3]++,O.useState(!1)),[p,C]=(_().s[4]++,O.useState(0)),[y,b]=(_().s[5]++,O.useState(0)),[E,g]=(_().s[6]++,O.useState(1)),[x,N]=(_().s[7]++,O.useState(!1)),[B,R]=(_().s[8]++,O.useState(!1)),[v,I]=(_().s[9]++,O.useState(!1)),w=(_().s[10]++,O.useRef(null)),k=(_().s[11]++,O.useRef(!1)),D=(_().s[12]++,O.useRef(null));_().s[13]++,O.useMemo(()=>(_().f[1]++,_().s[14]++,r.slice().reverse().find(U=>(_().f[2]++,_().s[15]++,p>=U.time))),[p,r]),_().s[16]++,O.useEffect(()=>{_().f[3]++;const U=(_().s[17]++,u.current),W=(_().s[18]++,A.current);if(_().s[19]++,_().b[4][0]++,!U||(_().b[4][1]++,!W)){_().b[3][0]++,_().s[20]++;return}else _().b[3][1]++;_().s[21]++;const j=()=>{_().f[4]++;const de=(_().s[22]++,U.currentTime);if(_().s[23]++,C(de),_().s[24]++,k.current){_().b[5][0]++,_().s[25]++,console.log("[ModernVideoPlayer] Time update skipped due to recent seek"),_().s[26]++;return}else _().b[5][1]++;_().s[27]++,a?.(de)};_().s[28]++;const L=()=>{_().f[5]++,_().s[29]++,_().b[7][0]++,!isNaN(U.duration)&&(_().b[7][1]++,isFinite(U.duration))?(_().b[6][0]++,_().s[30]++,b(U.duration)):(_().b[6][1]++,_().s[31]++,b(0))};_().s[32]++;const V=()=>(_().f[6]++,_().s[33]++,f(!0));_().s[34]++;const q=()=>(_().f[7]++,_().s[35]++,f(!1));_().s[36]++;const J=()=>{_().f[8]++,_().s[37]++,g(U.volume),_().s[38]++,N((_().b[8][0]++,U.muted||(_().b[8][1]++,U.volume===0)))};_().s[39]++;const Z=()=>{_().f[9]++,_().s[40]++,R(document.fullscreenElement===W)};_().s[41]++,U.readyState>=1?(_().b[9][0]++,_().s[42]++,L()):_().b[9][1]++,_().s[43]++,U.addEventListener("timeupdate",j),_().s[44]++,U.addEventListener("durationchange",L),_().s[45]++,U.addEventListener("loadedmetadata",L),_().s[46]++,U.addEventListener("play",V),_().s[47]++,U.addEventListener("pause",q),_().s[48]++,U.addEventListener("volumechange",J),_().s[49]++,document.addEventListener("fullscreenchange",Z),_().s[50]++;const ne=()=>(_().f[10]++,_().s[51]++,I(!1));_().s[52]++;const ue=()=>{_().f[11]++,_().s[53]++,w.current?(_().b[10][0]++,_().s[54]++,clearTimeout(w.current)):_().b[10][1]++,_().s[55]++,I(!0),_().s[56]++,d?(_().b[11][0]++,_().s[57]++,w.current=setTimeout(ne,3e3)):_().b[11][1]++};return _().s[58]++,W.addEventListener("mousemove",ue),_().s[59]++,W.addEventListener("mouseleave",ne),_().s[60]++,W.addEventListener("click",ue),_().s[61]++,()=>{_().f[12]++,_().s[62]++,U.removeEventListener("timeupdate",j),_().s[63]++,U.removeEventListener("durationchange",L),_().s[64]++,U.removeEventListener("loadedmetadata",L),_().s[65]++,U.removeEventListener("play",V),_().s[66]++,U.removeEventListener("pause",q),_().s[67]++,U.removeEventListener("volumechange",J),_().s[68]++,document.removeEventListener("fullscreenchange",Z),_().s[69]++,W.removeEventListener("mousemove",ue),_().s[70]++,W.removeEventListener("mouseleave",ne),_().s[71]++,W.removeEventListener("click",ue),_().s[72]++,w.current?(_().b[12][0]++,_().s[73]++,clearTimeout(w.current)):_().b[12][1]++,_().s[74]++,D.current?(_().b[13][0]++,_().s[75]++,clearTimeout(D.current)):_().b[13][1]++}},[a,d]),_().s[76]++;const z=()=>{_().f[13]++,_().s[77]++,u.current?(_().b[14][0]++,_().s[78]++,d?(_().b[15][0]++,_().s[79]++,u.current.pause()):(_().b[15][1]++,_().s[80]++,u.current.play().catch(U=>(_().f[14]++,_().s[81]++,console.error("Error playing video:",U))))):_().b[14][1]++};_().s[82]++;const S=U=>{_().f[15]++;const W=(_().s[83]++,typeof U=="number"?(_().b[16][0]++,U):(_().b[16][1]++,parseFloat(U.target.value)));if(_().s[84]++,console.log("[ModernVideoPlayer] handleSeek called with time:",W),_().s[85]++,u.current){_().b[17][0]++;const j=(_().s[86]++,u.current);_().s[87]++,console.log("[ModernVideoPlayer] videoRef exists. Duration:",j.duration,"ReadyState:",j.readyState);const L=(_().s[88]++,_().b[18][0]++,isFinite(W)&&(_().b[18][1]++,j.duration>0)&&(_().b[18][2]++,W>=0)&&(_().b[18][3]++,W<=j.duration));_().s[89]++,console.log("[ModernVideoPlayer] Can seek?",L),_().s[90]++,L?(_().b[19][0]++,_().s[91]++,console.log("[ModernVideoPlayer] Seeking video to:",W),_().s[92]++,j.currentTime=W,_().s[93]++,console.log("[ModernVideoPlayer] video.currentTime set to:",j.currentTime),_().s[94]++,C(W),_().s[95]++,k.current=!0,_().s[96]++,D.current?(_().b[20][0]++,_().s[97]++,clearTimeout(D.current)):_().b[20][1]++,_().s[98]++,D.current=setTimeout(()=>{_().f[16]++,_().s[99]++,k.current=!1,_().s[100]++,console.log("[ModernVideoPlayer] Seek flag reset")},250)):(_().b[19][1]++,_().s[101]++,console.warn("[ModernVideoPlayer] Seek prevented. Time:",W,"Duration:",j.duration))}else _().b[17][1]++,_().s[102]++,console.warn("[ModernVideoPlayer] handleSeek called but videoRef is null.")};_().s[103]++;const T=U=>{if(_().f[17]++,_().s[104]++,u.current){_().b[21][0]++;const W=(_().s[105]++,parseFloat(U.target.value));_().s[106]++,u.current.volume=W,_().s[107]++,u.current.muted=W===0}else _().b[21][1]++};_().s[108]++;const F=()=>{_().f[18]++,_().s[109]++,u.current?(_().b[22][0]++,_().s[110]++,u.current.muted=!u.current.muted,_().s[111]++,_().b[24][0]++,!u.current.muted&&(_().b[24][1]++,u.current.volume===0)?(_().b[23][0]++,_().s[112]++,u.current.volume=.5):_().b[23][1]++):_().b[22][1]++};_().s[113]++;const G=async()=>{_().f[19]++;const U=(_().s[114]++,A.current);if(_().s[115]++,U)_().b[25][1]++;else{_().b[25][0]++,_().s[116]++;return}if(_().s[117]++,document.fullscreenElement){_().b[26][1]++,_().s[128]++;try{_().s[129]++,document.exitFullscreen?(_().b[31][0]++,_().s[130]++,await document.exitFullscreen()):(_().b[31][1]++,_().s[131]++,document.mozCancelFullScreen?(_().b[32][0]++,_().s[132]++,await document.mozCancelFullScreen()):(_().b[32][1]++,_().s[133]++,document.webkitExitFullscreen?(_().b[33][0]++,_().s[134]++,await document.webkitExitFullscreen()):(_().b[33][1]++,_().s[135]++,document.msExitFullscreen?(_().b[34][0]++,_().s[136]++,await document.msExitFullscreen()):_().b[34][1]++)))}catch(W){_().s[137]++,console.error("Error attempting to disable fullscreen:",W)}}else{_().b[26][0]++,_().s[118]++;try{_().s[119]++,U.requestFullscreen?(_().b[27][0]++,_().s[120]++,await U.requestFullscreen()):(_().b[27][1]++,_().s[121]++,U.mozRequestFullScreen?(_().b[28][0]++,_().s[122]++,await U.mozRequestFullScreen()):(_().b[28][1]++,_().s[123]++,U.webkitRequestFullscreen?(_().b[29][0]++,_().s[124]++,await U.webkitRequestFullscreen()):(_().b[29][1]++,_().s[125]++,U.msRequestFullscreen?(_().b[30][0]++,_().s[126]++,await U.msRequestFullscreen()):_().b[30][1]++)))}catch(W){_().s[127]++,console.error("Error attempting to enable fullscreen:",W)}}};_().s[138]++;const $=U=>{if(_().f[20]++,_().s[139]++,_().b[36][0]++,isNaN(U)||(_().b[36][1]++,!isFinite(U)))return _().b[35][0]++,_().s[140]++,"00:00";_().b[35][1]++;const W=(_().s[141]++,Math.floor(U/60)),j=(_().s[142]++,Math.floor(U%60));return _().s[143]++,`${W.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},H=(_().s[144]++,y>0?(_().b[37][0]++,p/y*100):(_().b[37][1]++,0)),Y=(_().s[145]++,`linear-gradient(to right, #3b82f6 ${H}%, #4b5563 ${H}%)`);return _().s[146]++,m.jsxs("div",{ref:A,className:`group relative ${o} bg-black`,onMouseEnter:()=>(_().f[21]++,_().s[147]++,I(!0)),children:[m.jsx("video",{ref:u,className:"block aspect-video h-full w-full",src:e,title:n,playsInline:!0,onClick:z,onDoubleClick:G,children:"Your browser does not support the video tag."}),m.jsxs("div",{className:`absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/70 to-transparent p-2 transition-opacity duration-300 ease-in-out sm:p-4 ${_().b[39][0]++,v||(_().b[39][1]++,!d)?(_().b[38][0]++,"opacity-100"):(_().b[38][1]++,"opacity-0 focus-within:opacity-100 group-hover:opacity-100")}`,onClick:U=>(_().f[22]++,_().s[148]++,U.stopPropagation()),children:[m.jsx("div",{className:"mb-2 flex items-center gap-2",children:m.jsx("input",{type:"range",min:"0",max:(_().b[40][0]++,y||(_().b[40][1]++,0)),value:p,onChange:S,className:"range-lg h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-700",style:{background:Y},"aria-label":"Video progress",disabled:y<=0})}),m.jsxs("div",{className:"flex items-center justify-between text-white",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[m.jsx("button",{onClick:z,className:"rounded-full p-1.5 transition-colors hover:bg-white/20 sm:p-2","aria-label":d?(_().b[41][0]++,"Pause"):(_().b[41][1]++,"Play"),children:d?(_().b[42][0]++,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 00-1 1v2a1 1 0 102 0V9a1 1 0 00-1-1zm5 0a1 1 0 00-1 1v2a1 1 0 102 0V9a1 1 0 00-1-1z",clipRule:"evenodd"})})):(_().b[42][1]++,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}))}),m.jsxs("div",{className:"group flex items-center gap-1",children:[m.jsx("button",{onClick:F,className:"rounded-full p-1.5 transition-colors hover:bg-white/20 sm:p-2","aria-label":x?(_().b[43][0]++,"Unmute"):(_().b[43][1]++,"Mute"),children:x?(_().b[44][0]++,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0L19 5.858l-1.414 1.414L16.172 6.5a1 1 0 01-1.414-1.414l-1.06-1.061zm-1.06 1.06a1 1 0 010 1.414L11.172 7.914a1 1 0 01-1.414-1.414l1.414-1.414zm3.535 2.122a1 1 0 010 1.414L15.757 9.33a1 1 0 01-1.414-1.414l1.414-1.414a1 1 0 011.414 0zm-1.414 1.414a1 1 0 010 1.414l-.707.707a1 1 0 01-1.414-1.414l.707-.707z",clipRule:"evenodd"})})):(_().b[44][1]++,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l-1.293 1.293a1 1 0 11-1.414-1.414l.293-.293zm4.707 4.707a1 1 0 01-1.414 0L15 11.414l1.293-1.293a1 1 0 011.414 1.414l-.293.293z",clipRule:"evenodd"})}))}),m.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:x?(_().b[45][0]++,0):(_().b[45][1]++,E),onChange:T,className:"h-1.5 w-0 cursor-pointer appearance-none rounded-lg bg-gray-600 transition-all duration-200 ease-in-out group-hover:w-16 sm:h-2","aria-label":"Volume control"})]}),m.jsxs("div",{className:"ml-2 whitespace-nowrap text-xs tabular-nums sm:text-sm",children:[$(p)," / ",$(y)]})]}),m.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:m.jsx("button",{onClick:G,className:"rounded-full p-1.5 transition-colors hover:bg-white/20 sm:p-2","aria-label":B?(_().b[46][0]++,"Exit fullscreen"):(_().b[46][1]++,"Enter fullscreen"),children:B?(_().b[47][0]++,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M5.293 4.293a1 1 0 011.414 0L10 7.586l3.293-3.293a1 1 0 111.414 1.414L11.414 9H15a1 1 0 110 2h-5a1 1 0 01-1-1V5a1 1 0 112 0v3.586L5.293 5.707a1 1 0 010-1.414zM10 18a1 1 0 01-1-1v-3.586l-3.293 3.293a1 1 0 11-1.414-1.414L7.586 12H4a1 1 0 110-2h5a1 1 0 011 1z",clipRule:"evenodd"})})):(_().b[47][1]++,m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 sm:h-6 sm:w-6",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H5v3a1 1 0 11-2 0V4zm14 0a1 1 0 011 1v4a1 1 0 11-2 0V5h-3a1 1 0 110-2h4zM4 17a1 1 0 01-1-1v-4a1 1 0 112 0v3h3a1 1 0 110 2H4zm13-1a1 1 0 01-1 1h-4a1 1 0 110-2h3v-3a1 1 0 112 0v4z",clipRule:"evenodd"})}))})})]})]}),(_().b[48][0]++,s&&(_().b[48][1]++,c)&&(_().b[48][2]++,m.jsxs("div",{className:`absolute left-4 top-4 rounded-md bg-black/60 p-2 text-sm text-white transition-opacity duration-300 ease-in-out ${_().b[50][0]++,v||(_().b[50][1]++,!d)?(_().b[49][0]++,"opacity-100"):(_().b[49][1]++,"opacity-0 focus-within:opacity-100 group-hover:opacity-100")}`,children:[m.jsx("h3",{className:"font-semibold",children:c.title}),m.jsxs("p",{className:"text-xs text-gray-300",children:[$(c.startTime),(_().b[51][0]++,c.endTime&&(_().b[51][1]++,` - ${$(c.endTime)}`))]})]}))),(_().b[52][0]++,s&&(_().b[52][1]++,r.length>0)&&(_().b[52][2]++,m.jsx("div",{className:`absolute bottom-20 right-4 flex flex-col gap-1 transition-opacity duration-300 ease-in-out ${_().b[54][0]++,v||(_().b[54][1]++,!d)?(_().b[53][0]++,"opacity-100"):(_().b[53][1]++,"opacity-0 focus-within:opacity-100 group-hover:opacity-100")}`,children:r.map(U=>(_().f[23]++,_().s[149]++,m.jsx("button",{onClick:W=>{_().f[24]++,_().s[150]++,W.stopPropagation(),_().s[151]++,console.log("[ModernVideoPlayer] Marker clicked:",U.title,"Target Time:",U.time),_().s[152]++,S(U.time),_().s[153]++,i?.(U)},className:`rounded px-3 py-1 text-xs shadow transition-colors hover:bg-blue-600 ${_().b[56][0]++,p>=U.time&&(_().b[56][1]++,!c||(_().b[56][2]++,U.time>=c.startTime))?(_().b[55][0]++,"bg-blue-500 font-semibold"):(_().b[55][1]++,"bg-gray-700/80")}`,title:(_().b[57][0]++,U.description||(_().b[57][1]++,U.title)),children:U.title},U.id)))})))]})};_().s[154]++;try{_().s[155]++,wl.displayName="ModernVideoPlayer",_().s[156]++,wl.__docgenInfo={description:"Modern video player component with enhanced accessibility and modular architecture",displayName:"ModernVideoPlayer",props:{src:{defaultValue:null,description:"",name:"src",required:!0,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},chapterId:{defaultValue:null,description:"",name:"chapterId",required:!0,type:{name:"string"}},knowledgeId:{defaultValue:null,description:"",name:"knowledgeId",required:!0,type:{name:"string"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},markers:{defaultValue:{value:"[]"},description:"",name:"markers",required:!1,type:{name:"VideoMarker[]"}},onMarkerClick:{defaultValue:null,description:"",name:"onMarkerClick",required:!1,type:{name:"(marker: VideoMarker) => void"}},onTimeUpdate:{defaultValue:null,description:"",name:"onTimeUpdate",required:!1,type:{name:"(currentTime: number) => void"}},showChapterOverlay:{defaultValue:{value:"false"},description:"",name:"showChapterOverlay",required:!1,type:{name:"boolean"}},currentChapter:{defaultValue:null,description:"",name:"currentChapter",required:!1,type:{name:"ChapterInfo"}}}}}catch{}function Br(e,n){const t=String(e);if(typeof n!="string")throw new TypeError("Expected character");let l=0,o=t.indexOf(n);for(;o!==-1;)l++,o=t.indexOf(n,o+n.length);return l}function Xd(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Zd(e,n,t){const o=Fa((t||{}).ignore||[]),r=Jd(n);let i=-1;for(;++i<r.length;)qu(e,"text",a);function a(c,u){let A=-1,d;for(;++A<u.length;){const f=u[A],p=d?d.children:void 0;if(o(f,p?p.indexOf(f):void 0,d))return;d=f}if(d)return s(c,u)}function s(c,u){const A=u[u.length-1],d=r[i][0],f=r[i][1];let p=0;const y=A.children.indexOf(c);let b=!1,E=[];d.lastIndex=0;let g=d.exec(c.value);for(;g;){const x=g.index,N={index:g.index,input:g.input,stack:[...u,c]};let B=f(...g,N);if(typeof B=="string"&&(B=B.length>0?{type:"text",value:B}:void 0),B===!1?d.lastIndex=x+1:(p!==x&&E.push({type:"text",value:c.value.slice(p,x)}),Array.isArray(B)?E.push(...B):B&&E.push(B),p=x+g[0].length,b=!0),!d.global)break;g=d.exec(c.value)}return b?(p<c.value.length&&E.push({type:"text",value:c.value.slice(p)}),A.children.splice(y,1,...E)):E=[c],y+E.length}}function Jd(e){const n=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const t=!e[0]||Array.isArray(e[0])?e:[e];let l=-1;for(;++l<t.length;){const o=t[l];n.push([em(o[0]),nm(o[1])])}return n}function em(e){return typeof e=="string"?new RegExp(Xd(e),"g"):e}function nm(e){return typeof e=="function"?e:function(){return e}}const go="phrasing",Co=["autolink","link","image","label"];function tm(){return{transforms:[cm],enter:{literalAutolink:om,literalAutolinkEmail:yo,literalAutolinkHttp:yo,literalAutolinkWww:yo},exit:{literalAutolink:am,literalAutolinkEmail:sm,literalAutolinkHttp:im,literalAutolinkWww:rm}}}function lm(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:go,notInConstruct:Co},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:go,notInConstruct:Co},{character:":",before:"[ps]",after:"\\/",inConstruct:go,notInConstruct:Co}]}}function om(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function yo(e){this.config.enter.autolinkProtocol.call(this,e)}function im(e){this.config.exit.autolinkProtocol.call(this,e)}function rm(e){this.config.exit.data.call(this,e);const n=this.stack[this.stack.length-1];rt(n.type==="link"),n.url="http://"+this.sliceSerialize(e)}function sm(e){this.config.exit.autolinkEmail.call(this,e)}function am(e){this.exit(e)}function cm(e){Zd(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Am],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),um]],{ignore:["link","linkReference"]})}function Am(e,n,t,l,o){let r="";if(!Ha(o)||(/^w/i.test(n)&&(t=n+t,n="",r="http://"),!dm(t)))return!1;const i=mm(t+l);if(!i[0])return!1;const a={type:"link",title:null,url:r+n+i[0],children:[{type:"text",value:n+i[0]}]};return i[1]?[a,{type:"text",value:i[1]}]:a}function um(e,n,t,l){return!Ha(l,!0)||/[-\d_]$/.test(t)?!1:{type:"link",title:null,url:"mailto:"+n+"@"+t,children:[{type:"text",value:n+"@"+t}]}}function dm(e){const n=e.split(".");return!(n.length<2||n[n.length-1]&&(/_/.test(n[n.length-1])||!/[a-zA-Z\d]/.test(n[n.length-1]))||n[n.length-2]&&(/_/.test(n[n.length-2])||!/[a-zA-Z\d]/.test(n[n.length-2])))}function mm(e){const n=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!n)return[e,void 0];e=e.slice(0,n.index);let t=n[0],l=t.indexOf(")");const o=Br(e,"(");let r=Br(e,")");for(;l!==-1&&o>r;)e+=t.slice(0,l+1),t=t.slice(l+1),l=t.indexOf(")"),r++;return[e,t]}function Ha(e,n){const t=e.input.charCodeAt(e.index-1);return(e.index===0||Zn(t)||Xi(t))&&(!n||t!==47)}$a.peek=Em;function fm(){this.buffer()}function hm(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function pm(){this.buffer()}function gm(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Cm(e){const n=this.resume(),t=this.stack[this.stack.length-1];rt(t.type==="footnoteReference"),t.identifier=Gt(this.sliceSerialize(e)).toLowerCase(),t.label=n}function ym(e){this.exit(e)}function bm(e){const n=this.resume(),t=this.stack[this.stack.length-1];rt(t.type==="footnoteDefinition"),t.identifier=Gt(this.sliceSerialize(e)).toLowerCase(),t.label=n}function xm(e){this.exit(e)}function Em(){return"["}function $a(e,n,t,l){const o=t.createTracker(l);let r=o.move("[^");const i=t.enter("footnoteReference"),a=t.enter("reference");return r+=o.move(t.safe(t.associationId(e),{after:"]",before:r})),a(),i(),r+=o.move("]"),r}function vm(){return{enter:{gfmFootnoteCallString:fm,gfmFootnoteCall:hm,gfmFootnoteDefinitionLabelString:pm,gfmFootnoteDefinition:gm},exit:{gfmFootnoteCallString:Cm,gfmFootnoteCall:ym,gfmFootnoteDefinitionLabelString:bm,gfmFootnoteDefinition:xm}}}function wm(e){let n=!1;return e&&e.firstLineBlank&&(n=!0),{handlers:{footnoteDefinition:t,footnoteReference:$a},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function t(l,o,r,i){const a=r.createTracker(i);let s=a.move("[^");const c=r.enter("footnoteDefinition"),u=r.enter("label");return s+=a.move(r.safe(r.associationId(l),{before:s,after:"]"})),u(),s+=a.move("]:"),l.children&&l.children.length>0&&(a.shift(4),s+=a.move((n?`
`:" ")+r.indentLines(r.containerFlow(l,a.current()),n?qa:_m))),c(),s}}function _m(e,n,t){return n===0?e:qa(e,n,t)}function qa(e,n,t){return(t?"":"    ")+e}const km=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Ya.peek=Bm;function Sm(){return{canContainEols:["delete"],enter:{strikethrough:Mm},exit:{strikethrough:Im}}}function Nm(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:km}],handlers:{delete:Ya}}}function Mm(e){this.enter({type:"delete",children:[]},e)}function Im(e){this.exit(e)}function Ya(e,n,t,l){const o=t.createTracker(l),r=t.enter("strikethrough");let i=o.move("~~");return i+=t.containerPhrasing(e,{...o.current(),before:i,after:"~"}),i+=o.move("~~"),r(),i}function Bm(){return"~"}function Dm(e){return e.length}function Tm(e,n){const t=n||{},l=(t.align||[]).concat(),o=t.stringLength||Dm,r=[],i=[],a=[],s=[];let c=0,u=-1;for(;++u<e.length;){const C=[],y=[];let b=-1;for(e[u].length>c&&(c=e[u].length);++b<e[u].length;){const E=Om(e[u][b]);if(t.alignDelimiters!==!1){const g=o(E);y[b]=g,(s[b]===void 0||g>s[b])&&(s[b]=g)}C.push(E)}i[u]=C,a[u]=y}let A=-1;if(typeof l=="object"&&"length"in l)for(;++A<c;)r[A]=Dr(l[A]);else{const C=Dr(l);for(;++A<c;)r[A]=C}A=-1;const d=[],f=[];for(;++A<c;){const C=r[A];let y="",b="";C===99?(y=":",b=":"):C===108?y=":":C===114&&(b=":");let E=t.alignDelimiters===!1?1:Math.max(1,s[A]-y.length-b.length);const g=y+"-".repeat(E)+b;t.alignDelimiters!==!1&&(E=y.length+E+b.length,E>s[A]&&(s[A]=E),f[A]=E),d[A]=g}i.splice(1,0,d),a.splice(1,0,f),u=-1;const p=[];for(;++u<i.length;){const C=i[u],y=a[u];A=-1;const b=[];for(;++A<c;){const E=C[A]||"";let g="",x="";if(t.alignDelimiters!==!1){const N=s[A]-(y[A]||0),B=r[A];B===114?g=" ".repeat(N):B===99?N%2?(g=" ".repeat(N/2+.5),x=" ".repeat(N/2-.5)):(g=" ".repeat(N/2),x=g):x=" ".repeat(N)}t.delimiterStart!==!1&&!A&&b.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&E==="")&&(t.delimiterStart!==!1||A)&&b.push(" "),t.alignDelimiters!==!1&&b.push(g),b.push(E),t.alignDelimiters!==!1&&b.push(x),t.padding!==!1&&b.push(" "),(t.delimiterEnd!==!1||A!==c-1)&&b.push("|")}p.push(t.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return p.join(`
`)}function Om(e){return e==null?"":String(e)}function Dr(e){const n=typeof e=="string"?e.codePointAt(0):0;return n===67||n===99?99:n===76||n===108?108:n===82||n===114?114:0}function jm(e,n,t,l){const o=t.enter("blockquote"),r=t.createTracker(l);r.move("> "),r.shift(2);const i=t.indentLines(t.containerFlow(e,r.current()),Rm);return o(),i}function Rm(e,n,t){return">"+(t?"":" ")+e}function Fm(e,n){return Tr(e,n.inConstruct,!0)&&!Tr(e,n.notInConstruct,!1)}function Tr(e,n,t){if(typeof n=="string"&&(n=[n]),!n||n.length===0)return t;let l=-1;for(;++l<n.length;)if(e.includes(n[l]))return!0;return!1}function Or(e,n,t,l){let o=-1;for(;++o<t.unsafe.length;)if(t.unsafe[o].character===`
`&&Fm(t.stack,t.unsafe[o]))return/[ \t]/.test(l.before)?"":" ";return`\\
`}function Lm(e,n){return!!(n.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Pm(e){const n=e.options.fence||"`";if(n!=="`"&&n!=="~")throw new Error("Cannot serialize code with `"+n+"` for `options.fence`, expected `` ` `` or `~`");return n}function Gm(e,n,t,l){const o=Pm(t),r=e.value||"",i=o==="`"?"GraveAccent":"Tilde";if(Lm(e,t)){const A=t.enter("codeIndented"),d=t.indentLines(r,zm);return A(),d}const a=t.createTracker(l),s=o.repeat(Math.max(Yu(r,o)+1,3)),c=t.enter("codeFenced");let u=a.move(s);if(e.lang){const A=t.enter(`codeFencedLang${i}`);u+=a.move(t.safe(e.lang,{before:u,after:" ",encode:["`"],...a.current()})),A()}if(e.lang&&e.meta){const A=t.enter(`codeFencedMeta${i}`);u+=a.move(" "),u+=a.move(t.safe(e.meta,{before:u,after:`
`,encode:["`"],...a.current()})),A()}return u+=a.move(`
`),r&&(u+=a.move(r+`
`)),u+=a.move(s),c(),u}function zm(e,n,t){return(t?"":"    ")+e}function er(e){const n=e.options.quote||'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize title with `"+n+"` for `options.quote`, expected `\"`, or `'`");return n}function Um(e,n,t,l){const o=er(t),r=o==='"'?"Quote":"Apostrophe",i=t.enter("definition");let a=t.enter("label");const s=t.createTracker(l);let c=s.move("[");return c+=s.move(t.safe(t.associationId(e),{before:c,after:"]",...s.current()})),c+=s.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=t.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(t.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(a=t.enter("destinationRaw"),c+=s.move(t.safe(e.url,{before:c,after:e.title?" ":`
`,...s.current()}))),a(),e.title&&(a=t.enter(`title${r}`),c+=s.move(" "+o),c+=s.move(t.safe(e.title,{before:c,after:o,...s.current()})),c+=s.move(o),a()),i(),c}function Qm(e){const n=e.options.emphasis||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize emphasis with `"+n+"` for `options.emphasis`, expected `*`, or `_`");return n}function Dt(e){return"&#x"+e.toString(16).toUpperCase()+";"}function _l(e,n,t){const l=El(e),o=El(n);return l===void 0?o===void 0?t==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:l===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Wa.peek=Vm;function Wa(e,n,t,l){const o=Qm(t),r=t.enter("emphasis"),i=t.createTracker(l),a=i.move(o);let s=i.move(t.containerPhrasing(e,{after:o,before:a,...i.current()}));const c=s.charCodeAt(0),u=_l(l.before.charCodeAt(l.before.length-1),c,o);u.inside&&(s=Dt(c)+s.slice(1));const A=s.charCodeAt(s.length-1),d=_l(l.after.charCodeAt(0),A,o);d.inside&&(s=s.slice(0,-1)+Dt(A));const f=i.move(o);return r(),t.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},a+s+f}function Vm(e,n,t){return t.options.emphasis||"*"}function Hm(e,n){let t=!1;return Wu(e,function(l){if("value"in l&&/\r?\n|\r/.test(l.value)||l.type==="break")return t=!0,Ku}),!!((!e.depth||e.depth<3)&&La(e)&&(n.options.setext||t))}function $m(e,n,t,l){const o=Math.max(Math.min(6,e.depth||1),1),r=t.createTracker(l);if(Hm(e,t)){const u=t.enter("headingSetext"),A=t.enter("phrasing"),d=t.containerPhrasing(e,{...r.current(),before:`
`,after:`
`});return A(),u(),d+`
`+(o===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const i="#".repeat(o),a=t.enter("headingAtx"),s=t.enter("phrasing");r.move(i+" ");let c=t.containerPhrasing(e,{before:"# ",after:`
`,...r.current()});return/^[\t ]/.test(c)&&(c=Dt(c.charCodeAt(0))+c.slice(1)),c=c?i+" "+c:i,t.options.closeAtx&&(c+=" "+i),s(),a(),c}Ka.peek=qm;function Ka(e){return e.value||""}function qm(){return"<"}Xa.peek=Ym;function Xa(e,n,t,l){const o=er(t),r=o==='"'?"Quote":"Apostrophe",i=t.enter("image");let a=t.enter("label");const s=t.createTracker(l);let c=s.move("![");return c+=s.move(t.safe(e.alt,{before:c,after:"]",...s.current()})),c+=s.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=t.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(t.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(a=t.enter("destinationRaw"),c+=s.move(t.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),a(),e.title&&(a=t.enter(`title${r}`),c+=s.move(" "+o),c+=s.move(t.safe(e.title,{before:c,after:o,...s.current()})),c+=s.move(o),a()),c+=s.move(")"),i(),c}function Ym(){return"!"}Za.peek=Wm;function Za(e,n,t,l){const o=e.referenceType,r=t.enter("imageReference");let i=t.enter("label");const a=t.createTracker(l);let s=a.move("![");const c=t.safe(e.alt,{before:s,after:"]",...a.current()});s+=a.move(c+"]["),i();const u=t.stack;t.stack=[],i=t.enter("reference");const A=t.safe(t.associationId(e),{before:s,after:"]",...a.current()});return i(),t.stack=u,r(),o==="full"||!c||c!==A?s+=a.move(A+"]"):o==="shortcut"?s=s.slice(0,-1):s+=a.move("]"),s}function Wm(){return"!"}Ja.peek=Km;function Ja(e,n,t){let l=e.value||"",o="`",r=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(l);)o+="`";for(/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^`|`$/.test(l))&&(l=" "+l+" ");++r<t.unsafe.length;){const i=t.unsafe[r],a=t.compilePattern(i);let s;if(i.atBreak)for(;s=a.exec(l);){let c=s.index;l.charCodeAt(c)===10&&l.charCodeAt(c-1)===13&&c--,l=l.slice(0,c)+" "+l.slice(s.index+1)}}return o+l+o}function Km(){return"`"}function ec(e,n){const t=La(e);return!!(!n.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(t===e.url||"mailto:"+t===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}nc.peek=Xm;function nc(e,n,t,l){const o=er(t),r=o==='"'?"Quote":"Apostrophe",i=t.createTracker(l);let a,s;if(ec(e,t)){const u=t.stack;t.stack=[],a=t.enter("autolink");let A=i.move("<");return A+=i.move(t.containerPhrasing(e,{before:A,after:">",...i.current()})),A+=i.move(">"),a(),t.stack=u,A}a=t.enter("link"),s=t.enter("label");let c=i.move("[");return c+=i.move(t.containerPhrasing(e,{before:c,after:"](",...i.current()})),c+=i.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=t.enter("destinationLiteral"),c+=i.move("<"),c+=i.move(t.safe(e.url,{before:c,after:">",...i.current()})),c+=i.move(">")):(s=t.enter("destinationRaw"),c+=i.move(t.safe(e.url,{before:c,after:e.title?" ":")",...i.current()}))),s(),e.title&&(s=t.enter(`title${r}`),c+=i.move(" "+o),c+=i.move(t.safe(e.title,{before:c,after:o,...i.current()})),c+=i.move(o),s()),c+=i.move(")"),a(),c}function Xm(e,n,t){return ec(e,t)?"<":"["}tc.peek=Zm;function tc(e,n,t,l){const o=e.referenceType,r=t.enter("linkReference");let i=t.enter("label");const a=t.createTracker(l);let s=a.move("[");const c=t.containerPhrasing(e,{before:s,after:"]",...a.current()});s+=a.move(c+"]["),i();const u=t.stack;t.stack=[],i=t.enter("reference");const A=t.safe(t.associationId(e),{before:s,after:"]",...a.current()});return i(),t.stack=u,r(),o==="full"||!c||c!==A?s+=a.move(A+"]"):o==="shortcut"?s=s.slice(0,-1):s+=a.move("]"),s}function Zm(){return"["}function nr(e){const n=e.options.bullet||"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bullet`, expected `*`, `+`, or `-`");return n}function Jm(e){const n=nr(e),t=e.options.bulletOther;if(!t)return n==="*"?"-":"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(t===n)throw new Error("Expected `bullet` (`"+n+"`) and `bulletOther` (`"+t+"`) to be different");return t}function e1(e){const n=e.options.bulletOrdered||".";if(n!=="."&&n!==")")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrdered`, expected `.` or `)`");return n}function lc(e){const n=e.options.rule||"*";if(n!=="*"&&n!=="-"&&n!=="_")throw new Error("Cannot serialize rules with `"+n+"` for `options.rule`, expected `*`, `-`, or `_`");return n}function n1(e,n,t,l){const o=t.enter("list"),r=t.bulletCurrent;let i=e.ordered?e1(t):nr(t);const a=e.ordered?i==="."?")":".":Jm(t);let s=n&&t.bulletLastUsed?i===t.bulletLastUsed:!1;if(!e.ordered){const u=e.children?e.children[0]:void 0;if((i==="*"||i==="-")&&u&&(!u.children||!u.children[0])&&t.stack[t.stack.length-1]==="list"&&t.stack[t.stack.length-2]==="listItem"&&t.stack[t.stack.length-3]==="list"&&t.stack[t.stack.length-4]==="listItem"&&t.indexStack[t.indexStack.length-1]===0&&t.indexStack[t.indexStack.length-2]===0&&t.indexStack[t.indexStack.length-3]===0&&(s=!0),lc(t)===i&&u){let A=-1;for(;++A<e.children.length;){const d=e.children[A];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){s=!0;break}}}}s&&(i=a),t.bulletCurrent=i;const c=t.containerFlow(e,l);return t.bulletLastUsed=i,t.bulletCurrent=r,o(),c}function t1(e){const n=e.options.listItemIndent||"one";if(n!=="tab"&&n!=="one"&&n!=="mixed")throw new Error("Cannot serialize items with `"+n+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return n}function l1(e,n,t,l){const o=t1(t);let r=t.bulletCurrent||nr(t);n&&n.type==="list"&&n.ordered&&(r=(typeof n.start=="number"&&n.start>-1?n.start:1)+(t.options.incrementListMarker===!1?0:n.children.indexOf(e))+r);let i=r.length+1;(o==="tab"||o==="mixed"&&(n&&n.type==="list"&&n.spread||e.spread))&&(i=Math.ceil(i/4)*4);const a=t.createTracker(l);a.move(r+" ".repeat(i-r.length)),a.shift(i);const s=t.enter("listItem"),c=t.indentLines(t.containerFlow(e,a.current()),u);return s(),c;function u(A,d,f){return d?(f?"":" ".repeat(i))+A:(f?r:r+" ".repeat(i-r.length))+A}}function o1(e,n,t,l){const o=t.enter("paragraph"),r=t.enter("phrasing"),i=t.containerPhrasing(e,l);return r(),o(),i}const i1=Fa(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function r1(e,n,t,l){return(e.children.some(function(i){return i1(i)})?t.containerPhrasing:t.containerFlow).call(t,e,l)}function s1(e){const n=e.options.strong||"*";if(n!=="*"&&n!=="_")throw new Error("Cannot serialize strong with `"+n+"` for `options.strong`, expected `*`, or `_`");return n}oc.peek=a1;function oc(e,n,t,l){const o=s1(t),r=t.enter("strong"),i=t.createTracker(l),a=i.move(o+o);let s=i.move(t.containerPhrasing(e,{after:o,before:a,...i.current()}));const c=s.charCodeAt(0),u=_l(l.before.charCodeAt(l.before.length-1),c,o);u.inside&&(s=Dt(c)+s.slice(1));const A=s.charCodeAt(s.length-1),d=_l(l.after.charCodeAt(0),A,o);d.inside&&(s=s.slice(0,-1)+Dt(A));const f=i.move(o+o);return r(),t.attentionEncodeSurroundingInfo={after:d.outside,before:u.outside},a+s+f}function a1(e,n,t){return t.options.strong||"*"}function c1(e,n,t,l){return t.safe(e.value,l)}function A1(e){const n=e.options.ruleRepetition||3;if(n<3)throw new Error("Cannot serialize rules with repetition `"+n+"` for `options.ruleRepetition`, expected `3` or more");return n}function u1(e,n,t){const l=(lc(t)+(t.options.ruleSpaces?" ":"")).repeat(A1(t));return t.options.ruleSpaces?l.slice(0,-1):l}const ic={blockquote:jm,break:Or,code:Gm,definition:Um,emphasis:Wa,hardBreak:Or,heading:$m,html:Ka,image:Xa,imageReference:Za,inlineCode:Ja,link:nc,linkReference:tc,list:n1,listItem:l1,paragraph:o1,root:r1,strong:oc,text:c1,thematicBreak:u1};function d1(){return{enter:{table:m1,tableData:jr,tableHeader:jr,tableRow:h1},exit:{codeText:p1,table:f1,tableData:bo,tableHeader:bo,tableRow:bo}}}function m1(e){const n=e._align;this.enter({type:"table",align:n.map(function(t){return t==="none"?null:t}),children:[]},e),this.data.inTable=!0}function f1(e){this.exit(e),this.data.inTable=void 0}function h1(e){this.enter({type:"tableRow",children:[]},e)}function bo(e){this.exit(e)}function jr(e){this.enter({type:"tableCell",children:[]},e)}function p1(e){let n=this.resume();this.data.inTable&&(n=n.replace(/\\([\\|])/g,g1));const t=this.stack[this.stack.length-1];rt(t.type==="inlineCode"),t.value=n,this.exit(e)}function g1(e,n){return n==="|"?n:e}function C1(e){const n=e||{},t=n.tableCellPadding,l=n.tablePipeAlign,o=n.stringLength,r=t?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:i,tableCell:s,tableRow:a}};function i(f,p,C,y){return c(u(f,C,y),f.align)}function a(f,p,C,y){const b=A(f,C,y),E=c([b]);return E.slice(0,E.indexOf(`
`))}function s(f,p,C,y){const b=C.enter("tableCell"),E=C.enter("phrasing"),g=C.containerPhrasing(f,{...y,before:r,after:r});return E(),b(),g}function c(f,p){return Tm(f,{align:p,alignDelimiters:l,padding:t,stringLength:o})}function u(f,p,C){const y=f.children;let b=-1;const E=[],g=p.enter("table");for(;++b<y.length;)E[b]=A(y[b],p,C);return g(),E}function A(f,p,C){const y=f.children;let b=-1;const E=[],g=p.enter("tableRow");for(;++b<y.length;)E[b]=s(y[b],f,p,C);return g(),E}function d(f,p,C){let y=ic.inlineCode(f,p,C);return C.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function y1(){return{exit:{taskListCheckValueChecked:Rr,taskListCheckValueUnchecked:Rr,paragraph:x1}}}function b1(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:E1}}}function Rr(e){const n=this.stack[this.stack.length-2];rt(n.type==="listItem"),n.checked=e.type==="taskListCheckValueChecked"}function x1(e){const n=this.stack[this.stack.length-2];if(n&&n.type==="listItem"&&typeof n.checked=="boolean"){const t=this.stack[this.stack.length-1];rt(t.type==="paragraph");const l=t.children[0];if(l&&l.type==="text"){const o=n.children;let r=-1,i;for(;++r<o.length;){const a=o[r];if(a.type==="paragraph"){i=a;break}}i===t&&(l.value=l.value.slice(1),l.value.length===0?t.children.shift():t.position&&l.position&&typeof l.position.start.offset=="number"&&(l.position.start.column++,l.position.start.offset++,t.position.start=Object.assign({},l.position.start)))}}this.exit(e)}function E1(e,n,t,l){const o=e.children[0],r=typeof e.checked=="boolean"&&o&&o.type==="paragraph",i="["+(e.checked?"x":" ")+"] ",a=t.createTracker(l);r&&a.move(i);let s=ic.listItem(e,n,t,{...l,...a.current()});return r&&(s=s.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),s;function c(u){return u+i}}function v1(){return[tm(),vm(),Sm(),d1(),y1()]}function w1(e){return{extensions:[lm(),wm(e),Nm(),C1(e),b1()]}}const _1={tokenize:B1,partial:!0},rc={tokenize:D1,partial:!0},sc={tokenize:T1,partial:!0},ac={tokenize:O1,partial:!0},k1={tokenize:j1,partial:!0},cc={name:"wwwAutolink",tokenize:M1,previous:uc},Ac={name:"protocolAutolink",tokenize:I1,previous:dc},mn={name:"emailAutolink",tokenize:N1,previous:mc},ln={};function S1(){return{text:ln}}let Dn=48;for(;Dn<123;)ln[Dn]=mn,Dn++,Dn===58?Dn=65:Dn===91&&(Dn=97);ln[43]=mn;ln[45]=mn;ln[46]=mn;ln[95]=mn;ln[72]=[mn,Ac];ln[104]=[mn,Ac];ln[87]=[mn,cc];ln[119]=[mn,cc];function N1(e,n,t){const l=this;let o,r;return i;function i(A){return!Si(A)||!mc.call(l,l.previous)||tr(l.events)?t(A):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(A))}function a(A){return Si(A)?(e.consume(A),a):A===64?(e.consume(A),s):t(A)}function s(A){return A===46?e.check(k1,u,c)(A):A===45||A===95||Zi(A)?(r=!0,e.consume(A),s):u(A)}function c(A){return e.consume(A),o=!0,s}function u(A){return r&&o&&It(l.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),n(A)):t(A)}}function M1(e,n,t){const l=this;return o;function o(i){return i!==87&&i!==119||!uc.call(l,l.previous)||tr(l.events)?t(i):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(_1,e.attempt(rc,e.attempt(sc,r),t),t)(i))}function r(i){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),n(i)}}function I1(e,n,t){const l=this;let o="",r=!1;return i;function i(A){return(A===72||A===104)&&dc.call(l,l.previous)&&!tr(l.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),o+=String.fromCodePoint(A),e.consume(A),a):t(A)}function a(A){if(It(A)&&o.length<5)return o+=String.fromCodePoint(A),e.consume(A),a;if(A===58){const d=o.toLowerCase();if(d==="http"||d==="https")return e.consume(A),s}return t(A)}function s(A){return A===47?(e.consume(A),r?c:(r=!0,s)):t(A)}function c(A){return A===null||Xu(A)||Fe(A)||Zn(A)||Xi(A)?t(A):e.attempt(rc,e.attempt(sc,u),t)(A)}function u(A){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),n(A)}}function B1(e,n,t){let l=0;return o;function o(i){return(i===87||i===119)&&l<3?(l++,e.consume(i),o):i===46&&l===3?(e.consume(i),r):t(i)}function r(i){return i===null?t(i):n(i)}}function D1(e,n,t){let l,o,r;return i;function i(c){return c===46||c===95?e.check(ac,s,a)(c):c===null||Fe(c)||Zn(c)||c!==45&&Xi(c)?s(c):(r=!0,e.consume(c),i)}function a(c){return c===95?l=!0:(o=l,l=void 0),e.consume(c),i}function s(c){return o||l||!r?t(c):n(c)}}function T1(e,n){let t=0,l=0;return o;function o(i){return i===40?(t++,e.consume(i),o):i===41&&l<t?r(i):i===33||i===34||i===38||i===39||i===41||i===42||i===44||i===46||i===58||i===59||i===60||i===63||i===93||i===95||i===126?e.check(ac,n,r)(i):i===null||Fe(i)||Zn(i)?n(i):(e.consume(i),o)}function r(i){return i===41&&l++,e.consume(i),o}}function O1(e,n,t){return l;function l(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),l):a===38?(e.consume(a),r):a===93?(e.consume(a),o):a===60||a===null||Fe(a)||Zn(a)?n(a):t(a)}function o(a){return a===null||a===40||a===91||Fe(a)||Zn(a)?n(a):l(a)}function r(a){return It(a)?i(a):t(a)}function i(a){return a===59?(e.consume(a),l):It(a)?(e.consume(a),i):t(a)}}function j1(e,n,t){return l;function l(r){return e.consume(r),o}function o(r){return Zi(r)?t(r):n(r)}}function uc(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Fe(e)}function dc(e){return!It(e)}function mc(e){return!(e===47||Si(e))}function Si(e){return e===43||e===45||e===46||e===95||Zi(e)}function tr(e){let n=e.length,t=!1;for(;n--;){const l=e[n][1];if((l.type==="labelLink"||l.type==="labelImage")&&!l._balanced){t=!0;break}if(l._gfmAutolinkLiteralWalkedInto){t=!1;break}}return e.length>0&&!t&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),t}const R1={tokenize:V1,partial:!0};function F1(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:z1,continuation:{tokenize:U1},exit:Q1}},text:{91:{name:"gfmFootnoteCall",tokenize:G1},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:L1,resolveTo:P1}}}}function L1(e,n,t){const l=this;let o=l.events.length;const r=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let i;for(;o--;){const s=l.events[o][1];if(s.type==="labelImage"){i=s;break}if(s.type==="gfmFootnoteCall"||s.type==="labelLink"||s.type==="label"||s.type==="image"||s.type==="link")break}return a;function a(s){if(!i||!i._balanced)return t(s);const c=Gt(l.sliceSerialize({start:i.end,end:l.now()}));return c.codePointAt(0)!==94||!r.includes(c.slice(1))?t(s):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(s),e.exit("gfmFootnoteCallLabelMarker"),n(s))}}function P1(e,n){let t=e.length;for(;t--;)if(e[t][1].type==="labelImage"&&e[t][0]==="enter"){e[t][1];break}e[t+1][1].type="data",e[t+3][1].type="gfmFootnoteCallLabelMarker";const l={type:"gfmFootnoteCall",start:Object.assign({},e[t+3][1].start),end:Object.assign({},e[e.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},e[t+3][1].end),end:Object.assign({},e[t+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const r={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},e[e.length-1][1].start)},i={type:"chunkString",contentType:"string",start:Object.assign({},r.start),end:Object.assign({},r.end)},a=[e[t+1],e[t+2],["enter",l,n],e[t+3],e[t+4],["enter",o,n],["exit",o,n],["enter",r,n],["enter",i,n],["exit",i,n],["exit",r,n],e[e.length-2],e[e.length-1],["exit",l,n]];return e.splice(t,e.length-t+1,...a),e}function G1(e,n,t){const l=this,o=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let r=0,i;return a;function a(A){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(A),e.exit("gfmFootnoteCallLabelMarker"),s}function s(A){return A!==94?t(A):(e.enter("gfmFootnoteCallMarker"),e.consume(A),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",c)}function c(A){if(r>999||A===93&&!i||A===null||A===91||Fe(A))return t(A);if(A===93){e.exit("chunkString");const d=e.exit("gfmFootnoteCallString");return o.includes(Gt(l.sliceSerialize(d)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(A),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),n):t(A)}return Fe(A)||(i=!0),r++,e.consume(A),A===92?u:c}function u(A){return A===91||A===92||A===93?(e.consume(A),r++,c):c(A)}}function z1(e,n,t){const l=this,o=l.parser.gfmFootnotes||(l.parser.gfmFootnotes=[]);let r,i=0,a;return s;function s(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",u):t(p)}function u(p){if(i>999||p===93&&!a||p===null||p===91||Fe(p))return t(p);if(p===93){e.exit("chunkString");const C=e.exit("gfmFootnoteDefinitionLabelString");return r=Gt(l.sliceSerialize(C)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Fe(p)||(a=!0),i++,e.consume(p),p===92?A:u}function A(p){return p===91||p===92||p===93?(e.consume(p),i++,u):u(p)}function d(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),o.includes(r)||o.push(r),xn(e,f,"gfmFootnoteDefinitionWhitespace")):t(p)}function f(p){return n(p)}}function U1(e,n,t){return e.check(Zu,n,e.attempt(R1,n,t))}function Q1(e){e.exit("gfmFootnoteDefinition")}function V1(e,n,t){const l=this;return xn(e,o,"gfmFootnoteDefinitionIndent",5);function o(r){const i=l.events[l.events.length-1];return i&&i[1].type==="gfmFootnoteDefinitionIndent"&&i[2].sliceSerialize(i[1],!0).length===4?n(r):t(r)}}function H1(e){let t=(e||{}).singleTilde;const l={name:"strikethrough",tokenize:r,resolveAll:o};return t==null&&(t=!0),{text:{126:l},insideSpan:{null:[l]},attentionMarkers:{null:[126]}};function o(i,a){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let c=s;for(;c--;)if(i[c][0]==="exit"&&i[c][1].type==="strikethroughSequenceTemporary"&&i[c][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[c][1].end.offset-i[c][1].start.offset){i[s][1].type="strikethroughSequence",i[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},i[c][1].start),end:Object.assign({},i[s][1].end)},A={type:"strikethroughText",start:Object.assign({},i[c][1].end),end:Object.assign({},i[s][1].start)},d=[["enter",u,a],["enter",i[c][1],a],["exit",i[c][1],a],["enter",A,a]],f=a.parser.constructs.insideSpan.null;f&&fo(d,d.length,0,Ju(f,i.slice(c+1,s),a)),fo(d,d.length,0,[["exit",A,a],["enter",i[s][1],a],["exit",i[s][1],a],["exit",u,a]]),fo(i,c-1,s-c+3,d),s=c+d.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function r(i,a,s){const c=this.previous,u=this.events;let A=0;return d;function d(p){return c===126&&u[u.length-1][1].type!=="characterEscape"?s(p):(i.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const C=El(c);if(p===126)return A>1?s(p):(i.consume(p),A++,f);if(A<2&&!t)return s(p);const y=i.exit("strikethroughSequenceTemporary"),b=El(p);return y._open=!b||b===2&&!!C,y._close=!C||C===2&&!!b,a(p)}}}class $1{constructor(){this.map=[]}add(n,t,l){q1(this,n,t,l)}consume(n){if(this.map.sort(function(r,i){return r[0]-i[0]}),this.map.length===0)return;let t=this.map.length;const l=[];for(;t>0;)t-=1,l.push(n.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),n.length=this.map[t][0];l.push(n.slice()),n.length=0;let o=l.pop();for(;o;){for(const r of o)n.push(r);o=l.pop()}this.map.length=0}}function q1(e,n,t,l){let o=0;if(!(t===0&&l.length===0)){for(;o<e.map.length;){if(e.map[o][0]===n){e.map[o][1]+=t,e.map[o][2].push(...l);return}o+=1}e.map.push([n,t,l])}}function Y1(e,n){let t=!1;const l=[];for(;n<e.length;){const o=e[n];if(t){if(o[0]==="enter")o[1].type==="tableContent"&&l.push(e[n+1][1].type==="tableDelimiterMarker"?"left":"none");else if(o[1].type==="tableContent"){if(e[n-1][1].type==="tableDelimiterMarker"){const r=l.length-1;l[r]=l[r]==="left"?"center":"right"}}else if(o[1].type==="tableDelimiterRow")break}else o[0]==="enter"&&o[1].type==="tableDelimiterRow"&&(t=!0);n+=1}return l}function W1(){return{flow:{null:{name:"table",tokenize:K1,resolveAll:X1}}}}function K1(e,n,t){const l=this;let o=0,r=0,i;return a;function a(w){let k=l.events.length-1;for(;k>-1;){const S=l.events[k][1].type;if(S==="lineEnding"||S==="linePrefix")k--;else break}const D=k>-1?l.events[k][1].type:null,z=D==="tableHead"||D==="tableRow"?B:s;return z===B&&l.parser.lazy[l.now().line]?t(w):z(w)}function s(w){return e.enter("tableHead"),e.enter("tableRow"),c(w)}function c(w){return w===124||(i=!0,r+=1),u(w)}function u(w){return w===null?t(w):_t(w)?r>1?(r=0,l.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),f):t(w):$n(w)?xn(e,u,"whitespace")(w):(r+=1,i&&(i=!1,o+=1),w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),i=!0,u):(e.enter("data"),A(w)))}function A(w){return w===null||w===124||Fe(w)?(e.exit("data"),u(w)):(e.consume(w),w===92?d:A)}function d(w){return w===92||w===124?(e.consume(w),A):A(w)}function f(w){return l.interrupt=!1,l.parser.lazy[l.now().line]?t(w):(e.enter("tableDelimiterRow"),i=!1,$n(w)?xn(e,p,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(w):p(w))}function p(w){return w===45||w===58?y(w):w===124?(i=!0,e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),C):N(w)}function C(w){return $n(w)?xn(e,y,"whitespace")(w):y(w)}function y(w){return w===58?(r+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),b):w===45?(r+=1,b(w)):w===null||_t(w)?x(w):N(w)}function b(w){return w===45?(e.enter("tableDelimiterFiller"),E(w)):N(w)}function E(w){return w===45?(e.consume(w),E):w===58?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(w),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(w))}function g(w){return $n(w)?xn(e,x,"whitespace")(w):x(w)}function x(w){return w===124?p(w):w===null||_t(w)?!i||o!==r?N(w):(e.exit("tableDelimiterRow"),e.exit("tableHead"),n(w)):N(w)}function N(w){return t(w)}function B(w){return e.enter("tableRow"),R(w)}function R(w){return w===124?(e.enter("tableCellDivider"),e.consume(w),e.exit("tableCellDivider"),R):w===null||_t(w)?(e.exit("tableRow"),n(w)):$n(w)?xn(e,R,"whitespace")(w):(e.enter("data"),v(w))}function v(w){return w===null||w===124||Fe(w)?(e.exit("data"),R(w)):(e.consume(w),w===92?I:v)}function I(w){return w===92||w===124?(e.consume(w),v):v(w)}}function X1(e,n){let t=-1,l=!0,o=0,r=[0,0,0,0],i=[0,0,0,0],a=!1,s=0,c,u,A;const d=new $1;for(;++t<e.length;){const f=e[t],p=f[1];f[0]==="enter"?p.type==="tableHead"?(a=!1,s!==0&&(Fr(d,n,s,c,u),u=void 0,s=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(t,0,[["enter",c,n]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=!0,A=void 0,r=[0,0,0,0],i=[0,t+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(t,0,[["enter",u,n]])),o=p.type==="tableDelimiterRow"?2:u?3:1):o&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(l=!1,i[2]===0&&(r[1]!==0&&(i[0]=i[1],A=il(d,n,r,o,void 0,A),r=[0,0,0,0]),i[2]=t)):p.type==="tableCellDivider"&&(l?l=!1:(r[1]!==0&&(i[0]=i[1],A=il(d,n,r,o,void 0,A)),r=i,i=[r[1],t,0,0])):p.type==="tableHead"?(a=!0,s=t):p.type==="tableRow"||p.type==="tableDelimiterRow"?(s=t,r[1]!==0?(i[0]=i[1],A=il(d,n,r,o,t,A)):i[1]!==0&&(A=il(d,n,i,o,t,A)),o=0):o&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(i[3]=t)}for(s!==0&&Fr(d,n,s,c,u),d.consume(n.events),t=-1;++t<n.events.length;){const f=n.events[t];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=Y1(n.events,t))}return e}function il(e,n,t,l,o,r){const i=l===1?"tableHeader":l===2?"tableDelimiter":"tableData",a="tableContent";t[0]!==0&&(r.end=Object.assign({},qn(n.events,t[0])),e.add(t[0],0,[["exit",r,n]]));const s=qn(n.events,t[1]);if(r={type:i,start:Object.assign({},s),end:Object.assign({},s)},e.add(t[1],0,[["enter",r,n]]),t[2]!==0){const c=qn(n.events,t[2]),u=qn(n.events,t[3]),A={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(e.add(t[2],0,[["enter",A,n]]),l!==2){const d=n.events[t[2]],f=n.events[t[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",t[3]>t[2]+1){const p=t[2]+1,C=t[3]-t[2]-1;e.add(p,C,[])}}e.add(t[3]+1,0,[["exit",A,n]])}return o!==void 0&&(r.end=Object.assign({},qn(n.events,o)),e.add(o,0,[["exit",r,n]]),r=void 0),r}function Fr(e,n,t,l,o){const r=[],i=qn(n.events,t);o&&(o.end=Object.assign({},i),r.push(["exit",o,n])),l.end=Object.assign({},i),r.push(["exit",l,n]),e.add(t+1,0,r)}function qn(e,n){const t=e[n],l=t[0]==="enter"?"start":"end";return t[1][l]}const Z1={name:"tasklistCheck",tokenize:e0};function J1(){return{text:{91:Z1}}}function e0(e,n,t){const l=this;return o;function o(s){return l.previous!==null||!l._gfmTasklistFirstContentOfListItem?t(s):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),r)}function r(s){return Fe(s)?(e.enter("taskListCheckValueUnchecked"),e.consume(s),e.exit("taskListCheckValueUnchecked"),i):s===88||s===120?(e.enter("taskListCheckValueChecked"),e.consume(s),e.exit("taskListCheckValueChecked"),i):t(s)}function i(s){return s===93?(e.enter("taskListCheckMarker"),e.consume(s),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):t(s)}function a(s){return _t(s)?n(s):$n(s)?e.check({tokenize:n0},n,t)(s):t(s)}}function n0(e,n,t){return xn(e,l,"whitespace");function l(o){return o===null?t(o):n(o)}}function t0(e){return ed([S1(),F1(),H1(e),W1(),J1()])}const l0={};function o0(e){const n=this,t=e||l0,l=n.data(),o=l.micromarkExtensions||(l.micromarkExtensions=[]),r=l.fromMarkdownExtensions||(l.fromMarkdownExtensions=[]),i=l.toMarkdownExtensions||(l.toMarkdownExtensions=[]);o.push(t0(t)),r.push(v1()),i.push(w1(t))}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:fc,setPrototypeOf:Lr,isFrozen:i0,getPrototypeOf:r0,getOwnPropertyDescriptor:s0}=Object;let{freeze:De,seal:Ue,create:hc}=Object,{apply:Ni,construct:Mi}=typeof Reflect<"u"&&Reflect;De||(De=function(n){return n});Ue||(Ue=function(n){return n});Ni||(Ni=function(n,t,l){return n.apply(t,l)});Mi||(Mi=function(n,t){return new n(...t)});const rl=Te(Array.prototype.forEach),a0=Te(Array.prototype.lastIndexOf),Pr=Te(Array.prototype.pop),Ct=Te(Array.prototype.push),c0=Te(Array.prototype.splice),gl=Te(String.prototype.toLowerCase),xo=Te(String.prototype.toString),Gr=Te(String.prototype.match),yt=Te(String.prototype.replace),A0=Te(String.prototype.indexOf),u0=Te(String.prototype.trim),Ye=Te(Object.prototype.hasOwnProperty),Be=Te(RegExp.prototype.test),bt=d0(TypeError);function Te(e){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var t=arguments.length,l=new Array(t>1?t-1:0),o=1;o<t;o++)l[o-1]=arguments[o];return Ni(e,n,l)}}function d0(e){return function(){for(var n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return Mi(e,t)}}function fe(e,n){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gl;Lr&&Lr(e,null);let l=n.length;for(;l--;){let o=n[l];if(typeof o=="string"){const r=t(o);r!==o&&(i0(n)||(n[l]=r),o=r)}e[o]=!0}return e}function m0(e){for(let n=0;n<e.length;n++)Ye(e,n)||(e[n]=null);return e}function An(e){const n=hc(null);for(const[t,l]of fc(e))Ye(e,t)&&(Array.isArray(l)?n[t]=m0(l):l&&typeof l=="object"&&l.constructor===Object?n[t]=An(l):n[t]=l);return n}function xt(e,n){for(;e!==null;){const l=s0(e,n);if(l){if(l.get)return Te(l.get);if(typeof l.value=="function")return Te(l.value)}e=r0(e)}function t(){return null}return t}const zr=De(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Eo=De(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vo=De(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f0=De(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wo=De(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),h0=De(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ur=De(["#text"]),Qr=De(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),_o=De(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vr=De(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),sl=De(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),p0=Ue(/\{\{[\w\W]*|[\w\W]*\}\}/gm),g0=Ue(/<%[\w\W]*|[\w\W]*%>/gm),C0=Ue(/\$\{[\w\W]*/gm),y0=Ue(/^data-[\-\w.\u00B7-\uFFFF]+$/),b0=Ue(/^aria-[\-\w]+$/),pc=Ue(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),x0=Ue(/^(?:\w+script|data):/i),E0=Ue(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gc=Ue(/^html$/i),v0=Ue(/^[a-z][.\w]*(-[.\w]+)+$/i);var Hr=Object.freeze({__proto__:null,ARIA_ATTR:b0,ATTR_WHITESPACE:E0,CUSTOM_ELEMENT:v0,DATA_ATTR:y0,DOCTYPE_NAME:gc,ERB_EXPR:g0,IS_ALLOWED_URI:pc,IS_SCRIPT_OR_DATA:x0,MUSTACHE_EXPR:p0,TMPLIT_EXPR:C0});const Et={element:1,text:3,progressingInstruction:7,comment:8,document:9},w0=function(){return typeof window>"u"?null:window},_0=function(n,t){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let l=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(l=t.getAttribute(o));const r="dompurify"+(l?"#"+l:"");try{return n.createPolicy(r,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},$r=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Cc(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w0();const n=se=>Cc(se);if(n.version="3.2.6",n.removed=[],!e||!e.document||e.document.nodeType!==Et.document||!e.Element)return n.isSupported=!1,n;let{document:t}=e;const l=t,o=l.currentScript,{DocumentFragment:r,HTMLTemplateElement:i,Node:a,Element:s,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:A,DOMParser:d,trustedTypes:f}=e,p=s.prototype,C=xt(p,"cloneNode"),y=xt(p,"remove"),b=xt(p,"nextSibling"),E=xt(p,"childNodes"),g=xt(p,"parentNode");if(typeof i=="function"){const se=t.createElement("template");se.content&&se.content.ownerDocument&&(t=se.content.ownerDocument)}let x,N="";const{implementation:B,createNodeIterator:R,createDocumentFragment:v,getElementsByTagName:I}=t,{importNode:w}=l;let k=$r();n.isSupported=typeof fc=="function"&&typeof g=="function"&&B&&B.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:z,TMPLIT_EXPR:S,DATA_ATTR:T,ARIA_ATTR:F,IS_SCRIPT_OR_DATA:G,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:H}=Hr;let{IS_ALLOWED_URI:Y}=Hr,U=null;const W=fe({},[...zr,...Eo,...vo,...wo,...Ur]);let j=null;const L=fe({},[...Qr,..._o,...Vr,...sl]);let V=Object.seal(hc(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,J=null,Z=!0,ne=!0,ue=!1,de=!0,te=!1,ae=!0,re=!1,pe=!1,xe=!1,Me=!1,Qe=!1,rn=!1,wn=!0,_n=!1;const kn="user-content-";let sn=!0,an=!1,Ve={},Oe=null;const hn=fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let at=null;const qt=fe({},["audio","video","img","source","image","track"]);let Sn=null;const Yt=fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),zn="http://www.w3.org/1998/Math/MathML",Un="http://www.w3.org/2000/svg",He="http://www.w3.org/1999/xhtml";let pn=He,ct=!1,At=null;const oo=fe({},[zn,Un,He],xo);let Qn=fe({},["mi","mo","mn","ms","mtext"]),Vn=fe({},["annotation-xml"]);const io=fe({},["title","style","font","a","script"]);let Nn=null;const ro=["application/xhtml+xml","text/html"],so="text/html";let Ee=null,gn=null;const ao=t.createElement("form"),Wt=function(P){return P instanceof RegExp||P instanceof Function},ut=function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gn&&gn===P)){if((!P||typeof P!="object")&&(P={}),P=An(P),Nn=ro.indexOf(P.PARSER_MEDIA_TYPE)===-1?so:P.PARSER_MEDIA_TYPE,Ee=Nn==="application/xhtml+xml"?xo:gl,U=Ye(P,"ALLOWED_TAGS")?fe({},P.ALLOWED_TAGS,Ee):W,j=Ye(P,"ALLOWED_ATTR")?fe({},P.ALLOWED_ATTR,Ee):L,At=Ye(P,"ALLOWED_NAMESPACES")?fe({},P.ALLOWED_NAMESPACES,xo):oo,Sn=Ye(P,"ADD_URI_SAFE_ATTR")?fe(An(Yt),P.ADD_URI_SAFE_ATTR,Ee):Yt,at=Ye(P,"ADD_DATA_URI_TAGS")?fe(An(qt),P.ADD_DATA_URI_TAGS,Ee):qt,Oe=Ye(P,"FORBID_CONTENTS")?fe({},P.FORBID_CONTENTS,Ee):hn,q=Ye(P,"FORBID_TAGS")?fe({},P.FORBID_TAGS,Ee):An({}),J=Ye(P,"FORBID_ATTR")?fe({},P.FORBID_ATTR,Ee):An({}),Ve=Ye(P,"USE_PROFILES")?P.USE_PROFILES:!1,Z=P.ALLOW_ARIA_ATTR!==!1,ne=P.ALLOW_DATA_ATTR!==!1,ue=P.ALLOW_UNKNOWN_PROTOCOLS||!1,de=P.ALLOW_SELF_CLOSE_IN_ATTR!==!1,te=P.SAFE_FOR_TEMPLATES||!1,ae=P.SAFE_FOR_XML!==!1,re=P.WHOLE_DOCUMENT||!1,Me=P.RETURN_DOM||!1,Qe=P.RETURN_DOM_FRAGMENT||!1,rn=P.RETURN_TRUSTED_TYPE||!1,xe=P.FORCE_BODY||!1,wn=P.SANITIZE_DOM!==!1,_n=P.SANITIZE_NAMED_PROPS||!1,sn=P.KEEP_CONTENT!==!1,an=P.IN_PLACE||!1,Y=P.ALLOWED_URI_REGEXP||pc,pn=P.NAMESPACE||He,Qn=P.MATHML_TEXT_INTEGRATION_POINTS||Qn,Vn=P.HTML_INTEGRATION_POINTS||Vn,V=P.CUSTOM_ELEMENT_HANDLING||{},P.CUSTOM_ELEMENT_HANDLING&&Wt(P.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=P.CUSTOM_ELEMENT_HANDLING.tagNameCheck),P.CUSTOM_ELEMENT_HANDLING&&Wt(P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=P.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),P.CUSTOM_ELEMENT_HANDLING&&typeof P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=P.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),te&&(ne=!1),Qe&&(Me=!0),Ve&&(U=fe({},Ur),j=[],Ve.html===!0&&(fe(U,zr),fe(j,Qr)),Ve.svg===!0&&(fe(U,Eo),fe(j,_o),fe(j,sl)),Ve.svgFilters===!0&&(fe(U,vo),fe(j,_o),fe(j,sl)),Ve.mathMl===!0&&(fe(U,wo),fe(j,Vr),fe(j,sl))),P.ADD_TAGS&&(U===W&&(U=An(U)),fe(U,P.ADD_TAGS,Ee)),P.ADD_ATTR&&(j===L&&(j=An(j)),fe(j,P.ADD_ATTR,Ee)),P.ADD_URI_SAFE_ATTR&&fe(Sn,P.ADD_URI_SAFE_ATTR,Ee),P.FORBID_CONTENTS&&(Oe===hn&&(Oe=An(Oe)),fe(Oe,P.FORBID_CONTENTS,Ee)),sn&&(U["#text"]=!0),re&&fe(U,["html","head","body"]),U.table&&(fe(U,["tbody"]),delete q.tbody),P.TRUSTED_TYPES_POLICY){if(typeof P.TRUSTED_TYPES_POLICY.createHTML!="function")throw bt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof P.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw bt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=P.TRUSTED_TYPES_POLICY,N=x.createHTML("")}else x===void 0&&(x=_0(f,o)),x!==null&&typeof N=="string"&&(N=x.createHTML(""));De&&De(P),gn=P}},Kt=fe({},[...Eo,...vo,...f0]),Xt=fe({},[...wo,...h0]),co=function(P){let ee=g(P);(!ee||!ee.tagName)&&(ee={namespaceURI:pn,tagName:"template"});const le=gl(P.tagName),Ce=gl(ee.tagName);return At[P.namespaceURI]?P.namespaceURI===Un?ee.namespaceURI===He?le==="svg":ee.namespaceURI===zn?le==="svg"&&(Ce==="annotation-xml"||Qn[Ce]):!!Kt[le]:P.namespaceURI===zn?ee.namespaceURI===He?le==="math":ee.namespaceURI===Un?le==="math"&&Vn[Ce]:!!Xt[le]:P.namespaceURI===He?ee.namespaceURI===Un&&!Vn[Ce]||ee.namespaceURI===zn&&!Qn[Ce]?!1:!Xt[le]&&(io[le]||!Kt[le]):!!(Nn==="application/xhtml+xml"&&At[P.namespaceURI]):!1},Ge=function(P){Ct(n.removed,{element:P});try{g(P).removeChild(P)}catch{y(P)}},Cn=function(P,ee){try{Ct(n.removed,{attribute:ee.getAttributeNode(P),from:ee})}catch{Ct(n.removed,{attribute:null,from:ee})}if(ee.removeAttribute(P),P==="is")if(Me||Qe)try{Ge(ee)}catch{}else try{ee.setAttribute(P,"")}catch{}},Zt=function(P){let ee=null,le=null;if(xe)P="<remove></remove>"+P;else{const ve=Gr(P,/^[\r\n\t ]+/);le=ve&&ve[0]}Nn==="application/xhtml+xml"&&pn===He&&(P='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+P+"</body></html>");const Ce=x?x.createHTML(P):P;if(pn===He)try{ee=new d().parseFromString(Ce,Nn)}catch{}if(!ee||!ee.documentElement){ee=B.createDocument(pn,"template",null);try{ee.documentElement.innerHTML=ct?N:Ce}catch{}}const Se=ee.body||ee.documentElement;return P&&le&&Se.insertBefore(t.createTextNode(le),Se.childNodes[0]||null),pn===He?I.call(ee,re?"html":"body")[0]:re?ee.documentElement:Se},Jt=function(P){return R.call(P.ownerDocument||P,P,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},dt=function(P){return P instanceof A&&(typeof P.nodeName!="string"||typeof P.textContent!="string"||typeof P.removeChild!="function"||!(P.attributes instanceof u)||typeof P.removeAttribute!="function"||typeof P.setAttribute!="function"||typeof P.namespaceURI!="string"||typeof P.insertBefore!="function"||typeof P.hasChildNodes!="function")},el=function(P){return typeof a=="function"&&P instanceof a};function $e(se,P,ee){rl(se,le=>{le.call(n,P,ee,gn)})}const nl=function(P){let ee=null;if($e(k.beforeSanitizeElements,P,null),dt(P))return Ge(P),!0;const le=Ee(P.nodeName);if($e(k.uponSanitizeElement,P,{tagName:le,allowedTags:U}),ae&&P.hasChildNodes()&&!el(P.firstElementChild)&&Be(/<[/\w!]/g,P.innerHTML)&&Be(/<[/\w!]/g,P.textContent)||P.nodeType===Et.progressingInstruction||ae&&P.nodeType===Et.comment&&Be(/<[/\w]/g,P.data))return Ge(P),!0;if(!U[le]||q[le]){if(!q[le]&&ft(le)&&(V.tagNameCheck instanceof RegExp&&Be(V.tagNameCheck,le)||V.tagNameCheck instanceof Function&&V.tagNameCheck(le)))return!1;if(sn&&!Oe[le]){const Ce=g(P)||P.parentNode,Se=E(P)||P.childNodes;if(Se&&Ce){const ve=Se.length;for(let Ie=ve-1;Ie>=0;--Ie){const qe=C(Se[Ie],!0);qe.__removalCount=(P.__removalCount||0)+1,Ce.insertBefore(qe,b(P))}}}return Ge(P),!0}return P instanceof s&&!co(P)||(le==="noscript"||le==="noembed"||le==="noframes")&&Be(/<\/no(script|embed|frames)/i,P.innerHTML)?(Ge(P),!0):(te&&P.nodeType===Et.text&&(ee=P.textContent,rl([D,z,S],Ce=>{ee=yt(ee,Ce," ")}),P.textContent!==ee&&(Ct(n.removed,{element:P.cloneNode()}),P.textContent=ee)),$e(k.afterSanitizeElements,P,null),!1)},mt=function(P,ee,le){if(wn&&(ee==="id"||ee==="name")&&(le in t||le in ao))return!1;if(!(ne&&!J[ee]&&Be(T,ee))){if(!(Z&&Be(F,ee))){if(!j[ee]||J[ee]){if(!(ft(P)&&(V.tagNameCheck instanceof RegExp&&Be(V.tagNameCheck,P)||V.tagNameCheck instanceof Function&&V.tagNameCheck(P))&&(V.attributeNameCheck instanceof RegExp&&Be(V.attributeNameCheck,ee)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(ee))||ee==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&Be(V.tagNameCheck,le)||V.tagNameCheck instanceof Function&&V.tagNameCheck(le))))return!1}else if(!Sn[ee]){if(!Be(Y,yt(le,$,""))){if(!((ee==="src"||ee==="xlink:href"||ee==="href")&&P!=="script"&&A0(le,"data:")===0&&at[P])){if(!(ue&&!Be(G,yt(le,$,"")))){if(le)return!1}}}}}}return!0},ft=function(P){return P!=="annotation-xml"&&Gr(P,H)},ht=function(P){$e(k.beforeSanitizeAttributes,P,null);const{attributes:ee}=P;if(!ee||dt(P))return;const le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:j,forceKeepAttr:void 0};let Ce=ee.length;for(;Ce--;){const Se=ee[Ce],{name:ve,namespaceURI:Ie,value:qe}=Se,Mn=Ee(ve),pt=qe;let Ne=ve==="value"?pt:u0(pt);if(le.attrName=Mn,le.attrValue=Ne,le.keepAttr=!0,le.forceKeepAttr=void 0,$e(k.uponSanitizeAttribute,P,le),Ne=le.attrValue,_n&&(Mn==="id"||Mn==="name")&&(Cn(ve,P),Ne=kn+Ne),ae&&Be(/((--!?|])>)|<\/(style|title)/i,Ne)){Cn(ve,P);continue}if(le.forceKeepAttr)continue;if(!le.keepAttr){Cn(ve,P);continue}if(!de&&Be(/\/>/i,Ne)){Cn(ve,P);continue}te&&rl([D,z,S],gt=>{Ne=yt(Ne,gt," ")});const tl=Ee(P.nodeName);if(!mt(tl,Mn,Ne)){Cn(ve,P);continue}if(x&&typeof f=="object"&&typeof f.getAttributeType=="function"&&!Ie)switch(f.getAttributeType(tl,Mn)){case"TrustedHTML":{Ne=x.createHTML(Ne);break}case"TrustedScriptURL":{Ne=x.createScriptURL(Ne);break}}if(Ne!==pt)try{Ie?P.setAttributeNS(Ie,ve,Ne):P.setAttribute(ve,Ne),dt(P)?Ge(P):Pr(n.removed)}catch{Cn(ve,P)}}$e(k.afterSanitizeAttributes,P,null)},Ao=function se(P){let ee=null;const le=Jt(P);for($e(k.beforeSanitizeShadowDOM,P,null);ee=le.nextNode();)$e(k.uponSanitizeShadowNode,ee,null),nl(ee),ht(ee),ee.content instanceof r&&se(ee.content);$e(k.afterSanitizeShadowDOM,P,null)};return n.sanitize=function(se){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=null,le=null,Ce=null,Se=null;if(ct=!se,ct&&(se="<!-->"),typeof se!="string"&&!el(se))if(typeof se.toString=="function"){if(se=se.toString(),typeof se!="string")throw bt("dirty is not a string, aborting")}else throw bt("toString is not a function");if(!n.isSupported)return se;if(pe||ut(P),n.removed=[],typeof se=="string"&&(an=!1),an){if(se.nodeName){const qe=Ee(se.nodeName);if(!U[qe]||q[qe])throw bt("root node is forbidden and cannot be sanitized in-place")}}else if(se instanceof a)ee=Zt("<!---->"),le=ee.ownerDocument.importNode(se,!0),le.nodeType===Et.element&&le.nodeName==="BODY"||le.nodeName==="HTML"?ee=le:ee.appendChild(le);else{if(!Me&&!te&&!re&&se.indexOf("<")===-1)return x&&rn?x.createHTML(se):se;if(ee=Zt(se),!ee)return Me?null:rn?N:""}ee&&xe&&Ge(ee.firstChild);const ve=Jt(an?se:ee);for(;Ce=ve.nextNode();)nl(Ce),ht(Ce),Ce.content instanceof r&&Ao(Ce.content);if(an)return se;if(Me){if(Qe)for(Se=v.call(ee.ownerDocument);ee.firstChild;)Se.appendChild(ee.firstChild);else Se=ee;return(j.shadowroot||j.shadowrootmode)&&(Se=w.call(l,Se,!0)),Se}let Ie=re?ee.outerHTML:ee.innerHTML;return re&&U["!doctype"]&&ee.ownerDocument&&ee.ownerDocument.doctype&&ee.ownerDocument.doctype.name&&Be(gc,ee.ownerDocument.doctype.name)&&(Ie="<!DOCTYPE "+ee.ownerDocument.doctype.name+`>
`+Ie),te&&rl([D,z,S],qe=>{Ie=yt(Ie,qe," ")}),x&&rn?x.createHTML(Ie):Ie},n.setConfig=function(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ut(se),pe=!0},n.clearConfig=function(){gn=null,pe=!1},n.isValidAttribute=function(se,P,ee){gn||ut({});const le=Ee(se),Ce=Ee(P);return mt(le,Ce,ee)},n.addHook=function(se,P){typeof P=="function"&&Ct(k[se],P)},n.removeHook=function(se,P){if(P!==void 0){const ee=a0(k[se],P);return ee===-1?void 0:c0(k[se],ee,1)[0]}return Pr(k[se])},n.removeHooks=function(se){k[se]=[]},n.removeAllHooks=function(){k=$r()},n}var k0=Cc();function ie(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/MarkDownViewer.tsx",n="92bfe424f02d31dbb667e91f49b9095fa05d757e",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/MarkDownViewer.tsx",statementMap:{0:{start:{line:9,column:20},end:{line:11,column:1}},1:{start:{line:10,column:2},end:{line:10,column:112}},2:{start:{line:12,column:23},end:{line:134,column:1}},3:{start:{line:13,column:16},end:{line:13,column:50}},4:{start:{line:14,column:27},end:{line:21,column:13}},5:{start:{line:15,column:4},end:{line:20,column:5}},6:{start:{line:16,column:6},end:{line:16,column:45}},7:{start:{line:18,column:6},end:{line:18,column:57}},8:{start:{line:19,column:6},end:{line:19,column:48}},9:{start:{line:22,column:2},end:{line:25,column:3}},10:{start:{line:23,column:4},end:{line:23,column:69}},11:{start:{line:24,column:4},end:{line:24,column:105}},12:{start:{line:26,column:2},end:{line:133,column:7}},13:{start:{line:32,column:56},end:{line:39,column:9}},14:{start:{line:40,column:56},end:{line:47,column:9}},15:{start:{line:48,column:56},end:{line:55,column:9}},16:{start:{line:56,column:55},end:{line:63,column:9}},17:{start:{line:64,column:56},end:{line:71,column:9}},18:{start:{line:72,column:56},end:{line:79,column:9}},19:{start:{line:80,column:56},end:{line:80,column:108}},20:{start:{line:81,column:59},end:{line:88,column:12}},21:{start:{line:89,column:56},end:{line:96,column:9}},22:{start:{line:97,column:56},end:{line:97,column:139}},23:{start:{line:98,column:64},end:{line:105,column:9}},24:{start:{line:106,column:58},end:{line:113,column:9}},25:{start:{line:115,column:30},end:{line:115,column:71}},26:{start:{line:116,column:10},end:{line:127,column:12}},27:{start:{line:129,column:39},end:{line:129,column:107}},28:{start:{line:136,column:0},end:{line:142,column:50}},29:{start:{line:138,column:4},end:{line:138,column:50}},30:{start:{line:140,column:4},end:{line:140,column:482}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:20},end:{line:9,column:21}},loc:{start:{line:9,column:43},end:{line:11,column:1}},line:9},1:{name:"(anonymous_1)",decl:{start:{line:12,column:23},end:{line:12,column:24}},loc:{start:{line:12,column:54},end:{line:134,column:1}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:14,column:41},end:{line:14,column:42}},loc:{start:{line:14,column:47},end:{line:21,column:3}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:32,column:12},end:{line:32,column:13}},loc:{start:{line:32,column:56},end:{line:39,column:9}},line:32},4:{name:"(anonymous_4)",decl:{start:{line:40,column:12},end:{line:40,column:13}},loc:{start:{line:40,column:56},end:{line:47,column:9}},line:40},5:{name:"(anonymous_5)",decl:{start:{line:48,column:12},end:{line:48,column:13}},loc:{start:{line:48,column:56},end:{line:55,column:9}},line:48},6:{name:"(anonymous_6)",decl:{start:{line:56,column:11},end:{line:56,column:12}},loc:{start:{line:56,column:55},end:{line:63,column:9}},line:56},7:{name:"(anonymous_7)",decl:{start:{line:64,column:12},end:{line:64,column:13}},loc:{start:{line:64,column:56},end:{line:71,column:9}},line:64},8:{name:"(anonymous_8)",decl:{start:{line:72,column:12},end:{line:72,column:13}},loc:{start:{line:72,column:56},end:{line:79,column:9}},line:72},9:{name:"(anonymous_9)",decl:{start:{line:80,column:12},end:{line:80,column:13}},loc:{start:{line:80,column:56},end:{line:80,column:108}},line:80},10:{name:"(anonymous_10)",decl:{start:{line:81,column:15},end:{line:81,column:16}},loc:{start:{line:81,column:59},end:{line:88,column:12}},line:81},11:{name:"(anonymous_11)",decl:{start:{line:89,column:12},end:{line:89,column:13}},loc:{start:{line:89,column:56},end:{line:96,column:9}},line:89},12:{name:"(anonymous_12)",decl:{start:{line:97,column:12},end:{line:97,column:13}},loc:{start:{line:97,column:56},end:{line:97,column:139}},line:97},13:{name:"(anonymous_13)",decl:{start:{line:98,column:20},end:{line:98,column:21}},loc:{start:{line:98,column:64},end:{line:105,column:9}},line:98},14:{name:"(anonymous_14)",decl:{start:{line:106,column:14},end:{line:106,column:15}},loc:{start:{line:106,column:58},end:{line:113,column:9}},line:106},15:{name:"(anonymous_15)",decl:{start:{line:114,column:13},end:{line:114,column:14}},loc:{start:{line:114,column:41},end:{line:128,column:9}},line:114},16:{name:"(anonymous_16)",decl:{start:{line:129,column:12},end:{line:129,column:13}},loc:{start:{line:129,column:39},end:{line:129,column:107}},line:129}},branchMap:{0:{loc:{start:{line:16,column:32},end:{line:16,column:43}},type:"binary-expr",locations:[{start:{line:16,column:32},end:{line:16,column:37}},{start:{line:16,column:41},end:{line:16,column:43}}],line:16},1:{loc:{start:{line:22,column:2},end:{line:25,column:3}},type:"if",locations:[{start:{line:22,column:2},end:{line:25,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:22},2:{loc:{start:{line:115,column:30},end:{line:115,column:71}},type:"cond-expr",locations:[{start:{line:115,column:36},end:{line:115,column:66}},{start:{line:115,column:69},end:{line:115,column:71}}],line:115},3:{loc:{start:{line:120,column:19},end:{line:120,column:28}},type:"binary-expr",locations:[{start:{line:120,column:19},end:{line:120,column:22}},{start:{line:120,column:26},end:{line:120,column:28}}],line:120}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/MarkDownViewer.tsx"],names:[],mappings:";AAqCW;AAnCX;AACA;AACA;AACA;AACA;AACA;AAMA;AACE;AACF;AAGA;AAKE;AAEA;AACE;AACE;AAAqC;AAErC;AACA;AAAO;AACT;AAIF;AACE;AACA;AAA6D;AAG/D;AAEI;AAAC;AAAA;AACsC;AACV;AACf;AAER;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAKA;AAIE;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AAEL;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAKA;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AAAC;AAAA;AACW;AACN;AAEH;AAAA;AACH;AAGA;AACA;AACE;AAAC;AAAA;AACM;AACO;AACL;AACK;AACF;AACA;AACV;AAAA;AACF;AAEJ;AAE4D;AAE9D;AAEC;AAAA;AAIT;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"92bfe424f02d31dbb667e91f49b9095fa05d757e"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return ie=function(){return i},i}ie();ie().s[0]++;const S0=(e,n)=>(ie().f[0]++,ie().s[1]++,`https://onyibiwnfwxatadlkygz.supabase.co/storage/v1/object/public/media/image/${n}/${e}`);ie().s[2]++;const N0=({content:e,knowledge_id:n})=>{ie().f[1]++;const t=(ie().s[3]++,e.replace("```markdown","")),l=(ie().s[4]++,Ra.useMemo(()=>{ie().f[2]++,ie().s[5]++;try{return ie().s[6]++,k0.sanitize((ie().b[0][0]++,t||(ie().b[0][1]++,"")))}catch(o){return ie().s[7]++,console.error("Content sanitization failed:",o),ie().s[8]++,"Error: Unable to render content."}},[t]));return ie().s[9]++,typeof t!="string"?(ie().b[1][0]++,ie().s[10]++,console.warn("Invalid content passed to MarkdownViewer:",t),ie().s[11]++,m.jsx("div",{children:"Error: Invalid content format. Expected a string."})):(ie().b[1][1]++,ie().s[12]++,m.jsx("div",{className:"h-full",children:m.jsx(nd,{remarkPlugins:[o0,ld],rehypePlugins:[td],components:{h1:({children:o,...r})=>(ie().f[3]++,ie().s[13]++,m.jsx("h1",{className:"mb-4 mt-8 text-3xl font-extrabold text-green-400",...r,children:o})),h2:({children:o,...r})=>(ie().f[4]++,ie().s[14]++,m.jsx("h2",{className:"mb-3 mt-6 border-b border-green-700 text-2xl font-bold text-green-300",...r,children:o})),h3:({children:o,...r})=>(ie().f[5]++,ie().s[15]++,m.jsx("h3",{className:"mb-2 mt-4 text-xl font-semibold text-green-200",...r,children:o})),p:({children:o,...r})=>(ie().f[6]++,ie().s[16]++,m.jsx("p",{className:"my-4 whitespace-normal leading-relaxed text-gray-300",...r,children:o})),ul:({children:o,...r})=>(ie().f[7]++,ie().s[17]++,m.jsx("ul",{className:"my-4 ml-6 list-disc space-y-2 text-gray-300",...r,children:o})),ol:({children:o,...r})=>(ie().f[8]++,ie().s[18]++,m.jsx("ol",{className:"my-4 ml-6 list-decimal space-y-2 text-gray-300",...r,children:o})),li:({children:o,...r})=>(ie().f[9]++,ie().s[19]++,m.jsx("li",{className:"ml-2",...r,children:o})),table:({children:o,...r})=>(ie().f[10]++,ie().s[20]++,m.jsx("div",{className:"my-6 overflow-x-auto",children:m.jsx("table",{className:"min-w-full divide-y divide-green-600 border border-green-600 text-gray-200",...r,children:o})})),th:({children:o,...r})=>(ie().f[11]++,ie().s[21]++,m.jsx("th",{className:"border-b border-green-600 px-4 py-2 text-left font-semibold text-green-300",...r,children:o})),td:({children:o,...r})=>(ie().f[12]++,ie().s[22]++,m.jsx("td",{className:"border-b border-green-600 px-4 py-2",...r,children:o})),blockquote:({children:o,...r})=>(ie().f[13]++,ie().s[23]++,m.jsx("blockquote",{className:"border-l-4 border-green-500 pl-4 italic text-green-300",...r,children:o})),code:({children:o,...r})=>(ie().f[14]++,ie().s[24]++,m.jsx("code",{className:"whitespace-normal rounded bg-gray-700 px-2 py-1 font-mono text-sm text-green-400",...r,children:o})),img:({src:o,alt:r,...i})=>{ie().f[15]++;const a=(ie().s[25]++,o?(ie().b[2][0]++,S0(o,n)):(ie().b[2][1]++,""));return ie().s[26]++,m.jsx("img",{src:a,alt:(ie().b[3][0]++,r||(ie().b[3][1]++,"")),style:{maxWidth:"100%",border:"1px solid #ddd",margin:"10px 0"}})},hr:o=>(ie().f[16]++,ie().s[27]++,m.jsx("hr",{className:"my-8 border-t border-green-700",...o}))},children:l})}))};ie().s[28]++;try{ie().s[29]++,MarkDownViewer.displayName="MarkDownViewer",ie().s[30]++,MarkDownViewer.__docgenInfo={description:"",displayName:"MarkDownViewer",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},images:{defaultValue:null,description:"",name:"images",required:!1,type:{name:"string[]"}},knowledge_id:{defaultValue:null,description:"",name:"knowledge_id",required:!0,type:{name:"string"}}}}}catch{}function ge(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/slideshow/SlideshowControls.tsx",n="a012a7a968792fdbb33f578b60831678991282af",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/slideshow/SlideshowControls.tsx",statementMap:{0:{start:{line:3,column:26},end:{line:108,column:1}},1:{start:{line:12,column:23},end:{line:12,column:53}},2:{start:{line:13,column:27},end:{line:13,column:43}},3:{start:{line:14,column:24},end:{line:86,column:3}},4:{start:{line:15,column:4},end:{line:85,column:5}},5:{start:{line:17,column:8},end:{line:38,column:13}},6:{start:{line:40,column:8},end:{line:61,column:13}},7:{start:{line:63,column:8},end:{line:84,column:13}},8:{start:{line:87,column:34},end:{line:103,column:3}},9:{start:{line:88,column:4},end:{line:88,column:44}},10:{start:{line:88,column:32},end:{line:88,column:44}},11:{start:{line:89,column:4},end:{line:102,column:9}},12:{start:{line:104,column:2},end:{line:107,column:7}},13:{start:{line:110,column:0},end:{line:116,column:50}},14:{start:{line:112,column:4},end:{line:112,column:56}},15:{start:{line:114,column:4},end:{line:114,column:1271}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:26},end:{line:3,column:27}},loc:{start:{line:11,column:6},end:{line:108,column:1}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:14,column:24},end:{line:14,column:25}},loc:{start:{line:14,column:30},end:{line:86,column:3}},line:14},2:{name:"(anonymous_2)",decl:{start:{line:87,column:34},end:{line:87,column:35}},loc:{start:{line:87,column:40},end:{line:103,column:3}},line:87}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:30}},type:"default-arg",locations:[{start:{line:8,column:26},end:{line:8,column:30}}],line:8},1:{loc:{start:{line:9,column:2},end:{line:9,column:21}},type:"default-arg",locations:[{start:{line:9,column:12},end:{line:9,column:21}}],line:9},2:{loc:{start:{line:10,column:2},end:{line:10,column:16}},type:"default-arg",locations:[{start:{line:10,column:14},end:{line:10,column:16}}],line:10},3:{loc:{start:{line:15,column:4},end:{line:85,column:5}},type:"switch",locations:[{start:{line:16,column:6},end:{line:38,column:13}},{start:{line:39,column:6},end:{line:61,column:13}},{start:{line:62,column:6},end:{line:84,column:13}}],line:15},4:{loc:{start:{line:88,column:4},end:{line:88,column:44}},type:"if",locations:[{start:{line:88,column:4},end:{line:88,column:44}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:88}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0],2:[0],3:[0,0,0],4:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/slideshow/SlideshowControls.tsx"],names:[],mappings:"AAkCU;AAjCV;AAgBA;AAA6D;AAC3D;AACA;AACA;AACA;AACwB;AACd;AAEZ;AACE;AACA;AAGA;AACE;AAAiB;AAEb;AAEI;AAAA;AAAC;AAAA;AACU;AACE;AACD;AACC;AAEY;AAAA;AACzB;AACA;AAAC;AAAA;AACU;AACE;AACD;AACC;AAEa;AAAA;AAC1B;AACF;AAGF;AAEI;AAAA;AAAC;AAAA;AACU;AACE;AACD;AACC;AACZ;AAAA;AAED;AACA;AAAC;AAAA;AACU;AACE;AACD;AACC;AACZ;AAAA;AAED;AACF;AAGF;AAEI;AAAA;AAAC;AAAA;AACU;AACE;AACD;AACC;AACZ;AAAA;AAED;AACA;AAAC;AAAA;AACU;AACE;AACD;AACC;AACZ;AAAA;AAED;AACF;AAEN;AAIF;AACE;AAEA;AAEI;AAEA;AAEE;AAAC;AAAA;AACW;AACqD;AAC1D;AACyB;AACf;AACA;AAAA;AAEnB;AACF;AAIJ;AAEI;AAAiD;AACxB;AAG/B;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"a012a7a968792fdbb33f578b60831678991282af"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return ge=function(){return i},i}ge();ge().s[0]++;const Ii=({currentSlide:e,totalSlides:n,onNext:t,onPrevious:l,showProgressIndicator:o=(ge().b[0][0]++,!0),variant:r=(ge().b[1][0]++,"default"),className:i=(ge().b[2][0]++,"")})=>{ge().f[0]++;const a=(ge().s[1]++,e<n-1),s=(ge().s[2]++,e>0);ge().s[3]++;const c=()=>{switch(ge().f[1]++,ge().s[4]++,r){case"minimal":return ge().b[3][0]++,ge().s[5]++,m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:l,disabled:!s,className:"rounded-full bg-gray-700 p-2 text-white hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Previous slide",children:m.jsx(Bt,{size:20})}),m.jsx("button",{onClick:t,disabled:!a,className:"rounded-full bg-gray-700 p-2 text-white hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Next slide",children:m.jsx(Ji,{size:20})})]});case"text-only":return ge().b[3][1]++,ge().s[6]++,m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:l,disabled:!s,className:"px-4 py-2 text-gray-600 hover:text-blue-600 focus:underline focus:outline-none disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Previous slide",children:"Previous"}),m.jsx("button",{onClick:t,disabled:!a,className:"px-4 py-2 text-gray-600 hover:text-blue-600 focus:underline focus:outline-none disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Next slide",children:"Next"})]});default:return ge().b[3][2]++,ge().s[7]++,m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:l,disabled:!s,className:"rounded-lg bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-400","aria-label":"Previous slide",children:"Previous"}),m.jsx("button",{onClick:t,disabled:!a,className:"rounded-lg bg-blue-500 px-4 py-2 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:cursor-not-allowed disabled:bg-gray-400","aria-label":"Next slide",children:"Next"})]})}};ge().s[8]++;const u=()=>{if(ge().f[2]++,ge().s[9]++,o)ge().b[4][1]++;else return ge().b[4][0]++,ge().s[10]++,null;return ge().s[11]++,m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx("span",{className:"text-sm text-gray-500","aria-live":"polite",children:`Slide ${e+1} of ${n}`}),m.jsx("div",{className:"h-1 w-24 overflow-hidden rounded-full bg-gray-200",children:m.jsx("div",{className:"h-full bg-blue-500",style:{width:`${(e+1)/n*100}%`},role:"progressbar","aria-valuenow":e+1,"aria-valuemin":1,"aria-valuemax":n})})]})};return ge().s[12]++,m.jsxs("div",{className:`flex items-center justify-between py-3 ${i}`,children:[m.jsx("div",{className:"flex space-x-2",children:c()}),u()]})};ge().s[13]++;try{ge().s[14]++,Ii.displayName="SlideshowControls",ge().s[15]++,Ii.__docgenInfo={description:`Slideshow navigation controls component
Provides next/previous buttons and optional progress indicator`,displayName:"SlideshowControls",props:{currentSlide:{defaultValue:null,description:"",name:"currentSlide",required:!0,type:{name:"number"}},totalSlides:{defaultValue:null,description:"",name:"totalSlides",required:!0,type:{name:"number"}},onNext:{defaultValue:null,description:"",name:"onNext",required:!0,type:{name:"() => void"}},onPrevious:{defaultValue:null,description:"",name:"onPrevious",required:!0,type:{name:"() => void"}},showProgressIndicator:{defaultValue:{value:"true"},description:"",name:"showProgressIndicator",required:!1,type:{name:"boolean"}},variant:{defaultValue:{value:"default"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"minimal"'},{value:'"text-only"'}]}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function K(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/slideshow/ModernMarkdownSlideshow.tsx",n="77c396fce99303f5c866b3bdc1961eebd6d58754",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/slideshow/ModernMarkdownSlideshow.tsx",statementMap:{0:{start:{line:6,column:32},end:{line:132,column:1}},1:{start:{line:16,column:42},end:{line:16,column:64}},2:{start:{line:17,column:23},end:{line:17,column:56}},3:{start:{line:18,column:27},end:{line:18,column:43}},4:{start:{line:19,column:24},end:{line:25,column:3}},5:{start:{line:20,column:4},end:{line:23,column:5}},6:{start:{line:21,column:26},end:{line:21,column:104}},7:{start:{line:22,column:6},end:{line:22,column:44}},8:{start:{line:24,column:4},end:{line:24,column:17}},9:{start:{line:26,column:38},end:{line:26,column:63}},10:{start:{line:27,column:2},end:{line:37,column:14}},11:{start:{line:28,column:4},end:{line:35,column:5}},12:{start:{line:29,column:25},end:{line:29,column:74}},13:{start:{line:30,column:27},end:{line:30,column:85}},14:{start:{line:30,column:33},end:{line:30,column:85}},15:{start:{line:31,column:6},end:{line:31,column:58}},16:{start:{line:32,column:6},end:{line:32,column:74}},17:{start:{line:32,column:19},end:{line:32,column:73}},18:{start:{line:34,column:6},end:{line:34,column:27}},19:{start:{line:36,column:4},end:{line:36,column:18}},20:{start:{line:38,column:2},end:{line:42,column:35}},21:{start:{line:39,column:4},end:{line:41,column:5}},22:{start:{line:40,column:6},end:{line:40,column:36}},23:{start:{line:43,column:20},end:{line:51,column:49}},24:{start:{line:44,column:4},end:{line:50,column:5}},25:{start:{line:45,column:23},end:{line:45,column:39}},26:{start:{line:46,column:6},end:{line:46,column:32}},27:{start:{line:47,column:6},end:{line:49,column:7}},28:{start:{line:48,column:8},end:{line:48,column:32}},29:{start:{line:52,column:24},end:{line:60,column:53}},30:{start:{line:53,column:4},end:{line:59,column:5}},31:{start:{line:54,column:23},end:{line:54,column:39}},32:{start:{line:55,column:6},end:{line:55,column:32}},33:{start:{line:56,column:6},end:{line:58,column:7}},34:{start:{line:57,column:8},end:{line:57,column:32}},35:{start:{line:61,column:2},end:{line:71,column:33}},36:{start:{line:62,column:26},end:{line:68,column:5}},37:{start:{line:63,column:6},end:{line:67,column:7}},38:{start:{line:64,column:8},end:{line:64,column:20}},39:{start:{line:65,column:13},end:{line:67,column:7}},40:{start:{line:66,column:8},end:{line:66,column:24}},41:{start:{line:69,column:4},end:{line:69,column:54}},42:{start:{line:70,column:4},end:{line:70,column:70}},43:{start:{line:70,column:17},end:{line:70,column:69}},44:{start:{line:72,column:29},end:{line:74,column:3}},45:{start:{line:73,column:4},end:{line:73,column:119}},46:{start:{line:75,column:2},end:{line:131,column:4}},47:{start:{line:134,column:0},end:{line:140,column:50}},48:{start:{line:136,column:4},end:{line:136,column:68}},49:{start:{line:138,column:4},end:{line:138,column:1976}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:32},end:{line:6,column:33}},loc:{start:{line:15,column:6},end:{line:132,column:1}},line:15},1:{name:"(anonymous_1)",decl:{start:{line:19,column:24},end:{line:19,column:25}},loc:{start:{line:19,column:30},end:{line:25,column:3}},line:19},2:{name:"(anonymous_2)",decl:{start:{line:27,column:12},end:{line:27,column:13}},loc:{start:{line:27,column:18},end:{line:37,column:3}},line:27},3:{name:"(anonymous_3)",decl:{start:{line:30,column:27},end:{line:30,column:28}},loc:{start:{line:30,column:33},end:{line:30,column:85}},line:30},4:{name:"(anonymous_4)",decl:{start:{line:32,column:13},end:{line:32,column:14}},loc:{start:{line:32,column:19},end:{line:32,column:73}},line:32},5:{name:"(anonymous_5)",decl:{start:{line:38,column:12},end:{line:38,column:13}},loc:{start:{line:38,column:18},end:{line:42,column:3}},line:38},6:{name:"(anonymous_6)",decl:{start:{line:43,column:32},end:{line:43,column:33}},loc:{start:{line:43,column:38},end:{line:51,column:3}},line:43},7:{name:"(anonymous_7)",decl:{start:{line:52,column:36},end:{line:52,column:37}},loc:{start:{line:52,column:42},end:{line:60,column:3}},line:52},8:{name:"(anonymous_8)",decl:{start:{line:61,column:12},end:{line:61,column:13}},loc:{start:{line:61,column:18},end:{line:71,column:3}},line:61},9:{name:"(anonymous_9)",decl:{start:{line:62,column:26},end:{line:62,column:27}},loc:{start:{line:62,column:33},end:{line:68,column:5}},line:62},10:{name:"(anonymous_10)",decl:{start:{line:70,column:11},end:{line:70,column:12}},loc:{start:{line:70,column:17},end:{line:70,column:69}},line:70},11:{name:"(anonymous_11)",decl:{start:{line:72,column:29},end:{line:72,column:30}},loc:{start:{line:72,column:35},end:{line:74,column:3}},line:72}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:13}},type:"default-arg",locations:[{start:{line:8,column:11},end:{line:8,column:13}}],line:8},1:{loc:{start:{line:10,column:2},end:{line:10,column:18}},type:"default-arg",locations:[{start:{line:10,column:17},end:{line:10,column:18}}],line:10},2:{loc:{start:{line:12,column:2},end:{line:12,column:18}},type:"default-arg",locations:[{start:{line:12,column:10},end:{line:12,column:18}}],line:12},3:{loc:{start:{line:13,column:2},end:{line:13,column:29}},type:"default-arg",locations:[{start:{line:13,column:20},end:{line:13,column:29}}],line:13},4:{loc:{start:{line:14,column:2},end:{line:14,column:16}},type:"default-arg",locations:[{start:{line:14,column:14},end:{line:14,column:16}}],line:14},5:{loc:{start:{line:20,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:23,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},6:{loc:{start:{line:21,column:26},end:{line:21,column:104}},type:"binary-expr",locations:[{start:{line:21,column:26},end:{line:21,column:43}},{start:{line:21,column:47},end:{line:21,column:104}}],line:21},7:{loc:{start:{line:22,column:13},end:{line:22,column:43}},type:"cond-expr",locations:[{start:{line:22,column:27},end:{line:22,column:33}},{start:{line:22,column:36},end:{line:22,column:43}}],line:22},8:{loc:{start:{line:28,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:35,column:5}},{start:{line:33,column:11},end:{line:35,column:5}}],line:28},9:{loc:{start:{line:30,column:47},end:{line:30,column:84}},type:"cond-expr",locations:[{start:{line:30,column:68},end:{line:30,column:74}},{start:{line:30,column:77},end:{line:30,column:84}}],line:30},10:{loc:{start:{line:39,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:41,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:39},11:{loc:{start:{line:39,column:8},end:{line:39,column:64}},type:"binary-expr",locations:[{start:{line:39,column:8},end:{line:39,column:31}},{start:{line:39,column:35},end:{line:39,column:64}}],line:39},12:{loc:{start:{line:44,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:44,column:4},end:{line:50,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:44},13:{loc:{start:{line:47,column:6},end:{line:49,column:7}},type:"if",locations:[{start:{line:47,column:6},end:{line:49,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:47},14:{loc:{start:{line:53,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:59,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},15:{loc:{start:{line:56,column:6},end:{line:58,column:7}},type:"if",locations:[{start:{line:56,column:6},end:{line:58,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:56},16:{loc:{start:{line:63,column:6},end:{line:67,column:7}},type:"if",locations:[{start:{line:63,column:6},end:{line:67,column:7}},{start:{line:65,column:13},end:{line:67,column:7}}],line:63},17:{loc:{start:{line:63,column:10},end:{line:63,column:57}},type:"binary-expr",locations:[{start:{line:63,column:10},end:{line:63,column:32}},{start:{line:63,column:36},end:{line:63,column:57}}],line:63},18:{loc:{start:{line:65,column:13},end:{line:67,column:7}},type:"if",locations:[{start:{line:65,column:13},end:{line:67,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:65},19:{loc:{start:{line:65,column:17},end:{line:65,column:61}},type:"binary-expr",locations:[{start:{line:65,column:17},end:{line:65,column:38}},{start:{line:65,column:42},end:{line:65,column:61}}],line:65},20:{loc:{start:{line:73,column:11},end:{line:73,column:118}},type:"cond-expr",locations:[{start:{line:73,column:35},end:{line:73,column:75}},{start:{line:73,column:78},end:{line:73,column:118}}],line:73},21:{loc:{start:{line:83,column:127},end:{line:91,column:11}},type:"binary-expr",locations:[{start:{line:83,column:127},end:{line:83,column:143}},{start:{line:83,column:163},end:{line:91,column:11}}],line:83},22:{loc:{start:{line:100,column:27},end:{line:100,column:54}},type:"binary-expr",locations:[{start:{line:100,column:27},end:{line:100,column:48}},{start:{line:100,column:52},end:{line:100,column:54}}],line:100},23:{loc:{start:{line:108,column:128},end:{line:116,column:11}},type:"binary-expr",locations:[{start:{line:108,column:128},end:{line:108,column:140}},{start:{line:108,column:160},end:{line:116,column:11}}],line:108},24:{loc:{start:{line:126,column:23},end:{line:126,column:112}},type:"cond-expr",locations:[{start:{line:126,column:47},end:{line:126,column:78}},{start:{line:126,column:81},end:{line:126,column:112}}],line:126}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0],1:[0],2:[0],3:[0],4:[0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/slideshow/ModernMarkdownSlideshow.tsx"],names:[],mappings:"AA6JM;AA7JN;AACA;AACA;AACA;AAsDA;AAAyE;AACvE;AACU;AACV;AACe;AACf;AACQ;AACU;AAEpB;AACE;AACA;AACA;AAGA;AACE;AACE;AAGA;AAA8B;AAEhC;AAAO;AAGT;AAGA;AACE;AACE;AACA;AAGA;AACA;AAAkE;AAElE;AAAmB;AAGrB;AAAO;AAIT;AACE;AACE;AAA4B;AAC9B;AAIF;AACE;AACE;AACA;AACA;AACE;AAAsB;AACxB;AACF;AAIF;AACE;AACE;AACA;AACA;AACE;AAAsB;AACxB;AACF;AAIF;AACE;AACE;AACE;AAAU;AAEV;AAAc;AAChB;AAGF;AACA;AAAgE;AAIlE;AACE;AAEI;AAGN;AACE;AAAC;AAAA;AAC4H;AACtH;AACM;AAGX;AAEE;AAEI;AAAC;AAAA;AACU;AACC;AACC;AAEY;AAAA;AAG7B;AAGA;AAAC;AAAA;AACW;AACA;AAEV;AAAC;AAAA;AAEmC;AAClC;AACA;AAAA;AAHK;AAIP;AAAA;AACF;AAKI;AAAC;AAAA;AACU;AACC;AACC;AAEa;AAAA;AAG9B;AACF;AAGA;AAAC;AAAA;AACC;AACqB;AACb;AACI;AACH;AAIH;AAAA;AAER;AAAA;AAAA;AAGN;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"77c396fce99303f5c866b3bdc1961eebd6d58754"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return K=function(){return i},i}K();K().s[0]++;const jn=({content:e,images:n=(K().b[0][0]++,[]),knowledge_id:t,currentIndex:l=(K().b[1][0]++,0),onSlideChange:o,theme:r=(K().b[2][0]++,"system"),controlsVariant:i=(K().b[3][0]++,"default"),className:a=(K().b[4][0]++,"")})=>{K().f[0]++;const[s,c]=(K().s[1]++,O.useState(l)),u=(K().s[2]++,s<e.length-1),A=(K().s[3]++,s>0);K().s[4]++;const d=()=>{if(K().f[1]++,K().s[5]++,r==="system"){K().b[5][0]++;const E=(K().s[6]++,K().b[6][0]++,window.matchMedia&&(K().b[6][1]++,window.matchMedia("(prefers-color-scheme: dark)").matches));return K().s[7]++,E?(K().b[7][0]++,"dark"):(K().b[7][1]++,"light")}else K().b[5][1]++;return K().s[8]++,r},[f,p]=(K().s[9]++,O.useState(d()));K().s[10]++,O.useEffect(()=>{if(K().f[2]++,K().s[11]++,r==="system"){K().b[8][0]++;const E=(K().s[12]++,window.matchMedia("(prefers-color-scheme: dark)"));K().s[13]++;const g=()=>(K().f[3]++,K().s[14]++,p(E.matches?(K().b[9][0]++,"dark"):(K().b[9][1]++,"light")));return K().s[15]++,E.addEventListener("change",g),K().s[16]++,()=>(K().f[4]++,K().s[17]++,E.removeEventListener("change",g))}else K().b[8][1]++,K().s[18]++,p(r);K().s[19]++},[r]),K().s[20]++,O.useEffect(()=>{K().f[5]++,K().s[21]++,K().b[11][0]++,l!==void 0&&(K().b[11][1]++,l!==s)?(K().b[10][0]++,K().s[22]++,c(l)):K().b[10][1]++},[l,s]);const C=(K().s[23]++,O.useCallback(()=>{if(K().f[6]++,K().s[24]++,u){K().b[12][0]++;const E=(K().s[25]++,s+1);K().s[26]++,c(E),K().s[27]++,o?(K().b[13][0]++,K().s[28]++,o(E)):K().b[13][1]++}else K().b[12][1]++},[s,u,o])),y=(K().s[29]++,O.useCallback(()=>{if(K().f[7]++,K().s[30]++,A){K().b[14][0]++;const E=(K().s[31]++,s-1);K().s[32]++,c(E),K().s[33]++,o?(K().b[15][0]++,K().s[34]++,o(E)):K().b[15][1]++}else K().b[14][1]++},[s,A,o]));K().s[35]++,O.useEffect(()=>{K().f[8]++,K().s[36]++;const E=g=>{K().f[9]++,K().s[37]++,K().b[17][0]++,g.key==="ArrowRight"||(K().b[17][1]++,g.key==="ArrowDown")?(K().b[16][0]++,K().s[38]++,C()):(K().b[16][1]++,K().s[39]++,K().b[19][0]++,g.key==="ArrowLeft"||(K().b[19][1]++,g.key==="ArrowUp")?(K().b[18][0]++,K().s[40]++,y()):K().b[18][1]++)};return K().s[41]++,window.addEventListener("keydown",E),K().s[42]++,()=>(K().f[10]++,K().s[43]++,window.removeEventListener("keydown",E))},[C,y]),K().s[44]++;const b=()=>(K().f[11]++,K().s[45]++,f==="dark"?(K().b[20][0]++,"bg-gray-800 text-white border-gray-700"):(K().b[20][1]++,"bg-white text-gray-800 border-gray-200"));return K().s[46]++,m.jsxs("div",{className:`markdown-slideshow flex w-full flex-col overflow-hidden rounded-lg border-2 ${b()} ${a}`,role:"region","aria-label":"Slideshow",children:[m.jsxs("div",{className:"relative w-full",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 z-10 hidden items-center px-2 sm:flex",children:(K().b[21][0]++,A&&(K().b[21][1]++,m.jsx("button",{onClick:y,className:"rounded-full bg-black bg-opacity-30 p-1 text-white hover:bg-opacity-50 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Previous slide",children:m.jsx(Bt,{size:24})})))}),m.jsx("div",{className:"max-h-[calc(100vh-10rem)] w-full overflow-auto rounded-lg p-6 shadow","aria-live":"polite",children:m.jsx(N0,{content:(K().b[22][0]++,e[s]||(K().b[22][1]++,"")),images:n,knowledge_id:t},s)}),m.jsx("div",{className:"absolute inset-y-0 right-0 z-10 hidden items-center px-2 sm:flex",children:(K().b[23][0]++,u&&(K().b[23][1]++,m.jsx("button",{onClick:C,className:"rounded-full bg-black bg-opacity-30 p-1 text-white hover:bg-opacity-50 focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Next slide",children:m.jsx(Ji,{size:24})})))})]}),m.jsx(Ii,{currentSlide:s,totalSlides:e.length,onNext:C,onPrevious:y,variant:i,className:f==="dark"?(K().b[24][0]++,"border-t border-gray-700 px-4"):(K().b[24][1]++,"border-t border-gray-200 px-4")})]})};K().s[47]++;try{K().s[48]++,jn.displayName="ModernMarkdownSlideshow",K().s[49]++,jn.__docgenInfo={description:`Modern Markdown Slideshow component with enhanced accessibility and theming

Features:
- Keyboard navigation (arrow keys)
- Theme support (light/dark)
- Various control styles
- Proper ARIA attributes for accessibility
- Progress indicator`,displayName:"ModernMarkdownSlideshow",props:{content:{defaultValue:null,description:"Array of markdown content strings, one for each slide",name:"content",required:!0,type:{name:"string[]"}},images:{defaultValue:{value:"[]"},description:"Optional array of image URLs that can be referenced in the markdown",name:"images",required:!1,type:{name:"string[]"}},knowledge_id:{defaultValue:null,description:"Knowledge ID for the content",name:"knowledge_id",required:!0,type:{name:"string"}},currentIndex:{defaultValue:{value:"0"},description:"Optional initial slide index",name:"currentIndex",required:!1,type:{name:"number"}},onSlideChange:{defaultValue:null,description:"Optional callback fired when the slide changes",name:"onSlideChange",required:!1,type:{name:"(index: number) => void"}},theme:{defaultValue:{value:"system"},description:"Optional theme for the slideshow",name:"theme",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'},{value:'"system"'}]}},controlsVariant:{defaultValue:{value:"default"},description:"Optional controls variant",name:"controlsVariant",required:!1,type:{name:"enum",value:[{value:'"default"'},{value:'"minimal"'},{value:'"text-only"'}]}},className:{defaultValue:{value:""},description:"Optional class name for styling",name:"className",required:!1,type:{name:"string"}}}}}catch{}function X(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/Quiz.tsx",n="57036809de4cc35dd588bae9e64726f449a0aee4",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/Quiz.tsx",statementMap:{0:{start:{line:4,column:13},end:{line:192,column:1}},1:{start:{line:9,column:48},end:{line:9,column:60}},2:{start:{line:10,column:40},end:{line:10,column:55}},3:{start:{line:11,column:28},end:{line:11,column:39}},4:{start:{line:12,column:34},end:{line:12,column:45}},5:{start:{line:13,column:36},end:{line:13,column:47}},6:{start:{line:14,column:46},end:{line:14,column:57}},7:{start:{line:15,column:50},end:{line:15,column:61}},8:{start:{line:16,column:58},end:{line:16,column:69}},9:{start:{line:17,column:2},end:{line:23,column:18}},10:{start:{line:18,column:18},end:{line:21,column:5}},11:{start:{line:19,column:25},end:{line:19,column:53}},12:{start:{line:22,column:4},end:{line:22,column:23}},13:{start:{line:24,column:29},end:{line:26,column:3}},14:{start:{line:25,column:4},end:{line:25,column:73}},15:{start:{line:25,column:34},end:{line:25,column:70}},16:{start:{line:27,column:23},end:{line:51,column:3}},17:{start:{line:28,column:19},end:{line:28,column:20}},18:{start:{line:29,column:18},end:{line:29,column:19}},19:{start:{line:30,column:20},end:{line:30,column:21}},20:{start:{line:31,column:21},end:{line:31,column:22}},21:{start:{line:32,column:4},end:{line:44,column:7}},22:{start:{line:33,column:32},end:{line:33,column:52}},23:{start:{line:34,column:6},end:{line:43,column:7}},24:{start:{line:35,column:8},end:{line:35,column:21}},25:{start:{line:36,column:8},end:{line:42,column:9}},26:{start:{line:37,column:10},end:{line:37,column:40}},27:{start:{line:38,column:10},end:{line:38,column:20}},28:{start:{line:40,column:10},end:{line:40,column:58}},29:{start:{line:41,column:10},end:{line:41,column:22}},30:{start:{line:45,column:4},end:{line:45,column:37}},31:{start:{line:46,column:4},end:{line:46,column:23}},32:{start:{line:47,column:4},end:{line:47,column:25}},33:{start:{line:48,column:4},end:{line:48,column:29}},34:{start:{line:49,column:4},end:{line:49,column:31}},35:{start:{line:50,column:4},end:{line:50,column:35}},36:{start:{line:52,column:27},end:{line:56,column:3}},37:{start:{line:53,column:4},end:{line:55,column:5}},38:{start:{line:54,column:6},end:{line:54,column:50}},39:{start:{line:54,column:40},end:{line:54,column:48}},40:{start:{line:57,column:31},end:{line:61,column:3}},41:{start:{line:58,column:4},end:{line:60,column:5}},42:{start:{line:59,column:6},end:{line:59,column:50}},43:{start:{line:59,column:40},end:{line:59,column:48}},44:{start:{line:62,column:22},end:{line:70,column:3}},45:{start:{line:63,column:4},end:{line:63,column:27}},46:{start:{line:64,column:4},end:{line:64,column:26}},47:{start:{line:65,column:4},end:{line:65,column:16}},48:{start:{line:66,column:4},end:{line:66,column:20}},49:{start:{line:67,column:4},end:{line:67,column:25}},50:{start:{line:68,column:4},end:{line:68,column:27}},51:{start:{line:69,column:4},end:{line:69,column:31}},52:{start:{line:71,column:26},end:{line:71,column:60}},53:{start:{line:72,column:2},end:{line:191,column:7}},54:{start:{line:111,column:31},end:{line:111,column:79}},55:{start:{line:112,column:12},end:{line:120,column:14}},56:{start:{line:115,column:31},end:{line:115,column:79}},57:{start:{line:194,column:0},end:{line:200,column:50}},58:{start:{line:196,column:4},end:{line:196,column:30}},59:{start:{line:198,column:4},end:{line:198,column:366}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:8,column:6},end:{line:192,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:17,column:12},end:{line:17,column:13}},loc:{start:{line:17,column:18},end:{line:23,column:3}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:19,column:6},end:{line:19,column:7}},loc:{start:{line:19,column:25},end:{line:19,column:53}},line:19},3:{name:"(anonymous_3)",decl:{start:{line:24,column:29},end:{line:24,column:30}},loc:{start:{line:24,column:56},end:{line:26,column:3}},line:24},4:{name:"(anonymous_4)",decl:{start:{line:25,column:23},end:{line:25,column:24}},loc:{start:{line:25,column:34},end:{line:25,column:70}},line:25},5:{name:"(anonymous_5)",decl:{start:{line:27,column:23},end:{line:27,column:24}},loc:{start:{line:27,column:29},end:{line:51,column:3}},line:27},6:{name:"(anonymous_6)",decl:{start:{line:32,column:22},end:{line:32,column:23}},loc:{start:{line:32,column:43},end:{line:44,column:5}},line:32},7:{name:"(anonymous_7)",decl:{start:{line:52,column:27},end:{line:52,column:28}},loc:{start:{line:52,column:33},end:{line:56,column:3}},line:52},8:{name:"(anonymous_8)",decl:{start:{line:54,column:30},end:{line:54,column:31}},loc:{start:{line:54,column:40},end:{line:54,column:48}},line:54},9:{name:"(anonymous_9)",decl:{start:{line:57,column:31},end:{line:57,column:32}},loc:{start:{line:57,column:37},end:{line:61,column:3}},line:57},10:{name:"(anonymous_10)",decl:{start:{line:59,column:30},end:{line:59,column:31}},loc:{start:{line:59,column:40},end:{line:59,column:48}},line:59},11:{name:"(anonymous_11)",decl:{start:{line:62,column:22},end:{line:62,column:23}},loc:{start:{line:62,column:28},end:{line:70,column:3}},line:62},12:{name:"(anonymous_12)",decl:{start:{line:110,column:119},end:{line:110,column:120}},loc:{start:{line:110,column:134},end:{line:121,column:11}},line:110},13:{name:"(anonymous_13)",decl:{start:{line:115,column:25},end:{line:115,column:26}},loc:{start:{line:115,column:31},end:{line:115,column:79}},line:115}},branchMap:{0:{loc:{start:{line:6,column:2},end:{line:6,column:24}},type:"default-arg",locations:[{start:{line:6,column:20},end:{line:6,column:24}}],line:6},1:{loc:{start:{line:19,column:32},end:{line:19,column:52}},type:"binary-expr",locations:[{start:{line:19,column:32},end:{line:19,column:47}},{start:{line:19,column:51},end:{line:19,column:52}}],line:19},2:{loc:{start:{line:33,column:32},end:{line:33,column:52}},type:"binary-expr",locations:[{start:{line:33,column:32},end:{line:33,column:47}},{start:{line:33,column:51},end:{line:33,column:52}}],line:33},3:{loc:{start:{line:34,column:6},end:{line:43,column:7}},type:"if",locations:[{start:{line:34,column:6},end:{line:43,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:34},4:{loc:{start:{line:36,column:8},end:{line:42,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:42,column:9}},{start:{line:39,column:15},end:{line:42,column:9}}],line:36},5:{loc:{start:{line:53,column:4},end:{line:55,column:5}},type:"if",locations:[{start:{line:53,column:4},end:{line:55,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:53},6:{loc:{start:{line:58,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:60,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},7:{loc:{start:{line:74,column:4},end:{line:190,column:5}},type:"cond-expr",locations:[{start:{line:74,column:35},end:{line:150,column:8}},{start:{line:152,column:22},end:{line:189,column:10}}],line:74},8:{loc:{start:{line:104,column:14},end:{line:104,column:58}},type:"binary-expr",locations:[{start:{line:104,column:14},end:{line:104,column:53}},{start:{line:104,column:57},end:{line:104,column:58}}],line:104},9:{loc:{start:{line:106,column:14},end:{line:106,column:77}},type:"cond-expr",locations:[{start:{line:106,column:69},end:{line:106,column:72}},{start:{line:106,column:75},end:{line:106,column:77}}],line:106},10:{loc:{start:{line:106,column:15},end:{line:106,column:59}},type:"binary-expr",locations:[{start:{line:106,column:15},end:{line:106,column:54}},{start:{line:106,column:58},end:{line:106,column:59}}],line:106},11:{loc:{start:{line:116,column:90},end:{line:116,column:173}},type:"cond-expr",locations:[{start:{line:116,column:103},end:{line:116,column:139}},{start:{line:116,column:142},end:{line:116,column:173}}],line:116},12:{loc:{start:{line:133,column:10},end:{line:147,column:11}},type:"cond-expr",locations:[{start:{line:133,column:74},end:{line:140,column:11}},{start:{line:140,column:30},end:{line:147,column:11}}],line:133}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/Quiz.tsx"],names:[],mappings:";AA8GM;AA5GN;AAcA;AAAmC;AACjC;AACkB;AACpB;AACE;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACE;AAAwB;AACuB;AAC7C;AAEF;AAAiB;AAInB;AACE;AAAiE;AAInE;AACE;AACA;AACA;AACA;AAEA;AACE;AAGA;AACE;AAEA;AAEE;AACA;AAAA;AAGA;AACA;AAAA;AACF;AACF;AAIF;AAEA;AACA;AACA;AACA;AACA;AAA6B;AAI/B;AACE;AACE;AAAwC;AAC1C;AAGF;AACE;AACE;AAAwC;AAC1C;AAIF;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AAAyB;AAI3B;AAEA;AAEI;AAAoE;AAKhE;AACE;AACE;AAAM;AAAA;AAC6B;AAAE;AAAe;AACpD;AACO;AAA6B;AAAO;AAAS;AACtD;AAEE;AAAC;AAAA;AACW;AACH;AACmE;AAC1E;AAAA;AAEJ;AACF;AAIE;AACE;AACG;AAAiC;AACW;AAAA;AACE;AAAE;AAG3C;AAAG;AAET;AACF;AAGI;AAEA;AACE;AAAC;AAAA;AAGkD;AAMjD;AAEC;AAAA;AAVI;AAWP;AAGN;AACF;AAIE;AAAA;AAAC;AAAA;AACU;AAC0B;AACzB;AACX;AAAA;AAED;AAEE;AAAC;AAAA;AACU;AACC;AACX;AAAA;AAID;AAAC;AAAA;AACU;AACC;AACX;AAAA;AAED;AAEJ;AACF;AACF;AAAA;AAIE;AACE;AAEA;AAEE;AACE;AACG;AAAA;AAAgB;AACnB;AAC4B;AAC9B;AAEE;AACG;AAAe;AAAE;AAAE;AACtB;AAC6B;AAC/B;AAEE;AAEA;AAC8B;AAChC;AAEE;AAEA;AACgC;AAClC;AACF;AACF;AACA;AAAC;AAAA;AACU;AACC;AACX;AAAA;AAED;AACF;AAAA;AAIR;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"57036809de4cc35dd588bae9e64726f449a0aee4"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return X=function(){return i},i}X();X().s[0]++;const Bi=({questions:e,negativeMarking:n=(X().b[0][0]++,.25)})=>{X().f[0]++;const[t,l]=(X().s[1]++,O.useState({})),[o,r]=(X().s[2]++,O.useState(!1)),[i,a]=(X().s[3]++,O.useState(0)),[s,c]=(X().s[4]++,O.useState(0)),[u,A]=(X().s[5]++,O.useState(0)),[d,f]=(X().s[6]++,O.useState(0)),[p,C]=(X().s[7]++,O.useState(0)),[y,b]=(X().s[8]++,O.useState(0));X().s[9]++,O.useEffect(()=>{X().f[1]++;const v=(X().s[10]++,e.reduce((I,w)=>(X().f[2]++,X().s[11]++,I+(X().b[1][0]++,w.points||(X().b[1][1]++,1))),0));X().s[12]++,c(v)},[e]),X().s[13]++;const E=(v,I)=>{X().f[3]++,X().s[14]++,l(w=>(X().f[4]++,X().s[15]++,{...w,[v]:I}))};X().s[16]++;const g=()=>{X().f[5]++;let v=(X().s[17]++,0),I=(X().s[18]++,0),w=(X().s[19]++,0),k=(X().s[20]++,0);X().s[21]++,e.forEach((D,z)=>{X().f[6]++;const S=(X().s[22]++,X().b[2][0]++,D.points||(X().b[2][1]++,1));X().s[23]++,t[z]?(X().b[3][0]++,X().s[24]++,k++,X().s[25]++,t[z]===D.answer?(X().b[4][0]++,X().s[26]++,v+=S,X().s[27]++,I++):(X().b[4][1]++,X().s[28]++,v-=S*n,X().s[29]++,w++)):X().b[3][1]++}),X().s[30]++,v=Math.max(0,v),X().s[31]++,a(v),X().s[32]++,r(!0),X().s[33]++,A(k),X().s[34]++,f(I),X().s[35]++,C(w)};X().s[36]++;const x=()=>{X().f[7]++,X().s[37]++,y<e.length-1?(X().b[5][0]++,X().s[38]++,b(v=>(X().f[8]++,X().s[39]++,v+1))):X().b[5][1]++};X().s[40]++;const N=()=>{X().f[9]++,X().s[41]++,y>0?(X().b[6][0]++,X().s[42]++,b(v=>(X().f[10]++,X().s[43]++,v-1))):X().b[6][1]++};X().s[44]++;const B=()=>{X().f[11]++,X().s[45]++,l({}),X().s[46]++,r(!1),X().s[47]++,a(0),X().s[48]++,A(0),X().s[49]++,f(0),X().s[50]++,C(0),X().s[51]++,b(0)},R=(X().s[52]++,Math.round(i/s*100));return X().s[53]++,m.jsxs("div",{className:"mx-auto mt-6 flex min-h-[600px] max-w-xl flex-col rounded-lg bg-gray-800 p-6 text-white shadow-lg",children:[m.jsx("h2",{className:"mb-4 text-center text-2xl font-bold",children:"Interactive Quiz"}),o?(X().b[7][1]++,m.jsxs("div",{className:"flex flex-grow flex-col",children:[m.jsxs("div",{className:"mb-6 rounded-lg bg-gray-700 p-6",children:[m.jsx("h3",{className:"mb-4 text-center text-2xl font-bold",children:"Quiz Results"}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsxs("div",{className:"rounded-lg bg-gray-600 p-4 text-center",children:[m.jsxs("p",{className:"mb-1 text-3xl font-bold text-blue-300",children:[R,"%"]}),m.jsx("p",{className:"text-sm",children:"Score"})]}),m.jsxs("div",{className:"rounded-lg bg-gray-600 p-4 text-center",children:[m.jsxs("p",{className:"mb-1 text-3xl font-bold",children:[i.toFixed(1),"/",s]}),m.jsx("p",{className:"text-sm",children:"Points"})]}),m.jsxs("div",{className:"rounded-lg bg-gray-600 p-4 text-center",children:[m.jsx("p",{className:"mb-1 text-3xl font-bold text-green-400",children:d}),m.jsx("p",{className:"text-sm",children:"Correct"})]}),m.jsxs("div",{className:"rounded-lg bg-gray-600 p-4 text-center",children:[m.jsx("p",{className:"mb-1 text-3xl font-bold text-red-400",children:p}),m.jsx("p",{className:"text-sm",children:"Incorrect"})]})]})]}),m.jsx("button",{onClick:B,className:"w-full rounded-lg bg-green-500 px-6 py-3 font-semibold text-white transition duration-150 hover:bg-green-600",children:"Try Again"})]})):(X().b[7][0]++,m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"mb-4",children:[m.jsxs("div",{className:"mb-1 flex justify-between text-sm text-gray-300",children:[m.jsxs("span",{children:["Question ",y+1," of ",e.length]}),m.jsxs("span",{children:[Object.keys(t).length," answered"]})]}),m.jsx("div",{className:"h-2.5 w-full rounded-full bg-gray-700",children:m.jsx("div",{className:"h-2.5 rounded-full bg-blue-500 transition-all duration-300",style:{width:`${Object.keys(t).length/e.length*100}%`}})})]}),m.jsxs("div",{className:"flex flex-grow flex-col",children:[m.jsxs("div",{className:"mb-4 flex-grow rounded-lg bg-gray-700 p-4",children:[m.jsxs("p",{className:"mb-4 text-lg font-semibold",children:[e[y]?.question,m.jsxs("span",{className:"ml-2 text-sm text-gray-300",children:["(",(X().b[8][0]++,e[y]?.points||(X().b[8][1]++,1))," point",(X().b[10][0]++,(e[y]?.points||(X().b[10][1]++,1))!==1?(X().b[9][0]++,"s"):(X().b[9][1]++,"")),")"]})]}),m.jsx("div",{className:"space-y-3",children:e[y]?.options?.map((v,I)=>{X().f[12]++;const w=(X().s[54]++,t[y]===v);return X().s[55]++,m.jsx("button",{onClick:()=>(X().f[13]++,X().s[56]++,E(y,v)),className:`w-full rounded-md p-3 text-left transition-all duration-200 ${w?(X().b[11][0]++,"border border-blue-400 bg-blue-600"):(X().b[11][1]++,"bg-gray-600 hover:bg-gray-500")}`,children:v},I)})})]}),m.jsxs("div",{className:"mt-auto flex items-center justify-between",children:[m.jsx("button",{onClick:N,disabled:y===0,className:"rounded-lg bg-gray-600 px-4 py-2 hover:bg-gray-500 disabled:cursor-not-allowed disabled:opacity-50",children:"Previous"}),y===e.length-1?(X().b[12][0]++,m.jsx("button",{onClick:g,className:"rounded-lg bg-blue-500 px-6 py-2 font-semibold hover:bg-blue-600",children:"Submit Quiz"})):(X().b[12][1]++,m.jsx("button",{onClick:x,className:"rounded-lg bg-gray-600 px-4 py-2 hover:bg-gray-500",children:"Next"}))]})]})]}))]})};X().s[57]++;try{X().s[58]++,Bi.displayName="Quiz",X().s[59]++,Bi.__docgenInfo={description:"",displayName:"Quiz",props:{questions:{defaultValue:null,description:"",name:"questions",required:!0,type:{name:"Question[]"}},negativeMarking:{defaultValue:{value:"0.25"},description:"",name:"negativeMarking",required:!1,type:{name:"number"}}}}}catch{}function ke(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let t=0,l;t<e.length;t++)(l=ke(e[t]))!==""&&(n+=(n&&" ")+l);else for(let t in e)e[t]&&(n+=(n&&" ")+t);return n}var M0={value:()=>{}};function Ql(){for(var e=0,n=arguments.length,t={},l;e<n;++e){if(!(l=arguments[e]+"")||l in t||/[\s.]/.test(l))throw new Error("illegal type: "+l);t[l]=[]}return new Cl(t)}function Cl(e){this._=e}function I0(e,n){return e.trim().split(/^|\s+/).map(function(t){var l="",o=t.indexOf(".");if(o>=0&&(l=t.slice(o+1),t=t.slice(0,o)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:l}})}Cl.prototype=Ql.prototype={constructor:Cl,on:function(e,n){var t=this._,l=I0(e+"",t),o,r=-1,i=l.length;if(arguments.length<2){for(;++r<i;)if((o=(e=l[r]).type)&&(o=B0(t[o],e.name)))return o;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++r<i;)if(o=(e=l[r]).type)t[o]=qr(t[o],e.name,n);else if(n==null)for(o in t)t[o]=qr(t[o],e.name,null);return this},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Cl(e)},call:function(e,n){if((o=arguments.length-2)>0)for(var t=new Array(o),l=0,o,r;l<o;++l)t[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],l=0,o=r.length;l<o;++l)r[l].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],o=0,r=l.length;o<r;++o)l[o].value.apply(n,t)}};function B0(e,n){for(var t=0,l=e.length,o;t<l;++t)if((o=e[t]).name===n)return o.value}function qr(e,n,t){for(var l=0,o=e.length;l<o;++l)if(e[l].name===n){e[l]=M0,e=e.slice(0,l).concat(e.slice(l+1));break}return t!=null&&e.push({name:n,value:t}),e}var Di="http://www.w3.org/1999/xhtml";const Yr={svg:"http://www.w3.org/2000/svg",xhtml:Di,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vl(e){var n=e+="",t=n.indexOf(":");return t>=0&&(n=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),Yr.hasOwnProperty(n)?{space:Yr[n],local:e}:e}function D0(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===Di&&n.documentElement.namespaceURI===Di?n.createElement(e):n.createElementNS(t,e)}}function T0(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function yc(e){var n=Vl(e);return(n.local?T0:D0)(n)}function O0(){}function lr(e){return e==null?O0:function(){return this.querySelector(e)}}function j0(e){typeof e!="function"&&(e=lr(e));for(var n=this._groups,t=n.length,l=new Array(t),o=0;o<t;++o)for(var r=n[o],i=r.length,a=l[o]=new Array(i),s,c,u=0;u<i;++u)(s=r[u])&&(c=e.call(s,s.__data__,u,r))&&("__data__"in s&&(c.__data__=s.__data__),a[u]=c);return new Le(l,this._parents)}function R0(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function F0(){return[]}function bc(e){return e==null?F0:function(){return this.querySelectorAll(e)}}function L0(e){return function(){return R0(e.apply(this,arguments))}}function P0(e){typeof e=="function"?e=L0(e):e=bc(e);for(var n=this._groups,t=n.length,l=[],o=[],r=0;r<t;++r)for(var i=n[r],a=i.length,s,c=0;c<a;++c)(s=i[c])&&(l.push(e.call(s,s.__data__,c,i)),o.push(s));return new Le(l,o)}function xc(e){return function(){return this.matches(e)}}function Ec(e){return function(n){return n.matches(e)}}var G0=Array.prototype.find;function z0(e){return function(){return G0.call(this.children,e)}}function U0(){return this.firstElementChild}function Q0(e){return this.select(e==null?U0:z0(typeof e=="function"?e:Ec(e)))}var V0=Array.prototype.filter;function H0(){return Array.from(this.children)}function $0(e){return function(){return V0.call(this.children,e)}}function q0(e){return this.selectAll(e==null?H0:$0(typeof e=="function"?e:Ec(e)))}function Y0(e){typeof e!="function"&&(e=xc(e));for(var n=this._groups,t=n.length,l=new Array(t),o=0;o<t;++o)for(var r=n[o],i=r.length,a=l[o]=[],s,c=0;c<i;++c)(s=r[c])&&e.call(s,s.__data__,c,r)&&a.push(s);return new Le(l,this._parents)}function vc(e){return new Array(e.length)}function W0(){return new Le(this._enter||this._groups.map(vc),this._parents)}function kl(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}kl.prototype={constructor:kl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function K0(e){return function(){return e}}function X0(e,n,t,l,o,r){for(var i=0,a,s=n.length,c=r.length;i<c;++i)(a=n[i])?(a.__data__=r[i],l[i]=a):t[i]=new kl(e,r[i]);for(;i<s;++i)(a=n[i])&&(o[i]=a)}function Z0(e,n,t,l,o,r,i){var a,s,c=new Map,u=n.length,A=r.length,d=new Array(u),f;for(a=0;a<u;++a)(s=n[a])&&(d[a]=f=i.call(s,s.__data__,a,n)+"",c.has(f)?o[a]=s:c.set(f,s));for(a=0;a<A;++a)f=i.call(e,r[a],a,r)+"",(s=c.get(f))?(l[a]=s,s.__data__=r[a],c.delete(f)):t[a]=new kl(e,r[a]);for(a=0;a<u;++a)(s=n[a])&&c.get(d[a])===s&&(o[a]=s)}function J0(e){return e.__data__}function ef(e,n){if(!arguments.length)return Array.from(this,J0);var t=n?Z0:X0,l=this._parents,o=this._groups;typeof e!="function"&&(e=K0(e));for(var r=o.length,i=new Array(r),a=new Array(r),s=new Array(r),c=0;c<r;++c){var u=l[c],A=o[c],d=A.length,f=nf(e.call(u,u&&u.__data__,c,l)),p=f.length,C=a[c]=new Array(p),y=i[c]=new Array(p),b=s[c]=new Array(d);t(u,A,C,y,b,f,n);for(var E=0,g=0,x,N;E<p;++E)if(x=C[E]){for(E>=g&&(g=E+1);!(N=y[g])&&++g<p;);x._next=N||null}}return i=new Le(i,l),i._enter=a,i._exit=s,i}function nf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tf(){return new Le(this._exit||this._groups.map(vc),this._parents)}function lf(e,n,t){var l=this.enter(),o=this,r=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),n!=null&&(o=n(o),o&&(o=o.selection())),t==null?r.remove():t(r),l&&o?l.merge(o).order():o}function of(e){for(var n=e.selection?e.selection():e,t=this._groups,l=n._groups,o=t.length,r=l.length,i=Math.min(o,r),a=new Array(o),s=0;s<i;++s)for(var c=t[s],u=l[s],A=c.length,d=a[s]=new Array(A),f,p=0;p<A;++p)(f=c[p]||u[p])&&(d[p]=f);for(;s<o;++s)a[s]=t[s];return new Le(a,this._parents)}function rf(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var l=e[n],o=l.length-1,r=l[o],i;--o>=0;)(i=l[o])&&(r&&i.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(i,r),r=i);return this}function sf(e){e||(e=af);function n(A,d){return A&&d?e(A.__data__,d.__data__):!A-!d}for(var t=this._groups,l=t.length,o=new Array(l),r=0;r<l;++r){for(var i=t[r],a=i.length,s=o[r]=new Array(a),c,u=0;u<a;++u)(c=i[u])&&(s[u]=c);s.sort(n)}return new Le(o,this._parents).order()}function af(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function cf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Af(){return Array.from(this)}function uf(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var l=e[n],o=0,r=l.length;o<r;++o){var i=l[o];if(i)return i}return null}function df(){let e=0;for(const n of this)++e;return e}function mf(){return!this.node()}function ff(e){for(var n=this._groups,t=0,l=n.length;t<l;++t)for(var o=n[t],r=0,i=o.length,a;r<i;++r)(a=o[r])&&e.call(a,a.__data__,r,o);return this}function hf(e){return function(){this.removeAttribute(e)}}function pf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gf(e,n){return function(){this.setAttribute(e,n)}}function Cf(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function yf(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function bf(e,n){return function(){var t=n.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function xf(e,n){var t=Vl(e);if(arguments.length<2){var l=this.node();return t.local?l.getAttributeNS(t.space,t.local):l.getAttribute(t)}return this.each((n==null?t.local?pf:hf:typeof n=="function"?t.local?bf:yf:t.local?Cf:gf)(t,n))}function wc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ef(e){return function(){this.style.removeProperty(e)}}function vf(e,n,t){return function(){this.style.setProperty(e,n,t)}}function wf(e,n,t){return function(){var l=n.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,t)}}function _f(e,n,t){return arguments.length>1?this.each((n==null?Ef:typeof n=="function"?wf:vf)(e,n,t??"")):Jn(this.node(),e)}function Jn(e,n){return e.style.getPropertyValue(n)||wc(e).getComputedStyle(e,null).getPropertyValue(n)}function kf(e){return function(){delete this[e]}}function Sf(e,n){return function(){this[e]=n}}function Nf(e,n){return function(){var t=n.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function Mf(e,n){return arguments.length>1?this.each((n==null?kf:typeof n=="function"?Nf:Sf)(e,n)):this.node()[e]}function _c(e){return e.trim().split(/^|\s+/)}function or(e){return e.classList||new kc(e)}function kc(e){this._node=e,this._names=_c(e.getAttribute("class")||"")}kc.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Sc(e,n){for(var t=or(e),l=-1,o=n.length;++l<o;)t.add(n[l])}function Nc(e,n){for(var t=or(e),l=-1,o=n.length;++l<o;)t.remove(n[l])}function If(e){return function(){Sc(this,e)}}function Bf(e){return function(){Nc(this,e)}}function Df(e,n){return function(){(n.apply(this,arguments)?Sc:Nc)(this,e)}}function Tf(e,n){var t=_c(e+"");if(arguments.length<2){for(var l=or(this.node()),o=-1,r=t.length;++o<r;)if(!l.contains(t[o]))return!1;return!0}return this.each((typeof n=="function"?Df:n?If:Bf)(t,n))}function Of(){this.textContent=""}function jf(e){return function(){this.textContent=e}}function Rf(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function Ff(e){return arguments.length?this.each(e==null?Of:(typeof e=="function"?Rf:jf)(e)):this.node().textContent}function Lf(){this.innerHTML=""}function Pf(e){return function(){this.innerHTML=e}}function Gf(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function zf(e){return arguments.length?this.each(e==null?Lf:(typeof e=="function"?Gf:Pf)(e)):this.node().innerHTML}function Uf(){this.nextSibling&&this.parentNode.appendChild(this)}function Qf(){return this.each(Uf)}function Vf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hf(){return this.each(Vf)}function $f(e){var n=typeof e=="function"?e:yc(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function qf(){return null}function Yf(e,n){var t=typeof e=="function"?e:yc(e),l=n==null?qf:typeof n=="function"?n:lr(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),l.apply(this,arguments)||null)})}function Wf(){var e=this.parentNode;e&&e.removeChild(this)}function Kf(){return this.each(Wf)}function Xf(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Zf(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Jf(e){return this.select(e?Zf:Xf)}function e2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function n2(e){return function(n){e.call(this,n,this.__data__)}}function t2(e){return e.trim().split(/^|\s+/).map(function(n){var t="",l=n.indexOf(".");return l>=0&&(t=n.slice(l+1),n=n.slice(0,l)),{type:n,name:t}})}function l2(e){return function(){var n=this.__on;if(n){for(var t=0,l=-1,o=n.length,r;t<o;++t)r=n[t],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):n[++l]=r;++l?n.length=l:delete this.__on}}}function o2(e,n,t){return function(){var l=this.__on,o,r=n2(n);if(l){for(var i=0,a=l.length;i<a;++i)if((o=l[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=t),o.value=n;return}}this.addEventListener(e.type,r,t),o={type:e.type,name:e.name,value:n,listener:r,options:t},l?l.push(o):this.__on=[o]}}function i2(e,n,t){var l=t2(e+""),o,r=l.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,c=a.length,u;s<c;++s)for(o=0,u=a[s];o<r;++o)if((i=l[o]).type===u.type&&i.name===u.name)return u.value}return}for(a=n?o2:l2,o=0;o<r;++o)this.each(a(l[o],n,t));return this}function Mc(e,n,t){var l=wc(e),o=l.CustomEvent;typeof o=="function"?o=new o(n,t):(o=l.document.createEvent("Event"),t?(o.initEvent(n,t.bubbles,t.cancelable),o.detail=t.detail):o.initEvent(n,!1,!1)),e.dispatchEvent(o)}function r2(e,n){return function(){return Mc(this,e,n)}}function s2(e,n){return function(){return Mc(this,e,n.apply(this,arguments))}}function a2(e,n){return this.each((typeof n=="function"?s2:r2)(e,n))}function*c2(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var l=e[n],o=0,r=l.length,i;o<r;++o)(i=l[o])&&(yield i)}var Ic=[null];function Le(e,n){this._groups=e,this._parents=n}function Ut(){return new Le([[document.documentElement]],Ic)}function A2(){return this}Le.prototype=Ut.prototype={constructor:Le,select:j0,selectAll:P0,selectChild:Q0,selectChildren:q0,filter:Y0,data:ef,enter:W0,exit:tf,join:lf,merge:of,selection:A2,order:rf,sort:sf,call:cf,nodes:Af,node:uf,size:df,empty:mf,each:ff,attr:xf,style:_f,property:Mf,classed:Tf,text:Ff,html:zf,raise:Qf,lower:Hf,append:$f,insert:Yf,remove:Kf,clone:Jf,datum:e2,on:i2,dispatch:a2,[Symbol.iterator]:c2};function Re(e){return typeof e=="string"?new Le([[document.querySelector(e)]],[document.documentElement]):new Le([[e]],Ic)}function u2(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Ke(e,n){if(e=u2(e),n===void 0&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var l=t.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,l=l.matrixTransform(n.getScreenCTM().inverse()),[l.x,l.y]}if(n.getBoundingClientRect){var o=n.getBoundingClientRect();return[e.clientX-o.left-n.clientLeft,e.clientY-o.top-n.clientTop]}}return[e.pageX,e.pageY]}const d2={passive:!1},Tt={capture:!0,passive:!1};function ko(e){e.stopImmediatePropagation()}function Xn(e){e.preventDefault(),e.stopImmediatePropagation()}function Bc(e){var n=e.document.documentElement,t=Re(e).on("dragstart.drag",Xn,Tt);"onselectstart"in n?t.on("selectstart.drag",Xn,Tt):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Dc(e,n){var t=e.document.documentElement,l=Re(e).on("dragstart.drag",null);n&&(l.on("click.drag",Xn,Tt),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in t?l.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const al=e=>()=>e;function Ti(e,{sourceEvent:n,subject:t,target:l,identifier:o,active:r,x:i,y:a,dx:s,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Ti.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function m2(e){return!e.ctrlKey&&!e.button}function f2(){return this.parentNode}function h2(e,n){return n??{x:e.x,y:e.y}}function p2(){return navigator.maxTouchPoints||"ontouchstart"in this}function Tc(){var e=m2,n=f2,t=h2,l=p2,o={},r=Ql("start","drag","end"),i=0,a,s,c,u,A=0;function d(x){x.on("mousedown.drag",f).filter(l).on("touchstart.drag",y).on("touchmove.drag",b,d2).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(x,N){if(!(u||!e.call(this,x,N))){var B=g(this,n.call(this,x,N),x,N,"mouse");B&&(Re(x.view).on("mousemove.drag",p,Tt).on("mouseup.drag",C,Tt),Bc(x.view),ko(x),c=!1,a=x.clientX,s=x.clientY,B("start",x))}}function p(x){if(Xn(x),!c){var N=x.clientX-a,B=x.clientY-s;c=N*N+B*B>A}o.mouse("drag",x)}function C(x){Re(x.view).on("mousemove.drag mouseup.drag",null),Dc(x.view,c),Xn(x),o.mouse("end",x)}function y(x,N){if(e.call(this,x,N)){var B=x.changedTouches,R=n.call(this,x,N),v=B.length,I,w;for(I=0;I<v;++I)(w=g(this,R,x,N,B[I].identifier,B[I]))&&(ko(x),w("start",x,B[I]))}}function b(x){var N=x.changedTouches,B=N.length,R,v;for(R=0;R<B;++R)(v=o[N[R].identifier])&&(Xn(x),v("drag",x,N[R]))}function E(x){var N=x.changedTouches,B=N.length,R,v;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),R=0;R<B;++R)(v=o[N[R].identifier])&&(ko(x),v("end",x,N[R]))}function g(x,N,B,R,v,I){var w=r.copy(),k=Ke(I||B,N),D,z,S;if((S=t.call(x,new Ti("beforestart",{sourceEvent:B,target:d,identifier:v,active:i,x:k[0],y:k[1],dx:0,dy:0,dispatch:w}),R))!=null)return D=S.x-k[0]||0,z=S.y-k[1]||0,function T(F,G,$){var H=k,Y;switch(F){case"start":o[v]=T,Y=i++;break;case"end":delete o[v],--i;case"drag":k=Ke($||G,N),Y=i;break}w.call(F,x,new Ti(F,{sourceEvent:G,subject:S,target:d,identifier:v,active:Y,x:k[0]+D,y:k[1]+z,dx:k[0]-H[0],dy:k[1]-H[1],dispatch:w}),R)}}return d.filter=function(x){return arguments.length?(e=typeof x=="function"?x:al(!!x),d):e},d.container=function(x){return arguments.length?(n=typeof x=="function"?x:al(x),d):n},d.subject=function(x){return arguments.length?(t=typeof x=="function"?x:al(x),d):t},d.touchable=function(x){return arguments.length?(l=typeof x=="function"?x:al(!!x),d):l},d.on=function(){var x=r.on.apply(r,arguments);return x===r?d:x},d.clickDistance=function(x){return arguments.length?(A=(x=+x)*x,d):Math.sqrt(A)},d}var et=0,kt=0,vt=0,Oc=1e3,Sl,St,Nl=0,Ln=0,Hl=0,Ot=typeof performance=="object"&&performance.now?performance:Date,jc=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ir(){return Ln||(jc(g2),Ln=Ot.now()+Hl)}function g2(){Ln=0}function Ml(){this._call=this._time=this._next=null}Ml.prototype=Rc.prototype={constructor:Ml,restart:function(e,n,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?ir():+t)+(n==null?0:+n),!this._next&&St!==this&&(St?St._next=this:Sl=this,St=this),this._call=e,this._time=t,Oi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Oi())}};function Rc(e,n,t){var l=new Ml;return l.restart(e,n,t),l}function C2(){ir(),++et;for(var e=Sl,n;e;)(n=Ln-e._time)>=0&&e._call.call(void 0,n),e=e._next;--et}function Wr(){Ln=(Nl=Ot.now())+Hl,et=kt=0;try{C2()}finally{et=0,b2(),Ln=0}}function y2(){var e=Ot.now(),n=e-Nl;n>Oc&&(Hl-=n,Nl=e)}function b2(){for(var e,n=Sl,t,l=1/0;n;)n._call?(l>n._time&&(l=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Sl=t);St=e,Oi(l)}function Oi(e){if(!et){kt&&(kt=clearTimeout(kt));var n=e-Ln;n>24?(e<1/0&&(kt=setTimeout(Wr,e-Ot.now()-Hl)),vt&&(vt=clearInterval(vt))):(vt||(Nl=Ot.now(),vt=setInterval(y2,Oc)),et=1,jc(Wr))}}function Kr(e,n,t){var l=new Ml;return n=n==null?0:+n,l.restart(o=>{l.stop(),e(o+n)},n,t),l}var x2=Ql("start","end","cancel","interrupt"),E2=[],Fc=0,Xr=1,ji=2,yl=3,Zr=4,Ri=5,bl=6;function $l(e,n,t,l,o,r){var i=e.__transition;if(!i)e.__transition={};else if(t in i)return;v2(e,t,{name:n,index:l,group:o,on:x2,tween:E2,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Fc})}function rr(e,n){var t=Je(e,n);if(t.state>Fc)throw new Error("too late; already scheduled");return t}function on(e,n){var t=Je(e,n);if(t.state>yl)throw new Error("too late; already running");return t}function Je(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function v2(e,n,t){var l=e.__transition,o;l[n]=t,t.timer=Rc(r,0,t.time);function r(c){t.state=Xr,t.timer.restart(i,t.delay,t.time),t.delay<=c&&i(c-t.delay)}function i(c){var u,A,d,f;if(t.state!==Xr)return s();for(u in l)if(f=l[u],f.name===t.name){if(f.state===yl)return Kr(i);f.state===Zr?(f.state=bl,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete l[u]):+u<n&&(f.state=bl,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete l[u])}if(Kr(function(){t.state===yl&&(t.state=Zr,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=ji,t.on.call("start",e,e.__data__,t.index,t.group),t.state===ji){for(t.state=yl,o=new Array(d=t.tween.length),u=0,A=-1;u<d;++u)(f=t.tween[u].value.call(e,e.__data__,t.index,t.group))&&(o[++A]=f);o.length=A+1}}function a(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(s),t.state=Ri,1),A=-1,d=o.length;++A<d;)o[A].call(e,u);t.state===Ri&&(t.on.call("end",e,e.__data__,t.index,t.group),s())}function s(){t.state=bl,t.timer.stop(),delete l[n];for(var c in l)return;delete e.__transition}}function xl(e,n){var t=e.__transition,l,o,r=!0,i;if(t){n=n==null?null:n+"";for(i in t){if((l=t[i]).name!==n){r=!1;continue}o=l.state>ji&&l.state<Ri,l.state=bl,l.timer.stop(),l.on.call(o?"interrupt":"cancel",e,e.__data__,l.index,l.group),delete t[i]}r&&delete e.__transition}}function w2(e){return this.each(function(){xl(this,e)})}function _2(e,n){var t,l;return function(){var o=on(this,e),r=o.tween;if(r!==t){l=t=r;for(var i=0,a=l.length;i<a;++i)if(l[i].name===n){l=l.slice(),l.splice(i,1);break}}o.tween=l}}function k2(e,n,t){var l,o;if(typeof t!="function")throw new Error;return function(){var r=on(this,e),i=r.tween;if(i!==l){o=(l=i).slice();for(var a={name:n,value:t},s=0,c=o.length;s<c;++s)if(o[s].name===n){o[s]=a;break}s===c&&o.push(a)}r.tween=o}}function S2(e,n){var t=this._id;if(e+="",arguments.length<2){for(var l=Je(this.node(),t).tween,o=0,r=l.length,i;o<r;++o)if((i=l[o]).name===e)return i.value;return null}return this.each((n==null?_2:k2)(t,e,n))}function sr(e,n,t){var l=e._id;return e.each(function(){var o=on(this,l);(o.value||(o.value={}))[n]=t.apply(this,arguments)}),function(o){return Je(o,l).value[n]}}function Lc(e,n){var t;return(typeof n=="number"?Tn:n instanceof kr?_r:(t=kr(n))?(n=t,_r):Qu)(e,n)}function N2(e){return function(){this.removeAttribute(e)}}function M2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I2(e,n,t){var l,o=t+"",r;return function(){var i=this.getAttribute(e);return i===o?null:i===l?r:r=n(l=i,t)}}function B2(e,n,t){var l,o=t+"",r;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===l?r:r=n(l=i,t)}}function D2(e,n,t){var l,o,r;return function(){var i,a=t(this),s;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),s=a+"",i===s?null:i===l&&s===o?r:(o=s,r=n(l=i,a)))}}function T2(e,n,t){var l,o,r;return function(){var i,a=t(this),s;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),s=a+"",i===s?null:i===l&&s===o?r:(o=s,r=n(l=i,a)))}}function O2(e,n){var t=Vl(e),l=t==="transform"?qd:Lc;return this.attrTween(e,typeof n=="function"?(t.local?T2:D2)(t,l,sr(this,"attr."+e,n)):n==null?(t.local?M2:N2)(t):(t.local?B2:I2)(t,l,n))}function j2(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function R2(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function F2(e,n){var t,l;function o(){var r=n.apply(this,arguments);return r!==l&&(t=(l=r)&&R2(e,r)),t}return o._value=n,o}function L2(e,n){var t,l;function o(){var r=n.apply(this,arguments);return r!==l&&(t=(l=r)&&j2(e,r)),t}return o._value=n,o}function P2(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;var l=Vl(e);return this.tween(t,(l.local?F2:L2)(l,n))}function G2(e,n){return function(){rr(this,e).delay=+n.apply(this,arguments)}}function z2(e,n){return n=+n,function(){rr(this,e).delay=n}}function U2(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?G2:z2)(n,e)):Je(this.node(),n).delay}function Q2(e,n){return function(){on(this,e).duration=+n.apply(this,arguments)}}function V2(e,n){return n=+n,function(){on(this,e).duration=n}}function H2(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Q2:V2)(n,e)):Je(this.node(),n).duration}function $2(e,n){if(typeof n!="function")throw new Error;return function(){on(this,e).ease=n}}function q2(e){var n=this._id;return arguments.length?this.each($2(n,e)):Je(this.node(),n).ease}function Y2(e,n){return function(){var t=n.apply(this,arguments);if(typeof t!="function")throw new Error;on(this,e).ease=t}}function W2(e){if(typeof e!="function")throw new Error;return this.each(Y2(this._id,e))}function K2(e){typeof e!="function"&&(e=xc(e));for(var n=this._groups,t=n.length,l=new Array(t),o=0;o<t;++o)for(var r=n[o],i=r.length,a=l[o]=[],s,c=0;c<i;++c)(s=r[c])&&e.call(s,s.__data__,c,r)&&a.push(s);return new dn(l,this._parents,this._name,this._id)}function X2(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,l=n.length,o=t.length,r=Math.min(l,o),i=new Array(l),a=0;a<r;++a)for(var s=n[a],c=t[a],u=s.length,A=i[a]=new Array(u),d,f=0;f<u;++f)(d=s[f]||c[f])&&(A[f]=d);for(;a<l;++a)i[a]=n[a];return new dn(i,this._parents,this._name,this._id)}function Z2(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||n==="start"})}function J2(e,n,t){var l,o,r=Z2(n)?rr:on;return function(){var i=r(this,e),a=i.on;a!==l&&(o=(l=a).copy()).on(n,t),i.on=o}}function eh(e,n){var t=this._id;return arguments.length<2?Je(this.node(),t).on.on(e):this.each(J2(t,e,n))}function nh(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}function th(){return this.on("end.remove",nh(this._id))}function lh(e){var n=this._name,t=this._id;typeof e!="function"&&(e=lr(e));for(var l=this._groups,o=l.length,r=new Array(o),i=0;i<o;++i)for(var a=l[i],s=a.length,c=r[i]=new Array(s),u,A,d=0;d<s;++d)(u=a[d])&&(A=e.call(u,u.__data__,d,a))&&("__data__"in u&&(A.__data__=u.__data__),c[d]=A,$l(c[d],n,t,d,c,Je(u,t)));return new dn(r,this._parents,n,t)}function oh(e){var n=this._name,t=this._id;typeof e!="function"&&(e=bc(e));for(var l=this._groups,o=l.length,r=[],i=[],a=0;a<o;++a)for(var s=l[a],c=s.length,u,A=0;A<c;++A)if(u=s[A]){for(var d=e.call(u,u.__data__,A,s),f,p=Je(u,t),C=0,y=d.length;C<y;++C)(f=d[C])&&$l(f,n,t,C,d,p);r.push(d),i.push(u)}return new dn(r,i,n,t)}var ih=Ut.prototype.constructor;function rh(){return new ih(this._groups,this._parents)}function sh(e,n){var t,l,o;return function(){var r=Jn(this,e),i=(this.style.removeProperty(e),Jn(this,e));return r===i?null:r===t&&i===l?o:o=n(t=r,l=i)}}function Pc(e){return function(){this.style.removeProperty(e)}}function ah(e,n,t){var l,o=t+"",r;return function(){var i=Jn(this,e);return i===o?null:i===l?r:r=n(l=i,t)}}function ch(e,n,t){var l,o,r;return function(){var i=Jn(this,e),a=t(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(e),Jn(this,e))),i===s?null:i===l&&s===o?r:(o=s,r=n(l=i,a))}}function Ah(e,n){var t,l,o,r="style."+n,i="end."+r,a;return function(){var s=on(this,e),c=s.on,u=s.value[r]==null?a||(a=Pc(n)):void 0;(c!==t||o!==u)&&(l=(t=c).copy()).on(i,o=u),s.on=l}}function uh(e,n,t){var l=(e+="")=="transform"?$d:Lc;return n==null?this.styleTween(e,sh(e,l)).on("end.style."+e,Pc(e)):typeof n=="function"?this.styleTween(e,ch(e,l,sr(this,"style."+e,n))).each(Ah(this._id,e)):this.styleTween(e,ah(e,l,n),t).on("end.style."+e,null)}function dh(e,n,t){return function(l){this.style.setProperty(e,n.call(this,l),t)}}function mh(e,n,t){var l,o;function r(){var i=n.apply(this,arguments);return i!==o&&(l=(o=i)&&dh(e,i,t)),l}return r._value=n,r}function fh(e,n,t){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(n==null)return this.tween(l,null);if(typeof n!="function")throw new Error;return this.tween(l,mh(e,n,t??""))}function hh(e){return function(){this.textContent=e}}function ph(e){return function(){var n=e(this);this.textContent=n??""}}function gh(e){return this.tween("text",typeof e=="function"?ph(sr(this,"text",e)):hh(e==null?"":e+""))}function Ch(e){return function(n){this.textContent=e.call(this,n)}}function yh(e){var n,t;function l(){var o=e.apply(this,arguments);return o!==t&&(n=(t=o)&&Ch(o)),n}return l._value=e,l}function bh(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,yh(e))}function xh(){for(var e=this._name,n=this._id,t=Gc(),l=this._groups,o=l.length,r=0;r<o;++r)for(var i=l[r],a=i.length,s,c=0;c<a;++c)if(s=i[c]){var u=Je(s,n);$l(s,e,t,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new dn(l,this._parents,e,t)}function Eh(){var e,n,t=this,l=t._id,o=t.size();return new Promise(function(r,i){var a={value:i},s={value:function(){--o===0&&r()}};t.each(function(){var c=on(this,l),u=c.on;u!==e&&(n=(e=u).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(s)),c.on=n}),o===0&&r()})}var vh=0;function dn(e,n,t,l){this._groups=e,this._parents=n,this._name=t,this._id=l}function Gc(){return++vh}var cn=Ut.prototype;dn.prototype={constructor:dn,select:lh,selectAll:oh,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:K2,merge:X2,selection:rh,transition:xh,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:eh,attr:O2,attrTween:P2,style:uh,styleTween:fh,text:gh,textTween:bh,remove:th,tween:S2,delay:U2,duration:H2,ease:q2,easeVarying:W2,end:Eh,[Symbol.iterator]:cn[Symbol.iterator]};function wh(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _h={time:null,delay:0,duration:250,ease:wh};function kh(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}function Sh(e){var n,t;e instanceof dn?(n=e._id,e=e._name):(n=Gc(),(t=_h).time=ir(),e=e==null?null:e+"");for(var l=this._groups,o=l.length,r=0;r<o;++r)for(var i=l[r],a=i.length,s,c=0;c<a;++c)(s=i[c])&&$l(s,e,n,c,i,t||kh(s,n));return new dn(l,this._parents,e,n)}Ut.prototype.interrupt=w2;Ut.prototype.transition=Sh;const cl=e=>()=>e;function Nh(e,{sourceEvent:n,target:t,transform:l,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:o}})}function un(e,n,t){this.k=e,this.x=n,this.y=t}un.prototype={constructor:un,scale:function(e){return e===1?this:new un(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new un(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ql=new un(1,0,0);zc.prototype=un.prototype;function zc(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ql;return e.__zoom}function So(e){e.stopImmediatePropagation()}function wt(e){e.preventDefault(),e.stopImmediatePropagation()}function Mh(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Ih(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Jr(){return this.__zoom||ql}function Bh(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Dh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Th(e,n,t){var l=e.invertX(n[0][0])-t[0][0],o=e.invertX(n[1][0])-t[1][0],r=e.invertY(n[0][1])-t[0][1],i=e.invertY(n[1][1])-t[1][1];return e.translate(o>l?(l+o)/2:Math.min(0,l)||Math.max(0,o),i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i))}function Uc(){var e=Mh,n=Ih,t=Th,l=Bh,o=Dh,r=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,s=pl,c=Ql("start","zoom","end"),u,A,d,f=500,p=150,C=0,y=10;function b(S){S.property("__zoom",Jr).on("wheel.zoom",v,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",w).filter(o).on("touchstart.zoom",k).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(S,T,F,G){var $=S.selection?S.selection():S;$.property("__zoom",Jr),S!==$?N(S,T,F,G):$.interrupt().each(function(){B(this,arguments).event(G).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},b.scaleBy=function(S,T,F,G){b.scaleTo(S,function(){var $=this.__zoom.k,H=typeof T=="function"?T.apply(this,arguments):T;return $*H},F,G)},b.scaleTo=function(S,T,F,G){b.transform(S,function(){var $=n.apply(this,arguments),H=this.__zoom,Y=F==null?x($):typeof F=="function"?F.apply(this,arguments):F,U=H.invert(Y),W=typeof T=="function"?T.apply(this,arguments):T;return t(g(E(H,W),Y,U),$,i)},F,G)},b.translateBy=function(S,T,F,G){b.transform(S,function(){return t(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof F=="function"?F.apply(this,arguments):F),n.apply(this,arguments),i)},null,G)},b.translateTo=function(S,T,F,G,$){b.transform(S,function(){var H=n.apply(this,arguments),Y=this.__zoom,U=G==null?x(H):typeof G=="function"?G.apply(this,arguments):G;return t(ql.translate(U[0],U[1]).scale(Y.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof F=="function"?-F.apply(this,arguments):-F),H,i)},G,$)};function E(S,T){return T=Math.max(r[0],Math.min(r[1],T)),T===S.k?S:new un(T,S.x,S.y)}function g(S,T,F){var G=T[0]-F[0]*S.k,$=T[1]-F[1]*S.k;return G===S.x&&$===S.y?S:new un(S.k,G,$)}function x(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function N(S,T,F,G){S.on("start.zoom",function(){B(this,arguments).event(G).start()}).on("interrupt.zoom end.zoom",function(){B(this,arguments).event(G).end()}).tween("zoom",function(){var $=this,H=arguments,Y=B($,H).event(G),U=n.apply($,H),W=F==null?x(U):typeof F=="function"?F.apply($,H):F,j=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),L=$.__zoom,V=typeof T=="function"?T.apply($,H):T,q=s(L.invert(W).concat(j/L.k),V.invert(W).concat(j/V.k));return function(J){if(J===1)J=V;else{var Z=q(J),ne=j/Z[2];J=new un(ne,W[0]-Z[0]*ne,W[1]-Z[1]*ne)}Y.zoom(null,J)}})}function B(S,T,F){return!F&&S.__zooming||new R(S,T)}function R(S,T){this.that=S,this.args=T,this.active=0,this.sourceEvent=null,this.extent=n.apply(S,T),this.taps=0}R.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,T){return this.mouse&&S!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var T=Re(this.that).datum();c.call(S,this.that,new Nh(S,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:c}),T)}};function v(S,...T){if(!e.apply(this,arguments))return;var F=B(this,T).event(S),G=this.__zoom,$=Math.max(r[0],Math.min(r[1],G.k*Math.pow(2,l.apply(this,arguments)))),H=Ke(S);if(F.wheel)(F.mouse[0][0]!==H[0]||F.mouse[0][1]!==H[1])&&(F.mouse[1]=G.invert(F.mouse[0]=H)),clearTimeout(F.wheel);else{if(G.k===$)return;F.mouse=[H,G.invert(H)],xl(this),F.start()}wt(S),F.wheel=setTimeout(Y,p),F.zoom("mouse",t(g(E(G,$),F.mouse[0],F.mouse[1]),F.extent,i));function Y(){F.wheel=null,F.end()}}function I(S,...T){if(d||!e.apply(this,arguments))return;var F=S.currentTarget,G=B(this,T,!0).event(S),$=Re(S.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",j,!0),H=Ke(S,F),Y=S.clientX,U=S.clientY;Bc(S.view),So(S),G.mouse=[H,this.__zoom.invert(H)],xl(this),G.start();function W(L){if(wt(L),!G.moved){var V=L.clientX-Y,q=L.clientY-U;G.moved=V*V+q*q>C}G.event(L).zoom("mouse",t(g(G.that.__zoom,G.mouse[0]=Ke(L,F),G.mouse[1]),G.extent,i))}function j(L){$.on("mousemove.zoom mouseup.zoom",null),Dc(L.view,G.moved),wt(L),G.event(L).end()}}function w(S,...T){if(e.apply(this,arguments)){var F=this.__zoom,G=Ke(S.changedTouches?S.changedTouches[0]:S,this),$=F.invert(G),H=F.k*(S.shiftKey?.5:2),Y=t(g(E(F,H),G,$),n.apply(this,T),i);wt(S),a>0?Re(this).transition().duration(a).call(N,Y,G,S):Re(this).call(b.transform,Y,G,S)}}function k(S,...T){if(e.apply(this,arguments)){var F=S.touches,G=F.length,$=B(this,T,S.changedTouches.length===G).event(S),H,Y,U,W;for(So(S),Y=0;Y<G;++Y)U=F[Y],W=Ke(U,this),W=[W,this.__zoom.invert(W),U.identifier],$.touch0?!$.touch1&&$.touch0[2]!==W[2]&&($.touch1=W,$.taps=0):($.touch0=W,H=!0,$.taps=1+!!u);u&&(u=clearTimeout(u)),H&&($.taps<2&&(A=W[0],u=setTimeout(function(){u=null},f)),xl(this),$.start())}}function D(S,...T){if(this.__zooming){var F=B(this,T).event(S),G=S.changedTouches,$=G.length,H,Y,U,W;for(wt(S),H=0;H<$;++H)Y=G[H],U=Ke(Y,this),F.touch0&&F.touch0[2]===Y.identifier?F.touch0[0]=U:F.touch1&&F.touch1[2]===Y.identifier&&(F.touch1[0]=U);if(Y=F.that.__zoom,F.touch1){var j=F.touch0[0],L=F.touch0[1],V=F.touch1[0],q=F.touch1[1],J=(J=V[0]-j[0])*J+(J=V[1]-j[1])*J,Z=(Z=q[0]-L[0])*Z+(Z=q[1]-L[1])*Z;Y=E(Y,Math.sqrt(J/Z)),U=[(j[0]+V[0])/2,(j[1]+V[1])/2],W=[(L[0]+q[0])/2,(L[1]+q[1])/2]}else if(F.touch0)U=F.touch0[0],W=F.touch0[1];else return;F.zoom("touch",t(g(Y,U,W),F.extent,i))}}function z(S,...T){if(this.__zooming){var F=B(this,T).event(S),G=S.changedTouches,$=G.length,H,Y;for(So(S),d&&clearTimeout(d),d=setTimeout(function(){d=null},f),H=0;H<$;++H)Y=G[H],F.touch0&&F.touch0[2]===Y.identifier?delete F.touch0:F.touch1&&F.touch1[2]===Y.identifier&&delete F.touch1;if(F.touch1&&!F.touch0&&(F.touch0=F.touch1,delete F.touch1),F.touch0)F.touch0[1]=this.__zoom.invert(F.touch0[0]);else if(F.end(),F.taps===2&&(Y=Ke(Y,this),Math.hypot(A[0]-Y[0],A[1]-Y[1])<y)){var U=Re(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return b.wheelDelta=function(S){return arguments.length?(l=typeof S=="function"?S:cl(+S),b):l},b.filter=function(S){return arguments.length?(e=typeof S=="function"?S:cl(!!S),b):e},b.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:cl(!!S),b):o},b.extent=function(S){return arguments.length?(n=typeof S=="function"?S:cl([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),b):n},b.scaleExtent=function(S){return arguments.length?(r[0]=+S[0],r[1]=+S[1],b):[r[0],r[1]]},b.translateExtent=function(S){return arguments.length?(i[0][0]=+S[0][0],i[1][0]=+S[1][0],i[0][1]=+S[0][1],i[1][1]=+S[1][1],b):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},b.constrain=function(S){return arguments.length?(t=S,b):t},b.duration=function(S){return arguments.length?(a=+S,b):a},b.interpolate=function(S){return arguments.length?(s=S,b):s},b.on=function(){var S=c.on.apply(c,arguments);return S===c?b:S},b.clickDistance=function(S){return arguments.length?(C=(S=+S)*S,b):Math.sqrt(C)},b.tapDistance=function(S){return arguments.length?(y=+S,b):y},b}const tn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:n,sourceHandle:t,targetHandle:l})=>`Couldn't create edge for ${e} handle id: "${e==="source"?t:l}", edge id: ${n}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},jt=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Qc=["Enter"," ","Escape"],Vc={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:n,y:t})=>`Moved selected node ${e}. New position, x: ${n}, y: ${t}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var nt;(function(e){e.Strict="strict",e.Loose="loose"})(nt||(nt={}));var Rn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Rn||(Rn={}));var Rt;(function(e){e.Partial="partial",e.Full="full"})(Rt||(Rt={}));const Hc={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var En;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(En||(En={}));var Fn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Fn||(Fn={}));var Ae;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Ae||(Ae={}));const es={[Ae.Left]:Ae.Right,[Ae.Right]:Ae.Left,[Ae.Top]:Ae.Bottom,[Ae.Bottom]:Ae.Top};function $c(e){return e===null?null:e?"valid":"invalid"}const qc=e=>"id"in e&&"source"in e&&"target"in e,Oh=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),ar=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Qt=(e,n=[0,0])=>{const{width:t,height:l}=fn(e),o=e.origin??n,r=t*o[0],i=l*o[1];return{x:e.position.x-r,y:e.position.y-i}},jh=(e,n={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const t=e.reduce((l,o)=>{const r=typeof o=="string";let i=!n.nodeLookup&&!r?o:void 0;n.nodeLookup&&(i=r?n.nodeLookup.get(o):ar(o)?o:n.nodeLookup.get(o.id));const a=i?Il(i,n.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Yl(l,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Wl(t)},Vt=(e,n={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let t={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(l=>{if(n.filter===void 0||n.filter(l)){const o=Il(l);t=Yl(t,o)}}),Wl(t)},cr=(e,n,[t,l,o]=[0,0,1],r=!1,i=!1)=>{const a={...Ht(n,[t,l,o]),width:n.width/o,height:n.height/o},s=[];for(const c of e.values()){const{measured:u,selectable:A=!0,hidden:d=!1}=c;if(i&&!A||d)continue;const f=u.width??c.width??c.initialWidth??null,p=u.height??c.height??c.initialHeight??null,C=Ft(a,lt(c)),y=(f??0)*(p??0),b=r&&C>0;(!c.internals.handleBounds||b||C>=y||c.dragging)&&s.push(c)}return s},Rh=(e,n)=>{const t=new Set;return e.forEach(l=>{t.add(l.id)}),n.filter(l=>t.has(l.source)||t.has(l.target))};function Fh(e,n){const t=new Map,l=n?.nodes?new Set(n.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&(n?.includeHiddenNodes||!o.hidden)&&(!l||l.has(o.id))&&t.set(o.id,o)}),t}async function Lh({nodes:e,width:n,height:t,panZoom:l,minZoom:o,maxZoom:r},i){if(e.size===0)return Promise.resolve(!0);const a=Fh(e,i),s=Vt(a),c=Ar(s,n,t,i?.minZoom??o,i?.maxZoom??r,i?.padding??.1);return await l.setViewport(c,{duration:i?.duration,ease:i?.ease,interpolate:i?.interpolate}),Promise.resolve(!0)}function Yc({nodeId:e,nextPosition:n,nodeLookup:t,nodeOrigin:l=[0,0],nodeExtent:o,onError:r}){const i=t.get(e),a=i.parentId?t.get(i.parentId):void 0,{x:s,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=i.origin??l;let A=o;if(i.extent==="parent"&&!i.expandParent)if(!a)r?.("005",tn.error005());else{const f=a.measured.width,p=a.measured.height;f&&p&&(A=[[s,c],[s+f,c+p]])}else a&&ot(i.extent)&&(A=[[i.extent[0][0]+s,i.extent[0][1]+c],[i.extent[1][0]+s,i.extent[1][1]+c]]);const d=ot(A)?Pn(n,A,i.measured):n;return(i.measured.width===void 0||i.measured.height===void 0)&&r?.("015",tn.error015()),{position:{x:d.x-s+(i.measured.width??0)*u[0],y:d.y-c+(i.measured.height??0)*u[1]},positionAbsolute:d}}async function Ph({nodesToRemove:e=[],edgesToRemove:n=[],nodes:t,edges:l,onBeforeDelete:o}){const r=new Set(e.map(d=>d.id)),i=[];for(const d of t){if(d.deletable===!1)continue;const f=r.has(d.id),p=!f&&d.parentId&&i.find(C=>C.id===d.parentId);(f||p)&&i.push(d)}const a=new Set(n.map(d=>d.id)),s=l.filter(d=>d.deletable!==!1),u=Rh(i,s);for(const d of s)a.has(d.id)&&!u.find(p=>p.id===d.id)&&u.push(d);if(!o)return{edges:u,nodes:i};const A=await o({nodes:i,edges:u});return typeof A=="boolean"?A?{edges:u,nodes:i}:{edges:[],nodes:[]}:A}const tt=(e,n=0,t=1)=>Math.min(Math.max(e,n),t),Pn=(e={x:0,y:0},n,t)=>({x:tt(e.x,n[0][0],n[1][0]-(t?.width??0)),y:tt(e.y,n[0][1],n[1][1]-(t?.height??0))});function Wc(e,n,t){const{width:l,height:o}=fn(t),{x:r,y:i}=t.internals.positionAbsolute;return Pn(e,[[r,i],[r+l,i+o]],n)}const ns=(e,n,t)=>e<n?tt(Math.abs(e-n),1,n)/n:e>t?-tt(Math.abs(e-t),1,n)/n:0,Kc=(e,n,t=15,l=40)=>{const o=ns(e.x,l,n.width-l)*t,r=ns(e.y,l,n.height-l)*t;return[o,r]},Yl=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),Fi=({x:e,y:n,width:t,height:l})=>({x:e,y:n,x2:e+t,y2:n+l}),Wl=({x:e,y:n,x2:t,y2:l})=>({x:e,y:n,width:t-e,height:l-n}),lt=(e,n=[0,0])=>{const{x:t,y:l}=ar(e)?e.internals.positionAbsolute:Qt(e,n);return{x:t,y:l,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Il=(e,n=[0,0])=>{const{x:t,y:l}=ar(e)?e.internals.positionAbsolute:Qt(e,n);return{x:t,y:l,x2:t+(e.measured?.width??e.width??e.initialWidth??0),y2:l+(e.measured?.height??e.height??e.initialHeight??0)}},Xc=(e,n)=>Wl(Yl(Fi(e),Fi(n))),Ft=(e,n)=>{const t=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),l=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(t*l)},ts=e=>Xe(e.width)&&Xe(e.height)&&Xe(e.x)&&Xe(e.y),Xe=e=>!isNaN(e)&&isFinite(e),Gh=(e,n)=>{},Kl=(e,n=[1,1])=>({x:n[0]*Math.round(e.x/n[0]),y:n[1]*Math.round(e.y/n[1])}),Ht=({x:e,y:n},[t,l,o],r=!1,i=[1,1])=>{const a={x:(e-t)/o,y:(n-l)/o};return r?Kl(a,i):a},Bl=({x:e,y:n},[t,l,o])=>({x:e*o+t,y:n*o+l});function Hn(e,n){if(typeof e=="number")return Math.floor((n-n/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if(typeof e=="string"&&e.endsWith("%")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(n*t*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function zh(e,n,t){if(typeof e=="string"||typeof e=="number"){const l=Hn(e,t),o=Hn(e,n);return{top:l,right:o,bottom:l,left:o,x:o*2,y:l*2}}if(typeof e=="object"){const l=Hn(e.top??e.y??0,t),o=Hn(e.bottom??e.y??0,t),r=Hn(e.left??e.x??0,n),i=Hn(e.right??e.x??0,n);return{top:l,right:i,bottom:o,left:r,x:r+i,y:l+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Uh(e,n,t,l,o,r){const{x:i,y:a}=Bl(e,[n,t,l]),{x:s,y:c}=Bl({x:e.x+e.width,y:e.y+e.height},[n,t,l]),u=o-s,A=r-c;return{left:Math.floor(i),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(A)}}const Ar=(e,n,t,l,o,r)=>{const i=zh(r,n,t),a=(n-i.x)/e.width,s=(t-i.y)/e.height,c=Math.min(a,s),u=tt(c,l,o),A=e.x+e.width/2,d=e.y+e.height/2,f=n/2-A*u,p=t/2-d*u,C=Uh(e,f,p,u,n,t),y={left:Math.min(C.left-i.left,0),top:Math.min(C.top-i.top,0),right:Math.min(C.right-i.right,0),bottom:Math.min(C.bottom-i.bottom,0)};return{x:f-y.left+y.right,y:p-y.top+y.bottom,zoom:u}},Dl=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function ot(e){return e!==void 0&&e!=="parent"}function fn(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function Zc(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function Jc(e,n={width:0,height:0},t,l,o){const r={...e},i=l.get(t);if(i){const a=i.origin||o;r.x+=i.internals.positionAbsolute.x-(n.width??0)*a[0],r.y+=i.internals.positionAbsolute.y-(n.height??0)*a[1]}return r}function ls(e,n){if(e.size!==n.size)return!1;for(const t of e)if(!n.has(t))return!1;return!0}function Qh(){let e,n;return{promise:new Promise((l,o)=>{e=l,n=o}),resolve:e,reject:n}}function Vh(e){return{...Vc,...e||{}}}function Mt(e,{snapGrid:n=[0,0],snapToGrid:t=!1,transform:l,containerBounds:o}){const{x:r,y:i}=nn(e),a=Ht({x:r-(o?.left??0),y:i-(o?.top??0)},l),{x:s,y:c}=t?Kl(a,n):a;return{xSnapped:s,ySnapped:c,...a}}const ur=e=>({width:e.offsetWidth,height:e.offsetHeight}),eA=e=>e?.getRootNode?.()||window?.document,Hh=["INPUT","SELECT","TEXTAREA"];function nA(e){const n=e.composedPath?.()?.[0]||e.target;return n?.nodeType!==1?!1:Hh.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const tA=e=>"clientX"in e,nn=(e,n)=>{const t=tA(e),l=t?e.clientX:e.touches?.[0].clientX,o=t?e.clientY:e.touches?.[0].clientY;return{x:l-(n?.left??0),y:o-(n?.top??0)}},os=(e,n,t,l,o)=>{const r=n.querySelectorAll(`.${e}`);return!r||!r.length?null:Array.from(r).map(i=>{const a=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:o,position:i.getAttribute("data-handlepos"),x:(a.left-t.left)/l,y:(a.top-t.top)/l,...ur(i)}})};function lA({sourceX:e,sourceY:n,targetX:t,targetY:l,sourceControlX:o,sourceControlY:r,targetControlX:i,targetControlY:a}){const s=e*.125+o*.375+i*.375+t*.125,c=n*.125+r*.375+a*.375+l*.125,u=Math.abs(s-e),A=Math.abs(c-n);return[s,c,u,A]}function Al(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function is({pos:e,x1:n,y1:t,x2:l,y2:o,c:r}){switch(e){case Ae.Left:return[n-Al(n-l,r),t];case Ae.Right:return[n+Al(l-n,r),t];case Ae.Top:return[n,t-Al(t-o,r)];case Ae.Bottom:return[n,t+Al(o-t,r)]}}function oA({sourceX:e,sourceY:n,sourcePosition:t=Ae.Bottom,targetX:l,targetY:o,targetPosition:r=Ae.Top,curvature:i=.25}){const[a,s]=is({pos:t,x1:e,y1:n,x2:l,y2:o,c:i}),[c,u]=is({pos:r,x1:l,y1:o,x2:e,y2:n,c:i}),[A,d,f,p]=lA({sourceX:e,sourceY:n,targetX:l,targetY:o,sourceControlX:a,sourceControlY:s,targetControlX:c,targetControlY:u});return[`M${e},${n} C${a},${s} ${c},${u} ${l},${o}`,A,d,f,p]}function iA({sourceX:e,sourceY:n,targetX:t,targetY:l}){const o=Math.abs(t-e)/2,r=t<e?t+o:t-o,i=Math.abs(l-n)/2,a=l<n?l+i:l-i;return[r,a,o,i]}function $h({sourceNode:e,targetNode:n,selected:t=!1,zIndex:l,elevateOnSelect:o=!1}){if(l!==void 0)return l;const r=o&&t?1e3:0,i=Math.max(e.parentId?e.internals.z:0,n.parentId?n.internals.z:0);return r+i}function qh({sourceNode:e,targetNode:n,width:t,height:l,transform:o}){const r=Yl(Il(e),Il(n));r.x===r.x2&&(r.x2+=1),r.y===r.y2&&(r.y2+=1);const i={x:-o[0]/o[2],y:-o[1]/o[2],width:t/o[2],height:l/o[2]};return Ft(i,Wl(r))>0}const Yh=({source:e,sourceHandle:n,target:t,targetHandle:l})=>`xy-edge__${e}${n||""}-${t}${l||""}`,Wh=(e,n)=>n.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),rA=(e,n)=>{if(!e.source||!e.target)return n;let t;return qc(e)?t={...e}:t={...e,id:Yh(e)},Wh(t,n)?n:(t.sourceHandle===null&&delete t.sourceHandle,t.targetHandle===null&&delete t.targetHandle,n.concat(t))};function sA({sourceX:e,sourceY:n,targetX:t,targetY:l}){const[o,r,i,a]=iA({sourceX:e,sourceY:n,targetX:t,targetY:l});return[`M ${e},${n}L ${t},${l}`,o,r,i,a]}const rs={[Ae.Left]:{x:-1,y:0},[Ae.Right]:{x:1,y:0},[Ae.Top]:{x:0,y:-1},[Ae.Bottom]:{x:0,y:1}},Kh=({source:e,sourcePosition:n=Ae.Bottom,target:t})=>n===Ae.Left||n===Ae.Right?e.x<t.x?{x:1,y:0}:{x:-1,y:0}:e.y<t.y?{x:0,y:1}:{x:0,y:-1},ss=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function Xh({source:e,sourcePosition:n=Ae.Bottom,target:t,targetPosition:l=Ae.Top,center:o,offset:r}){const i=rs[n],a=rs[l],s={x:e.x+i.x*r,y:e.y+i.y*r},c={x:t.x+a.x*r,y:t.y+a.y*r},u=Kh({source:s,sourcePosition:n,target:c}),A=u.x!==0?"x":"y",d=u[A];let f=[],p,C;const y={x:0,y:0},b={x:0,y:0},[E,g,x,N]=iA({sourceX:e.x,sourceY:e.y,targetX:t.x,targetY:t.y});if(i[A]*a[A]===-1){p=o.x??E,C=o.y??g;const R=[{x:p,y:s.y},{x:p,y:c.y}],v=[{x:s.x,y:C},{x:c.x,y:C}];i[A]===d?f=A==="x"?R:v:f=A==="x"?v:R}else{const R=[{x:s.x,y:c.y}],v=[{x:c.x,y:s.y}];if(A==="x"?f=i.x===d?v:R:f=i.y===d?R:v,n===l){const z=Math.abs(e[A]-t[A]);if(z<=r){const S=Math.min(r-1,r-z);i[A]===d?y[A]=(s[A]>e[A]?-1:1)*S:b[A]=(c[A]>t[A]?-1:1)*S}}if(n!==l){const z=A==="x"?"y":"x",S=i[A]===a[z],T=s[z]>c[z],F=s[z]<c[z];(i[A]===1&&(!S&&T||S&&F)||i[A]!==1&&(!S&&F||S&&T))&&(f=A==="x"?R:v)}const I={x:s.x+y.x,y:s.y+y.y},w={x:c.x+b.x,y:c.y+b.y},k=Math.max(Math.abs(I.x-f[0].x),Math.abs(w.x-f[0].x)),D=Math.max(Math.abs(I.y-f[0].y),Math.abs(w.y-f[0].y));k>=D?(p=(I.x+w.x)/2,C=f[0].y):(p=f[0].x,C=(I.y+w.y)/2)}return[[e,{x:s.x+y.x,y:s.y+y.y},...f,{x:c.x+b.x,y:c.y+b.y},t],p,C,x,N]}function Zh(e,n,t,l){const o=Math.min(ss(e,n)/2,ss(n,t)/2,l),{x:r,y:i}=n;if(e.x===r&&r===t.x||e.y===i&&i===t.y)return`L${r} ${i}`;if(e.y===i){const c=e.x<t.x?-1:1,u=e.y<t.y?1:-1;return`L ${r+o*c},${i}Q ${r},${i} ${r},${i+o*u}`}const a=e.x<t.x?1:-1,s=e.y<t.y?-1:1;return`L ${r},${i+o*s}Q ${r},${i} ${r+o*a},${i}`}function Li({sourceX:e,sourceY:n,sourcePosition:t=Ae.Bottom,targetX:l,targetY:o,targetPosition:r=Ae.Top,borderRadius:i=5,centerX:a,centerY:s,offset:c=20}){const[u,A,d,f,p]=Xh({source:{x:e,y:n},sourcePosition:t,target:{x:l,y:o},targetPosition:r,center:{x:a,y:s},offset:c});return[u.reduce((y,b,E)=>{let g="";return E>0&&E<u.length-1?g=Zh(u[E-1],b,u[E+1],i):g=`${E===0?"M":"L"}${b.x} ${b.y}`,y+=g,y},""),A,d,f,p]}function as(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Jh(e){const{sourceNode:n,targetNode:t}=e;if(!as(n)||!as(t))return null;const l=n.internals.handleBounds||cs(n.handles),o=t.internals.handleBounds||cs(t.handles),r=As(l?.source??[],e.sourceHandle),i=As(e.connectionMode===nt.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!r||!i)return e.onError?.("008",tn.error008(r?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=r?.position||Ae.Bottom,s=i?.position||Ae.Top,c=Lt(n,r,a),u=Lt(t,i,s);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:s}}function cs(e){if(!e)return null;const n=[],t=[];for(const l of e)l.width=l.width??1,l.height=l.height??1,l.type==="source"?n.push(l):l.type==="target"&&t.push(l);return{source:n,target:t}}function Lt(e,n,t=Ae.Left,l=!1){const o=(n?.x??0)+e.internals.positionAbsolute.x,r=(n?.y??0)+e.internals.positionAbsolute.y,{width:i,height:a}=n??fn(e);if(l)return{x:o+i/2,y:r+a/2};switch(n?.position??t){case Ae.Top:return{x:o+i/2,y:r};case Ae.Right:return{x:o+i,y:r+a/2};case Ae.Bottom:return{x:o+i/2,y:r+a};case Ae.Left:return{x:o,y:r+a/2}}}function As(e,n){return e&&(n?e.find(t=>t.id===n):e[0])||null}function Pi(e,n){return e?typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(l=>`${l}=${e[l]}`).join("&")}`:""}function ep(e,{id:n,defaultColor:t,defaultMarkerStart:l,defaultMarkerEnd:o}){const r=new Set;return e.reduce((i,a)=>([a.markerStart||l,a.markerEnd||o].forEach(s=>{if(s&&typeof s=="object"){const c=Pi(s,n);r.has(c)||(i.push({id:c,color:s.color||t,...s}),r.add(c))}}),i),[]).sort((i,a)=>i.id.localeCompare(a.id))}const dr={nodeOrigin:[0,0],nodeExtent:jt,elevateNodesOnSelect:!0,defaults:{}},np={...dr,checkEquality:!0};function mr(e,n){const t={...e};for(const l in n)n[l]!==void 0&&(t[l]=n[l]);return t}function tp(e,n,t){const l=mr(dr,t);for(const o of e.values())if(o.parentId)fr(o,e,n,l);else{const r=Qt(o,l.nodeOrigin),i=ot(o.extent)?o.extent:l.nodeExtent,a=Pn(r,i,fn(o));o.internals.positionAbsolute=a}}function Gi(e,n,t,l){const o=mr(np,l);let r=e.length>0;const i=new Map(n),a=o?.elevateNodesOnSelect?1e3:0;n.clear(),t.clear();for(const s of e){let c=i.get(s.id);if(o.checkEquality&&s===c?.internals.userNode)n.set(s.id,c);else{const u=Qt(s,o.nodeOrigin),A=ot(s.extent)?s.extent:o.nodeExtent,d=Pn(u,A,fn(s));c={...o.defaults,...s,measured:{width:s.measured?.width,height:s.measured?.height},internals:{positionAbsolute:d,handleBounds:s.measured?c?.internals.handleBounds:void 0,z:aA(s,a),userNode:s}},n.set(s.id,c)}(c.measured===void 0||c.measured.width===void 0||c.measured.height===void 0)&&!c.hidden&&(r=!1),s.parentId&&fr(c,n,t,l)}return r}function lp(e,n){if(!e.parentId)return;const t=n.get(e.parentId);t?t.set(e.id,e):n.set(e.parentId,new Map([[e.id,e]]))}function fr(e,n,t,l){const{elevateNodesOnSelect:o,nodeOrigin:r,nodeExtent:i}=mr(dr,l),a=e.parentId,s=n.get(a);if(!s){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}lp(e,t);const c=o?1e3:0,{x:u,y:A,z:d}=op(e,s,r,i,c),{positionAbsolute:f}=e.internals,p=u!==f.x||A!==f.y;(p||d!==e.internals.z)&&n.set(e.id,{...e,internals:{...e.internals,positionAbsolute:p?{x:u,y:A}:f,z:d}})}function aA(e,n){return(Xe(e.zIndex)?e.zIndex:0)+(e.selected?n:0)}function op(e,n,t,l,o){const{x:r,y:i}=n.internals.positionAbsolute,a=fn(e),s=Qt(e,t),c=ot(e.extent)?Pn(s,e.extent,a):s;let u=Pn({x:r+c.x,y:i+c.y},l,a);e.extent==="parent"&&(u=Wc(u,a,n));const A=aA(e,o),d=n.internals.z??0;return{x:u.x,y:u.y,z:d>=A?d+1:A}}function hr(e,n,t,l=[0,0]){const o=[],r=new Map;for(const i of e){const a=n.get(i.parentId);if(!a)continue;const s=r.get(i.parentId)?.expandedRect??lt(a),c=Xc(s,i.rect);r.set(i.parentId,{expandedRect:c,parent:a})}return r.size>0&&r.forEach(({expandedRect:i,parent:a},s)=>{const c=a.internals.positionAbsolute,u=fn(a),A=a.origin??l,d=i.x<c.x?Math.round(Math.abs(c.x-i.x)):0,f=i.y<c.y?Math.round(Math.abs(c.y-i.y)):0,p=Math.max(u.width,Math.round(i.width)),C=Math.max(u.height,Math.round(i.height)),y=(p-u.width)*A[0],b=(C-u.height)*A[1];(d>0||f>0||y||b)&&(o.push({id:s,type:"position",position:{x:a.position.x-d+y,y:a.position.y-f+b}}),t.get(s)?.forEach(E=>{e.some(g=>g.id===E.id)||o.push({id:E.id,type:"position",position:{x:E.position.x+d,y:E.position.y+f}})})),(u.width<i.width||u.height<i.height||d||f)&&o.push({id:s,type:"dimensions",setAttributes:!0,dimensions:{width:p+(d?A[0]*d-y:0),height:C+(f?A[1]*f-b:0)}})}),o}function ip(e,n,t,l,o,r){const i=l?.querySelector(".xyflow__viewport");let a=!1;if(!i)return{changes:[],updatedInternals:a};const s=[],c=window.getComputedStyle(i),{m22:u}=new window.DOMMatrixReadOnly(c.transform),A=[];for(const d of e.values()){const f=n.get(d.id);if(!f)continue;if(f.hidden){n.set(f.id,{...f,internals:{...f.internals,handleBounds:void 0}}),a=!0;continue}const p=ur(d.nodeElement),C=f.measured.width!==p.width||f.measured.height!==p.height;if(!!(p.width&&p.height&&(C||!f.internals.handleBounds||d.force))){const b=d.nodeElement.getBoundingClientRect(),E=ot(f.extent)?f.extent:r;let{positionAbsolute:g}=f.internals;f.parentId&&f.extent==="parent"?g=Wc(g,p,n.get(f.parentId)):E&&(g=Pn(g,E,p));const x={...f,measured:p,internals:{...f.internals,positionAbsolute:g,handleBounds:{source:os("source",d.nodeElement,b,u,f.id),target:os("target",d.nodeElement,b,u,f.id)}}};n.set(f.id,x),f.parentId&&fr(x,n,t,{nodeOrigin:o}),a=!0,C&&(s.push({id:f.id,type:"dimensions",dimensions:p}),f.expandParent&&f.parentId&&A.push({id:f.id,parentId:f.parentId,rect:lt(x,o)}))}}if(A.length>0){const d=hr(A,n,t,o);s.push(...d)}return{changes:s,updatedInternals:a}}async function rp({delta:e,panZoom:n,transform:t,translateExtent:l,width:o,height:r}){if(!n||!e.x&&!e.y)return Promise.resolve(!1);const i=await n.setViewportConstrained({x:t[0]+e.x,y:t[1]+e.y,zoom:t[2]},[[0,0],[o,r]],l),a=!!i&&(i.x!==t[0]||i.y!==t[1]||i.k!==t[2]);return Promise.resolve(a)}function us(e,n,t,l,o,r){let i=o;const a=l.get(i)||new Map;l.set(i,a.set(t,n)),i=`${o}-${e}`;const s=l.get(i)||new Map;if(l.set(i,s.set(t,n)),r){i=`${o}-${e}-${r}`;const c=l.get(i)||new Map;l.set(i,c.set(t,n))}}function cA(e,n,t){e.clear(),n.clear();for(const l of t){const{source:o,target:r,sourceHandle:i=null,targetHandle:a=null}=l,s={edgeId:l.id,source:o,target:r,sourceHandle:i,targetHandle:a},c=`${o}-${i}--${r}-${a}`,u=`${r}-${a}--${o}-${i}`;us("source",s,u,e,o,i),us("target",s,c,e,r,a),n.set(l.id,l)}}function AA(e,n){if(!e.parentId)return!1;const t=n.get(e.parentId);return t?t.selected?!0:AA(t,n):!1}function ds(e,n,t){let l=e;do{if(l?.matches?.(n))return!0;if(l===t)return!1;l=l?.parentElement}while(l);return!1}function sp(e,n,t,l){const o=new Map;for(const[r,i]of e)if((i.selected||i.id===l)&&(!i.parentId||!AA(i,e))&&(i.draggable||n&&typeof i.draggable>"u")){const a=e.get(r);a&&o.set(r,{id:r,position:a.position||{x:0,y:0},distance:{x:t.x-a.internals.positionAbsolute.x,y:t.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return o}function No({nodeId:e,dragItems:n,nodeLookup:t,dragging:l=!0}){const o=[];for(const[i,a]of n){const s=t.get(i)?.internals.userNode;s&&o.push({...s,position:a.position,dragging:l})}if(!e)return[o[0],o];const r=t.get(e)?.internals.userNode;return[r?{...r,position:n.get(e)?.position||r.position,dragging:l}:o[0],o]}function ap({onNodeMouseDown:e,getStoreItems:n,onDragStart:t,onDrag:l,onDragStop:o}){let r={x:null,y:null},i=0,a=new Map,s=!1,c={x:0,y:0},u=null,A=!1,d=null,f=!1,p=!1;function C({noDragClassName:b,handleSelector:E,domNode:g,isSelectable:x,nodeId:N,nodeClickDistance:B=0}){d=Re(g);function R({x:k,y:D},z){const{nodeLookup:S,nodeExtent:T,snapGrid:F,snapToGrid:G,nodeOrigin:$,onNodeDrag:H,onSelectionDrag:Y,onError:U,updateNodePositions:W}=n();r={x:k,y:D};let j=!1,L={x:0,y:0,x2:0,y2:0};if(a.size>1&&T){const V=Vt(a);L=Fi(V)}for(const[V,q]of a){if(!S.has(V))continue;let J={x:k-q.distance.x,y:D-q.distance.y};G&&(J=Kl(J,F));let Z=[[T[0][0],T[0][1]],[T[1][0],T[1][1]]];if(a.size>1&&T&&!q.extent){const{positionAbsolute:de}=q.internals,te=de.x-L.x+T[0][0],ae=de.x+q.measured.width-L.x2+T[1][0],re=de.y-L.y+T[0][1],pe=de.y+q.measured.height-L.y2+T[1][1];Z=[[te,re],[ae,pe]]}const{position:ne,positionAbsolute:ue}=Yc({nodeId:V,nextPosition:J,nodeLookup:S,nodeExtent:Z,nodeOrigin:$,onError:U});j=j||q.position.x!==ne.x||q.position.y!==ne.y,q.position=ne,q.internals.positionAbsolute=ue}if(p=p||j,!!j&&(W(a,!0),z&&(l||H||!N&&Y))){const[V,q]=No({nodeId:N,dragItems:a,nodeLookup:S});l?.(z,a,V,q),H?.(z,V,q),N||Y?.(z,q)}}async function v(){if(!u)return;const{transform:k,panBy:D,autoPanSpeed:z,autoPanOnNodeDrag:S}=n();if(!S){s=!1,cancelAnimationFrame(i);return}const[T,F]=Kc(c,u,z);(T!==0||F!==0)&&(r.x=(r.x??0)-T/k[2],r.y=(r.y??0)-F/k[2],await D({x:T,y:F})&&R(r,null)),i=requestAnimationFrame(v)}function I(k){const{nodeLookup:D,multiSelectionActive:z,nodesDraggable:S,transform:T,snapGrid:F,snapToGrid:G,selectNodesOnDrag:$,onNodeDragStart:H,onSelectionDragStart:Y,unselectNodesAndEdges:U}=n();A=!0,(!$||!x)&&!z&&N&&(D.get(N)?.selected||U()),x&&$&&N&&e?.(N);const W=Mt(k.sourceEvent,{transform:T,snapGrid:F,snapToGrid:G,containerBounds:u});if(r=W,a=sp(D,S,W,N),a.size>0&&(t||H||!N&&Y)){const[j,L]=No({nodeId:N,dragItems:a,nodeLookup:D});t?.(k.sourceEvent,a,j,L),H?.(k.sourceEvent,j,L),N||Y?.(k.sourceEvent,L)}}const w=Tc().clickDistance(B).on("start",k=>{const{domNode:D,nodeDragThreshold:z,transform:S,snapGrid:T,snapToGrid:F}=n();u=D?.getBoundingClientRect()||null,f=!1,p=!1,z===0&&I(k),r=Mt(k.sourceEvent,{transform:S,snapGrid:T,snapToGrid:F,containerBounds:u}),c=nn(k.sourceEvent,u)}).on("drag",k=>{const{autoPanOnNodeDrag:D,transform:z,snapGrid:S,snapToGrid:T,nodeDragThreshold:F,nodeLookup:G}=n(),$=Mt(k.sourceEvent,{transform:z,snapGrid:S,snapToGrid:T,containerBounds:u});if((k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||N&&!G.has(N))&&(f=!0),!f){if(!s&&D&&A&&(s=!0,v()),!A){const H=$.xSnapped-(r.x??0),Y=$.ySnapped-(r.y??0);Math.sqrt(H*H+Y*Y)>F&&I(k)}(r.x!==$.xSnapped||r.y!==$.ySnapped)&&a&&A&&(c=nn(k.sourceEvent,u),R($,k.sourceEvent))}}).on("end",k=>{if(!(!A||f)&&(s=!1,A=!1,cancelAnimationFrame(i),a.size>0)){const{nodeLookup:D,updateNodePositions:z,onNodeDragStop:S,onSelectionDragStop:T}=n();if(p&&(z(a,!1),p=!1),o||S||!N&&T){const[F,G]=No({nodeId:N,dragItems:a,nodeLookup:D,dragging:!1});o?.(k.sourceEvent,a,F,G),S?.(k.sourceEvent,F,G),N||T?.(k.sourceEvent,G)}}}).filter(k=>{const D=k.target;return!k.button&&(!b||!ds(D,`.${b}`,g))&&(!E||ds(D,E,g))});d.call(w)}function y(){d?.on(".drag",null)}return{update:C,destroy:y}}function cp(e,n,t){const l=[],o={x:e.x-t,y:e.y-t,width:t*2,height:t*2};for(const r of n.values())Ft(o,lt(r))>0&&l.push(r);return l}const Ap=250;function up(e,n,t,l){let o=[],r=1/0;const i=cp(e,t,n+Ap);for(const a of i){const s=[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]];for(const c of s){if(l.nodeId===c.nodeId&&l.type===c.type&&l.id===c.id)continue;const{x:u,y:A}=Lt(a,c,c.position,!0),d=Math.sqrt(Math.pow(u-e.x,2)+Math.pow(A-e.y,2));d>n||(d<r?(o=[{...c,x:u,y:A}],r=d):d===r&&o.push({...c,x:u,y:A}))}}if(!o.length)return null;if(o.length>1){const a=l.type==="source"?"target":"source";return o.find(s=>s.type===a)??o[0]}return o[0]}function uA(e,n,t,l,o,r=!1){const i=l.get(e);if(!i)return null;const a=o==="strict"?i.internals.handleBounds?.[n]:[...i.internals.handleBounds?.source??[],...i.internals.handleBounds?.target??[]],s=(t?a?.find(c=>c.id===t):a?.[0])??null;return s&&r?{...s,...Lt(i,s,s.position,!0)}:s}function dA(e,n){return e||(n?.classList.contains("target")?"target":n?.classList.contains("source")?"source":null)}function dp(e,n){let t=null;return n?t=!0:e&&!n&&(t=!1),t}const mA=()=>!0;function mp(e,{connectionMode:n,connectionRadius:t,handleId:l,nodeId:o,edgeUpdaterType:r,isTarget:i,domNode:a,nodeLookup:s,lib:c,autoPanOnConnect:u,flowId:A,panBy:d,cancelConnection:f,onConnectStart:p,onConnect:C,onConnectEnd:y,isValidConnection:b=mA,onReconnectEnd:E,updateConnection:g,getTransform:x,getFromHandle:N,autoPanSpeed:B,dragThreshold:R=1}){const v=eA(e.target);let I=0,w;const{x:k,y:D}=nn(e),z=v?.elementFromPoint(k,D),S=dA(r,z),T=a?.getBoundingClientRect();let F=!1;if(!T||!S)return;const G=uA(o,S,l,s,n);if(!G)return;let $=nn(e,T),H=!1,Y=null,U=!1,W=null;function j(){if(!u||!T)return;const[de,te]=Kc($,T,B);d({x:de,y:te}),I=requestAnimationFrame(j)}const L={...G,nodeId:o,type:S,position:G.position},V=s.get(o);let J={inProgress:!0,isValid:null,from:Lt(V,L,Ae.Left,!0),fromHandle:L,fromPosition:L.position,fromNode:V,to:$,toHandle:null,toPosition:es[L.position],toNode:null};function Z(){F=!0,g(J),p?.(e,{nodeId:o,handleId:l,handleType:S})}R===0&&Z();function ne(de){if(!F){const{x:pe,y:xe}=nn(de),Me=pe-k,Qe=xe-D;if(!(Me*Me+Qe*Qe>R*R))return;Z()}if(!N()||!L){ue(de);return}const te=x();$=nn(de,T),w=up(Ht($,te,!1,[1,1]),t,s,L),H||(j(),H=!0);const ae=fA(de,{handle:w,connectionMode:n,fromNodeId:o,fromHandleId:l,fromType:i?"target":"source",isValidConnection:b,doc:v,lib:c,flowId:A,nodeLookup:s});W=ae.handleDomNode,Y=ae.connection,U=dp(!!w,ae.isValid);const re={...J,isValid:U,to:ae.toHandle&&U?Bl({x:ae.toHandle.x,y:ae.toHandle.y},te):$,toHandle:ae.toHandle,toPosition:U&&ae.toHandle?ae.toHandle.position:es[L.position],toNode:ae.toHandle?s.get(ae.toHandle.nodeId):null};U&&w&&J.toHandle&&re.toHandle&&J.toHandle.type===re.toHandle.type&&J.toHandle.nodeId===re.toHandle.nodeId&&J.toHandle.id===re.toHandle.id&&J.to.x===re.to.x&&J.to.y===re.to.y||(g(re),J=re)}function ue(de){if(F){(w||W)&&Y&&U&&C?.(Y);const{inProgress:te,...ae}=J,re={...ae,toPosition:J.toHandle?J.toPosition:null};y?.(de,re),r&&E?.(de,re)}f(),cancelAnimationFrame(I),H=!1,U=!1,Y=null,W=null,v.removeEventListener("mousemove",ne),v.removeEventListener("mouseup",ue),v.removeEventListener("touchmove",ne),v.removeEventListener("touchend",ue)}v.addEventListener("mousemove",ne),v.addEventListener("mouseup",ue),v.addEventListener("touchmove",ne),v.addEventListener("touchend",ue)}function fA(e,{handle:n,connectionMode:t,fromNodeId:l,fromHandleId:o,fromType:r,doc:i,lib:a,flowId:s,isValidConnection:c=mA,nodeLookup:u}){const A=r==="target",d=n?i.querySelector(`.${a}-flow__handle[data-id="${s}-${n?.nodeId}-${n?.id}-${n?.type}"]`):null,{x:f,y:p}=nn(e),C=i.elementFromPoint(f,p),y=C?.classList.contains(`${a}-flow__handle`)?C:d,b={handleDomNode:y,isValid:!1,connection:null,toHandle:null};if(y){const E=dA(void 0,y),g=y.getAttribute("data-nodeid"),x=y.getAttribute("data-handleid"),N=y.classList.contains("connectable"),B=y.classList.contains("connectableend");if(!g||!E)return b;const R={source:A?g:l,sourceHandle:A?x:o,target:A?l:g,targetHandle:A?o:x};b.connection=R;const I=N&&B&&(t===nt.Strict?A&&E==="source"||!A&&E==="target":g!==l||x!==o);b.isValid=I&&c(R),b.toHandle=uA(g,E,x,u,t,!0)}return b}const zi={onPointerDown:mp,isValid:fA};function fp({domNode:e,panZoom:n,getTransform:t,getViewScale:l}){const o=Re(e);function r({translateExtent:a,width:s,height:c,zoomStep:u=10,pannable:A=!0,zoomable:d=!0,inversePan:f=!1}){const p=g=>{const x=t();if(g.sourceEvent.type!=="wheel"||!n)return;const N=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*u,B=x[2]*Math.pow(2,N);n.scaleTo(B)};let C=[0,0];const y=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(C=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},b=g=>{const x=t();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!n)return;const N=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],B=[N[0]-C[0],N[1]-C[1]];C=N;const R=l()*Math.max(x[2],Math.log(x[2]))*(f?-1:1),v={x:x[0]-B[0]*R,y:x[1]-B[1]*R},I=[[0,0],[s,c]];n.setViewportConstrained({x:v.x,y:v.y,zoom:x[2]},I,a)},E=Uc().on("start",y).on("zoom",A?b:null).on("zoom.wheel",d?p:null);o.call(E,{})}function i(){o.on("zoom",null)}return{update:r,destroy:i,pointer:Ke}}const hp=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,Xl=e=>({x:e.x,y:e.y,zoom:e.k}),Mo=({x:e,y:n,zoom:t})=>ql.translate(e,n).scale(t),Yn=(e,n)=>e.target.closest(`.${n}`),hA=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),pp=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Io=(e,n=0,t=pp,l=()=>{})=>{const o=typeof n=="number"&&n>0;return o||l(),o?e.transition().duration(n).ease(t).on("end",l):e},pA=e=>{const n=e.ctrlKey&&Dl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n};function gp({zoomPanValues:e,noWheelClassName:n,d3Selection:t,d3Zoom:l,panOnScrollMode:o,panOnScrollSpeed:r,zoomOnPinch:i,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:c}){return u=>{if(Yn(u,n))return!1;u.preventDefault(),u.stopImmediatePropagation();const A=t.property("__zoom").k||1;if(u.ctrlKey&&i){const y=Ke(u),b=pA(u),E=A*Math.pow(2,b);l.scaleTo(t,E,y,u);return}const d=u.deltaMode===1?20:1;let f=o===Rn.Vertical?0:u.deltaX*d,p=o===Rn.Horizontal?0:u.deltaY*d;!Dl()&&u.shiftKey&&o!==Rn.Vertical&&(f=u.deltaY*d,p=0),l.translateBy(t,-(f/A)*r,-(p/A)*r,{internal:!0});const C=Xl(t.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a?.(u,C)),e.isPanScrolling&&(s?.(u,C),e.panScrollTimeout=setTimeout(()=>{c?.(u,C),e.isPanScrolling=!1},150))}}function Cp({noWheelClassName:e,preventScrolling:n,d3ZoomHandler:t}){return function(l,o){const r=l.type==="wheel",i=!n&&r&&!l.ctrlKey,a=Yn(l,e);if(l.ctrlKey&&r&&a&&l.preventDefault(),i||a)return null;l.preventDefault(),t.call(this,l,o)}}function yp({zoomPanValues:e,onDraggingChange:n,onPanZoomStart:t}){return l=>{if(l.sourceEvent?.internal)return;const o=Xl(l.transform);e.mouseButton=l.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,l.sourceEvent?.type==="mousedown"&&n(!0),t&&t?.(l.sourceEvent,o)}}function bp({zoomPanValues:e,panOnDrag:n,onPaneContextMenu:t,onTransformChange:l,onPanZoom:o}){return r=>{e.usedRightMouseButton=!!(t&&hA(n,e.mouseButton??0)),r.sourceEvent?.sync||l([r.transform.x,r.transform.y,r.transform.k]),o&&!r.sourceEvent?.internal&&o?.(r.sourceEvent,Xl(r.transform))}}function xp({zoomPanValues:e,panOnDrag:n,panOnScroll:t,onDraggingChange:l,onPanZoomEnd:o,onPaneContextMenu:r}){return i=>{if(!i.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,r&&hA(n,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&r(i.sourceEvent),e.usedRightMouseButton=!1,l(!1),o&&hp(e.prevViewport,i.transform))){const a=Xl(i.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(i.sourceEvent,a)},t?150:0)}}}function Ep({zoomActivationKeyPressed:e,zoomOnScroll:n,zoomOnPinch:t,panOnDrag:l,panOnScroll:o,zoomOnDoubleClick:r,userSelectionActive:i,noWheelClassName:a,noPanClassName:s,lib:c}){return u=>{const A=e||n,d=t&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(Yn(u,`${c}-flow__node`)||Yn(u,`${c}-flow__edge`)))return!0;if(!l&&!A&&!o&&!r&&!t||i||Yn(u,a)&&u.type==="wheel"||Yn(u,s)&&(u.type!=="wheel"||o&&u.type==="wheel"&&!e)||!t&&u.ctrlKey&&u.type==="wheel")return!1;if(!t&&u.type==="touchstart"&&u.touches?.length>1)return u.preventDefault(),!1;if(!A&&!o&&!d&&u.type==="wheel"||!l&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(l)&&!l.includes(u.button)&&u.type==="mousedown")return!1;const f=Array.isArray(l)&&l.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&f}}function vp({domNode:e,minZoom:n,maxZoom:t,paneClickDistance:l,translateExtent:o,viewport:r,onPanZoom:i,onPanZoomStart:a,onPanZoomEnd:s,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},A=e.getBoundingClientRect(),d=Uc().clickDistance(!Xe(l)||l<0?0:l).scaleExtent([n,t]).translateExtent(o),f=Re(e).call(d);g({x:r.x,y:r.y,zoom:tt(r.zoom,n,t)},[[0,0],[A.width,A.height]],o);const p=f.on("wheel.zoom"),C=f.on("dblclick.zoom");d.wheelDelta(pA);function y(D,z){return f?new Promise(S=>{d?.interpolate(z?.interpolate==="linear"?mo:pl).transform(Io(f,z?.duration,z?.ease,()=>S(!0)),D)}):Promise.resolve(!1)}function b({noWheelClassName:D,noPanClassName:z,onPaneContextMenu:S,userSelectionActive:T,panOnScroll:F,panOnDrag:G,panOnScrollMode:$,panOnScrollSpeed:H,preventScrolling:Y,zoomOnPinch:U,zoomOnScroll:W,zoomOnDoubleClick:j,zoomActivationKeyPressed:L,lib:V,onTransformChange:q}){T&&!u.isZoomingOrPanning&&E();const Z=F&&!L&&!T?gp({zoomPanValues:u,noWheelClassName:D,d3Selection:f,d3Zoom:d,panOnScrollMode:$,panOnScrollSpeed:H,zoomOnPinch:U,onPanZoomStart:a,onPanZoom:i,onPanZoomEnd:s}):Cp({noWheelClassName:D,preventScrolling:Y,d3ZoomHandler:p});if(f.on("wheel.zoom",Z,{passive:!1}),!T){const ue=yp({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});d.on("start",ue);const de=bp({zoomPanValues:u,panOnDrag:G,onPaneContextMenu:!!S,onPanZoom:i,onTransformChange:q});d.on("zoom",de);const te=xp({zoomPanValues:u,panOnDrag:G,panOnScroll:F,onPaneContextMenu:S,onPanZoomEnd:s,onDraggingChange:c});d.on("end",te)}const ne=Ep({zoomActivationKeyPressed:L,panOnDrag:G,zoomOnScroll:W,panOnScroll:F,zoomOnDoubleClick:j,zoomOnPinch:U,userSelectionActive:T,noPanClassName:z,noWheelClassName:D,lib:V});d.filter(ne),j?f.on("dblclick.zoom",C):f.on("dblclick.zoom",null)}function E(){d.on("zoom",null)}async function g(D,z,S){const T=Mo(D),F=d?.constrain()(T,z,S);return F&&await y(F),new Promise(G=>G(F))}async function x(D,z){const S=Mo(D);return await y(S,z),new Promise(T=>T(S))}function N(D){if(f){const z=Mo(D),S=f.property("__zoom");(S.k!==D.zoom||S.x!==D.x||S.y!==D.y)&&d?.transform(f,z,null,{sync:!0})}}function B(){const D=f?zc(f.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function R(D,z){return f?new Promise(S=>{d?.interpolate(z?.interpolate==="linear"?mo:pl).scaleTo(Io(f,z?.duration,z?.ease,()=>S(!0)),D)}):Promise.resolve(!1)}function v(D,z){return f?new Promise(S=>{d?.interpolate(z?.interpolate==="linear"?mo:pl).scaleBy(Io(f,z?.duration,z?.ease,()=>S(!0)),D)}):Promise.resolve(!1)}function I(D){d?.scaleExtent(D)}function w(D){d?.translateExtent(D)}function k(D){const z=!Xe(D)||D<0?0:D;d?.clickDistance(z)}return{update:b,destroy:E,setViewport:x,setViewportConstrained:g,getViewport:B,scaleTo:R,scaleBy:v,setScaleExtent:I,setTranslateExtent:w,syncViewport:N,setClickDistance:k}}var it;(function(e){e.Line="line",e.Handle="handle"})(it||(it={}));function wp({width:e,prevWidth:n,height:t,prevHeight:l,affectsX:o,affectsY:r}){const i=e-n,a=t-l,s=[i>0?1:i<0?-1:0,a>0?1:a<0?-1:0];return i&&o&&(s[0]=s[0]*-1),a&&r&&(s[1]=s[1]*-1),s}function _p(e){const n=e.includes("right")||e.includes("left"),t=e.includes("bottom")||e.includes("top"),l=e.includes("left"),o=e.includes("top");return{isHorizontal:n,isVertical:t,affectsX:l,affectsY:o}}function yn(e,n){return Math.max(0,n-e)}function bn(e,n){return Math.max(0,e-n)}function ul(e,n,t){return Math.max(0,n-e,e-t)}function ms(e,n){return e?!n:n}function kp(e,n,t,l,o,r,i,a){let{affectsX:s,affectsY:c}=n;const{isHorizontal:u,isVertical:A}=n,d=u&&A,{xSnapped:f,ySnapped:p}=t,{minWidth:C,maxWidth:y,minHeight:b,maxHeight:E}=l,{x:g,y:x,width:N,height:B,aspectRatio:R}=e;let v=Math.floor(u?f-e.pointerX:0),I=Math.floor(A?p-e.pointerY:0);const w=N+(s?-v:v),k=B+(c?-I:I),D=-r[0]*N,z=-r[1]*B;let S=ul(w,C,y),T=ul(k,b,E);if(i){let $=0,H=0;s&&v<0?$=yn(g+v+D,i[0][0]):!s&&v>0&&($=bn(g+w+D,i[1][0])),c&&I<0?H=yn(x+I+z,i[0][1]):!c&&I>0&&(H=bn(x+k+z,i[1][1])),S=Math.max(S,$),T=Math.max(T,H)}if(a){let $=0,H=0;s&&v>0?$=bn(g+v,a[0][0]):!s&&v<0&&($=yn(g+w,a[1][0])),c&&I>0?H=bn(x+I,a[0][1]):!c&&I<0&&(H=yn(x+k,a[1][1])),S=Math.max(S,$),T=Math.max(T,H)}if(o){if(u){const $=ul(w/R,b,E)*R;if(S=Math.max(S,$),i){let H=0;!s&&!c||s&&!c&&d?H=bn(x+z+w/R,i[1][1])*R:H=yn(x+z+(s?v:-v)/R,i[0][1])*R,S=Math.max(S,H)}if(a){let H=0;!s&&!c||s&&!c&&d?H=yn(x+w/R,a[1][1])*R:H=bn(x+(s?v:-v)/R,a[0][1])*R,S=Math.max(S,H)}}if(A){const $=ul(k*R,C,y)/R;if(T=Math.max(T,$),i){let H=0;!s&&!c||c&&!s&&d?H=bn(g+k*R+D,i[1][0])/R:H=yn(g+(c?I:-I)*R+D,i[0][0])/R,T=Math.max(T,H)}if(a){let H=0;!s&&!c||c&&!s&&d?H=yn(g+k*R,a[1][0])/R:H=bn(g+(c?I:-I)*R,a[0][0])/R,T=Math.max(T,H)}}}I=I+(I<0?T:-T),v=v+(v<0?S:-S),o&&(d?w>k*R?I=(ms(s,c)?-v:v)/R:v=(ms(s,c)?-I:I)*R:u?(I=v/R,c=s):(v=I*R,s=c));const F=s?g+v:g,G=c?x+I:x;return{width:N+(s?-v:v),height:B+(c?-I:I),x:r[0]*v*(s?-1:1)+F,y:r[1]*I*(c?-1:1)+G}}const gA={width:0,height:0,x:0,y:0},Sp={...gA,pointerX:0,pointerY:0,aspectRatio:1};function Np(e){return[[0,0],[e.measured.width,e.measured.height]]}function Mp(e,n,t){const l=n.position.x+e.position.x,o=n.position.y+e.position.y,r=e.measured.width??0,i=e.measured.height??0,a=t[0]*r,s=t[1]*i;return[[l-a,o-s],[l+r-a,o+i-s]]}function Ip({domNode:e,nodeId:n,getStoreItems:t,onChange:l,onEnd:o}){const r=Re(e);function i({controlPosition:s,boundaries:c,keepAspectRatio:u,resizeDirection:A,onResizeStart:d,onResize:f,onResizeEnd:p,shouldResize:C}){let y={...gA},b={...Sp};const E=_p(s);let g,x=null,N=[],B,R,v;const I=Tc().on("start",w=>{const{nodeLookup:k,transform:D,snapGrid:z,snapToGrid:S,nodeOrigin:T,paneDomNode:F}=t();if(g=k.get(n),!g)return;x=F?.getBoundingClientRect()??null;const{xSnapped:G,ySnapped:$}=Mt(w.sourceEvent,{transform:D,snapGrid:z,snapToGrid:S,containerBounds:x});y={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},b={...y,pointerX:G,pointerY:$,aspectRatio:y.width/y.height},B=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(B=k.get(g.parentId),R=B&&g.extent==="parent"?Np(B):void 0),N=[],v=void 0;for(const[H,Y]of k)if(Y.parentId===n&&(N.push({id:H,position:{...Y.position},extent:Y.extent}),Y.extent==="parent"||Y.expandParent)){const U=Mp(Y,g,Y.origin??T);v?v=[[Math.min(U[0][0],v[0][0]),Math.min(U[0][1],v[0][1])],[Math.max(U[1][0],v[1][0]),Math.max(U[1][1],v[1][1])]]:v=U}d?.(w,{...y})}).on("drag",w=>{const{transform:k,snapGrid:D,snapToGrid:z,nodeOrigin:S}=t(),T=Mt(w.sourceEvent,{transform:k,snapGrid:D,snapToGrid:z,containerBounds:x}),F=[];if(!g)return;const{x:G,y:$,width:H,height:Y}=y,U={},W=g.origin??S,{width:j,height:L,x:V,y:q}=kp(b,E,T,c,u,W,R,v),J=j!==H,Z=L!==Y,ne=V!==G&&J,ue=q!==$&&Z;if(!ne&&!ue&&!J&&!Z)return;if((ne||ue||W[0]===1||W[1]===1)&&(U.x=ne?V:y.x,U.y=ue?q:y.y,y.x=U.x,y.y=U.y,N.length>0)){const re=V-G,pe=q-$;for(const xe of N)xe.position={x:xe.position.x-re+W[0]*(j-H),y:xe.position.y-pe+W[1]*(L-Y)},F.push(xe)}if((J||Z)&&(U.width=J&&(!A||A==="horizontal")?j:y.width,U.height=Z&&(!A||A==="vertical")?L:y.height,y.width=U.width,y.height=U.height),B&&g.expandParent){const re=W[0]*(U.width??0);U.x&&U.x<re&&(y.x=re,b.x=b.x-(U.x-re));const pe=W[1]*(U.height??0);U.y&&U.y<pe&&(y.y=pe,b.y=b.y-(U.y-pe))}const de=wp({width:y.width,prevWidth:H,height:y.height,prevHeight:Y,affectsX:E.affectsX,affectsY:E.affectsY}),te={...y,direction:de};C?.(w,te)!==!1&&(f?.(w,te),l(U,F))}).on("end",w=>{p?.(w,{...y}),o?.({...y})});r.call(I)}function a(){r.on(".drag",null)}return{update:i,destroy:a}}const Bp={},fs=e=>{let n;const t=new Set,l=(u,A)=>{const d=typeof u=="function"?u(n):u;if(!Object.is(d,n)){const f=n;n=A??(typeof d!="object"||d===null)?d:Object.assign({},n,d),t.forEach(p=>p(n,f))}},o=()=>n,s={setState:l,getState:o,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{(Bp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},c=n=e(l,o,s);return s},Dp=e=>e?fs(e):fs,{useDebugValue:Tp}=Ra,{useSyncExternalStoreWithSelector:Op}=Vu,jp=e=>e;function CA(e,n=jp,t){const l=Op(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,t);return Tp(l),l}const hs=(e,n)=>{const t=Dp(e),l=(o,r=n)=>CA(t,o,r);return Object.assign(l,t),l},Rp=(e,n)=>e?hs(e,n):hs;function be(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[l,o]of e)if(!Object.is(o,n.get(l)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const l of e)if(!n.has(l))return!1;return!0}const t=Object.keys(e);if(t.length!==Object.keys(n).length)return!1;for(const l of t)if(!Object.prototype.hasOwnProperty.call(n,l)||!Object.is(e[l],n[l]))return!1;return!0}const Zl=O.createContext(null),Fp=Zl.Provider,yA=tn.error001();function he(e,n){const t=O.useContext(Zl);if(t===null)throw new Error(yA);return CA(t,e,n)}function ye(){const e=O.useContext(Zl);if(e===null)throw new Error(yA);return O.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const ps={display:"none"},Lp={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},bA="react-flow__node-desc",xA="react-flow__edge-desc",Pp="react-flow__aria-live",Gp=e=>e.ariaLiveMessage,zp=e=>e.ariaLabelConfig;function Up({rfId:e}){const n=he(Gp);return m.jsx("div",{id:`${Pp}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Lp,children:n})}function Qp({rfId:e,disableKeyboardA11y:n}){const t=he(zp);return m.jsxs(m.Fragment,{children:[m.jsx("div",{id:`${bA}-${e}`,style:ps,children:n?t["node.a11yDescription.default"]:t["node.a11yDescription.keyboardDisabled"]}),m.jsx("div",{id:`${xA}-${e}`,style:ps,children:t["edge.a11yDescription.default"]}),!n&&m.jsx(Up,{rfId:e})]})}const $t=O.forwardRef(({position:e="top-left",children:n,className:t,style:l,...o},r)=>{const i=`${e}`.split("-");return m.jsx("div",{className:ke(["react-flow__panel",t,...i]),style:l,ref:r,...o,children:n})});$t.displayName="Panel";function Vp({proOptions:e,position:n="bottom-right"}){return e?.hideAttribution?null:m.jsx($t,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Hp=e=>{const n=[],t=[];for(const[,l]of e.nodeLookup)l.selected&&n.push(l.internals.userNode);for(const[,l]of e.edgeLookup)l.selected&&t.push(l);return{selectedNodes:n,selectedEdges:t}},dl=e=>e.id;function $p(e,n){return be(e.selectedNodes.map(dl),n.selectedNodes.map(dl))&&be(e.selectedEdges.map(dl),n.selectedEdges.map(dl))}function qp({onSelectionChange:e}){const n=ye(),{selectedNodes:t,selectedEdges:l}=he(Hp,$p);return O.useEffect(()=>{const o={nodes:t,edges:l};e?.(o),n.getState().onSelectionChangeHandlers.forEach(r=>r(o))},[t,l,e]),null}const Yp=e=>!!e.onSelectionChangeHandlers;function Wp({onSelectionChange:e}){const n=he(Yp);return e||n?m.jsx(qp,{onSelectionChange:e}):null}const EA=[0,0],Kp={x:0,y:0,zoom:1},Xp=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],gs=[...Xp,"rfId"],Zp=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Cs={translateExtent:jt,nodeOrigin:EA,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Jp(e){const{setNodes:n,setEdges:t,setMinZoom:l,setMaxZoom:o,setTranslateExtent:r,setNodeExtent:i,reset:a,setDefaultNodesAndEdges:s,setPaneClickDistance:c}=he(Zp,be),u=ye();O.useEffect(()=>(s(e.defaultNodes,e.defaultEdges),()=>{A.current=Cs,a()}),[]);const A=O.useRef(Cs);return O.useEffect(()=>{for(const d of gs){const f=e[d],p=A.current[d];f!==p&&(typeof e[d]>"u"||(d==="nodes"?n(f):d==="edges"?t(f):d==="minZoom"?l(f):d==="maxZoom"?o(f):d==="translateExtent"?r(f):d==="nodeExtent"?i(f):d==="paneClickDistance"?c(f):d==="ariaLabelConfig"?u.setState({ariaLabelConfig:Vh(f)}):d==="fitView"?u.setState({fitViewQueued:f}):d==="fitViewOptions"?u.setState({fitViewOptions:f}):u.setState({[d]:f})))}A.current=e},gs.map(d=>e[d])),null}function ys(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function e3(e){const[n,t]=O.useState(e==="system"?null:e);return O.useEffect(()=>{if(e!=="system"){t(e);return}const l=ys(),o=()=>t(l?.matches?"dark":"light");return o(),l?.addEventListener("change",o),()=>{l?.removeEventListener("change",o)}},[e]),n!==null?n:ys()?.matches?"dark":"light"}const bs=typeof document<"u"?document:null;function Pt(e=null,n={target:bs,actInsideInputWithModifier:!0}){const[t,l]=O.useState(!1),o=O.useRef(!1),r=O.useRef(new Set([])),[i,a]=O.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(A=>typeof A=="string").map(A=>A.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=c.reduce((A,d)=>A.concat(...d),[]);return[c,u]}return[[],[]]},[e]);return O.useEffect(()=>{const s=n?.target??bs,c=n?.actInsideInputWithModifier??!0;if(e!==null){const u=f=>{if(o.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!o.current||o.current&&!c)&&nA(f))return!1;const C=Es(f.code,a);if(r.current.add(f[C]),xs(i,r.current,!1)){const y=f.composedPath?.()?.[0]||f.target,b=y?.nodeName==="BUTTON"||y?.nodeName==="A";n.preventDefault!==!1&&(o.current||!b)&&f.preventDefault(),l(!0)}},A=f=>{const p=Es(f.code,a);xs(i,r.current,!0)?(l(!1),r.current.clear()):r.current.delete(f[p]),f.key==="Meta"&&r.current.clear(),o.current=!1},d=()=>{r.current.clear(),l(!1)};return s?.addEventListener("keydown",u),s?.addEventListener("keyup",A),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{s?.removeEventListener("keydown",u),s?.removeEventListener("keyup",A),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,l]),t}function xs(e,n,t){return e.filter(l=>t||l.length===n.size).some(l=>l.every(o=>n.has(o)))}function Es(e,n){return n.includes(e)?"code":"key"}const n3=()=>{const e=ye();return O.useMemo(()=>({zoomIn:n=>{const{panZoom:t}=e.getState();return t?t.scaleBy(1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomOut:n=>{const{panZoom:t}=e.getState();return t?t.scaleBy(1/1.2,{duration:n?.duration}):Promise.resolve(!1)},zoomTo:(n,t)=>{const{panZoom:l}=e.getState();return l?l.scaleTo(n,{duration:t?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(n,t)=>{const{transform:[l,o,r],panZoom:i}=e.getState();return i?(await i.setViewport({x:n.x??l,y:n.y??o,zoom:n.zoom??r},t),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[n,t,l]=e.getState().transform;return{x:n,y:t,zoom:l}},setCenter:async(n,t,l)=>e.getState().setCenter(n,t,l),fitBounds:async(n,t)=>{const{width:l,height:o,minZoom:r,maxZoom:i,panZoom:a}=e.getState(),s=Ar(n,l,o,r,i,t?.padding??.1);return a?(await a.setViewport(s,{duration:t?.duration,ease:t?.ease,interpolate:t?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(n,t={})=>{const{transform:l,snapGrid:o,snapToGrid:r,domNode:i}=e.getState();if(!i)return n;const{x:a,y:s}=i.getBoundingClientRect(),c={x:n.x-a,y:n.y-s},u=t.snapGrid??o,A=t.snapToGrid??r;return Ht(c,l,A,u)},flowToScreenPosition:n=>{const{transform:t,domNode:l}=e.getState();if(!l)return n;const{x:o,y:r}=l.getBoundingClientRect(),i=Bl(n,t);return{x:i.x+o,y:i.y+r}}}),[])};function vA(e,n){const t=[],l=new Map,o=[];for(const r of e)if(r.type==="add"){o.push(r);continue}else if(r.type==="remove"||r.type==="replace")l.set(r.id,[r]);else{const i=l.get(r.id);i?i.push(r):l.set(r.id,[r])}for(const r of n){const i=l.get(r.id);if(!i){t.push(r);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){t.push({...i[0].item});continue}const a={...r};for(const s of i)t3(s,a);t.push(a)}return o.length&&o.forEach(r=>{r.index!==void 0?t.splice(r.index,0,{...r.item}):t.push({...r.item})}),t}function t3(e,n){switch(e.type){case"select":{n.selected=e.selected;break}case"position":{typeof e.position<"u"&&(n.position=e.position),typeof e.dragging<"u"&&(n.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(n.measured??={},n.measured.width=e.dimensions.width,n.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(n.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(n.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(n.resizing=e.resizing);break}}}function wA(e,n){return vA(e,n)}function _A(e,n){return vA(e,n)}function On(e,n){return{id:e,type:"select",selected:n}}function Wn(e,n=new Set,t=!1){const l=[];for(const[o,r]of e){const i=n.has(o);!(r.selected===void 0&&!i)&&r.selected!==i&&(t&&(r.selected=i),l.push(On(r.id,i)))}return l}function vs({items:e=[],lookup:n}){const t=[],l=new Map(e.map(o=>[o.id,o]));for(const[o,r]of e.entries()){const i=n.get(r.id),a=i?.internals?.userNode??i;a!==void 0&&a!==r&&t.push({id:r.id,item:r,type:"replace"}),a===void 0&&t.push({item:r,type:"add",index:o})}for(const[o]of n)l.get(o)===void 0&&t.push({id:o,type:"remove"});return t}function ws(e){return{id:e.id,type:"remove"}}const _s=e=>Oh(e),l3=e=>qc(e);function kA(e){return O.forwardRef(e)}const o3=typeof window<"u"?O.useLayoutEffect:O.useEffect;function ks(e){const[n,t]=O.useState(BigInt(0)),[l]=O.useState(()=>i3(()=>t(o=>o+BigInt(1))));return o3(()=>{const o=l.get();o.length&&(e(o),l.reset())},[n]),l}function i3(e){let n=[];return{get:()=>n,reset:()=>{n=[]},push:t=>{n.push(t),e()}}}const SA=O.createContext(null);function r3({children:e}){const n=ye(),t=O.useCallback(a=>{const{nodes:s=[],setNodes:c,hasDefaultNodes:u,onNodesChange:A,nodeLookup:d,fitViewQueued:f}=n.getState();let p=s;for(const y of a)p=typeof y=="function"?y(p):y;const C=vs({items:p,lookup:d});u&&c(p),C.length>0?A?.(C):f&&window.requestAnimationFrame(()=>{const{fitViewQueued:y,nodes:b,setNodes:E}=n.getState();y&&E(b)})},[]),l=ks(t),o=O.useCallback(a=>{const{edges:s=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:A,edgeLookup:d}=n.getState();let f=s;for(const p of a)f=typeof p=="function"?p(f):p;u?c(f):A&&A(vs({items:f,lookup:d}))},[]),r=ks(o),i=O.useMemo(()=>({nodeQueue:l,edgeQueue:r}),[]);return m.jsx(SA.Provider,{value:i,children:e})}function s3(){const e=O.useContext(SA);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const a3=e=>!!e.panZoom;function Jl(){const e=n3(),n=ye(),t=s3(),l=he(a3),o=O.useMemo(()=>{const r=A=>n.getState().nodeLookup.get(A),i=A=>{t.nodeQueue.push(A)},a=A=>{t.edgeQueue.push(A)},s=A=>{const{nodeLookup:d,nodeOrigin:f}=n.getState(),p=_s(A)?A:d.get(A.id),C=p.parentId?Jc(p.position,p.measured,p.parentId,d,f):p.position,y={...p,position:C,width:p.measured?.width??p.width,height:p.measured?.height??p.height};return lt(y)},c=(A,d,f={replace:!1})=>{i(p=>p.map(C=>{if(C.id===A){const y=typeof d=="function"?d(C):d;return f.replace&&_s(y)?y:{...C,...y}}return C}))},u=(A,d,f={replace:!1})=>{a(p=>p.map(C=>{if(C.id===A){const y=typeof d=="function"?d(C):d;return f.replace&&l3(y)?y:{...C,...y}}return C}))};return{getNodes:()=>n.getState().nodes.map(A=>({...A})),getNode:A=>r(A)?.internals.userNode,getInternalNode:r,getEdges:()=>{const{edges:A=[]}=n.getState();return A.map(d=>({...d}))},getEdge:A=>n.getState().edgeLookup.get(A),setNodes:i,setEdges:a,addNodes:A=>{const d=Array.isArray(A)?A:[A];t.nodeQueue.push(f=>[...f,...d])},addEdges:A=>{const d=Array.isArray(A)?A:[A];t.edgeQueue.push(f=>[...f,...d])},toObject:()=>{const{nodes:A=[],edges:d=[],transform:f}=n.getState(),[p,C,y]=f;return{nodes:A.map(b=>({...b})),edges:d.map(b=>({...b})),viewport:{x:p,y:C,zoom:y}}},deleteElements:async({nodes:A=[],edges:d=[]})=>{const{nodes:f,edges:p,onNodesDelete:C,onEdgesDelete:y,triggerNodeChanges:b,triggerEdgeChanges:E,onDelete:g,onBeforeDelete:x}=n.getState(),{nodes:N,edges:B}=await Ph({nodesToRemove:A,edgesToRemove:d,nodes:f,edges:p,onBeforeDelete:x}),R=B.length>0,v=N.length>0;if(R){const I=B.map(ws);y?.(B),E(I)}if(v){const I=N.map(ws);C?.(N),b(I)}return(v||R)&&g?.({nodes:N,edges:B}),{deletedNodes:N,deletedEdges:B}},getIntersectingNodes:(A,d=!0,f)=>{const p=ts(A),C=p?A:s(A),y=f!==void 0;return C?(f||n.getState().nodes).filter(b=>{const E=n.getState().nodeLookup.get(b.id);if(E&&!p&&(b.id===A.id||!E.internals.positionAbsolute))return!1;const g=lt(y?b:E),x=Ft(g,C);return d&&x>0||x>=C.width*C.height}):[]},isNodeIntersecting:(A,d,f=!0)=>{const C=ts(A)?A:s(A);if(!C)return!1;const y=Ft(C,d);return f&&y>0||y>=C.width*C.height},updateNode:c,updateNodeData:(A,d,f={replace:!1})=>{c(A,p=>{const C=typeof d=="function"?d(p):d;return f.replace?{...p,data:C}:{...p,data:{...p.data,...C}}},f)},updateEdge:u,updateEdgeData:(A,d,f={replace:!1})=>{u(A,p=>{const C=typeof d=="function"?d(p):d;return f.replace?{...p,data:C}:{...p,data:{...p.data,...C}}},f)},getNodesBounds:A=>{const{nodeLookup:d,nodeOrigin:f}=n.getState();return jh(A,{nodeLookup:d,nodeOrigin:f})},getHandleConnections:({type:A,id:d,nodeId:f})=>Array.from(n.getState().connectionLookup.get(`${f}-${A}${d?`-${d}`:""}`)?.values()??[]),getNodeConnections:({type:A,handleId:d,nodeId:f})=>Array.from(n.getState().connectionLookup.get(`${f}${A?d?`-${A}-${d}`:`-${A}`:""}`)?.values()??[]),fitView:async A=>{const d=n.getState().fitViewResolver??Qh();return n.setState({fitViewQueued:!0,fitViewOptions:A,fitViewResolver:d}),t.nodeQueue.push(f=>[...f]),d.promise}}},[]);return O.useMemo(()=>({...o,...e,viewportInitialized:l}),[l])}const Ss=e=>e.selected,c3=typeof window<"u"?window:void 0;function A3({deleteKeyCode:e,multiSelectionKeyCode:n}){const t=ye(),{deleteElements:l}=Jl(),o=Pt(e,{actInsideInputWithModifier:!1}),r=Pt(n,{target:c3});O.useEffect(()=>{if(o){const{edges:i,nodes:a}=t.getState();l({nodes:a.filter(Ss),edges:i.filter(Ss)}),t.setState({nodesSelectionActive:!1})}},[o]),O.useEffect(()=>{t.setState({multiSelectionActive:r})},[r])}function u3(e){const n=ye();O.useEffect(()=>{const t=()=>{if(!e.current)return!1;const l=ur(e.current);(l.height===0||l.width===0)&&n.getState().onError?.("004",tn.error004()),n.setState({width:l.width||500,height:l.height||500})};if(e.current){t(),window.addEventListener("resize",t);const l=new ResizeObserver(()=>t());return l.observe(e.current),()=>{window.removeEventListener("resize",t),l&&e.current&&l.unobserve(e.current)}}},[])}const eo={position:"absolute",width:"100%",height:"100%",top:0,left:0},d3=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function m3({onPaneContextMenu:e,zoomOnScroll:n=!0,zoomOnPinch:t=!0,panOnScroll:l=!1,panOnScrollSpeed:o=.5,panOnScrollMode:r=Rn.Free,zoomOnDoubleClick:i=!0,panOnDrag:a=!0,defaultViewport:s,translateExtent:c,minZoom:u,maxZoom:A,zoomActivationKeyCode:d,preventScrolling:f=!0,children:p,noWheelClassName:C,noPanClassName:y,onViewportChange:b,isControlledViewport:E,paneClickDistance:g}){const x=ye(),N=O.useRef(null),{userSelectionActive:B,lib:R}=he(d3,be),v=Pt(d),I=O.useRef();u3(N);const w=O.useCallback(k=>{b?.({x:k[0],y:k[1],zoom:k[2]}),E||x.setState({transform:k})},[b,E]);return O.useEffect(()=>{if(N.current){I.current=vp({domNode:N.current,minZoom:u,maxZoom:A,translateExtent:c,viewport:s,paneClickDistance:g,onDraggingChange:S=>x.setState({paneDragging:S}),onPanZoomStart:(S,T)=>{const{onViewportChangeStart:F,onMoveStart:G}=x.getState();G?.(S,T),F?.(T)},onPanZoom:(S,T)=>{const{onViewportChange:F,onMove:G}=x.getState();G?.(S,T),F?.(T)},onPanZoomEnd:(S,T)=>{const{onViewportChangeEnd:F,onMoveEnd:G}=x.getState();G?.(S,T),F?.(T)}});const{x:k,y:D,zoom:z}=I.current.getViewport();return x.setState({panZoom:I.current,transform:[k,D,z],domNode:N.current.closest(".react-flow")}),()=>{I.current?.destroy()}}},[]),O.useEffect(()=>{I.current?.update({onPaneContextMenu:e,zoomOnScroll:n,zoomOnPinch:t,panOnScroll:l,panOnScrollSpeed:o,panOnScrollMode:r,zoomOnDoubleClick:i,panOnDrag:a,zoomActivationKeyPressed:v,preventScrolling:f,noPanClassName:y,userSelectionActive:B,noWheelClassName:C,lib:R,onTransformChange:w})},[e,n,t,l,o,r,i,a,v,f,y,B,C,R,w]),m.jsx("div",{className:"react-flow__renderer",ref:N,style:eo,children:p})}const f3=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function h3(){const{userSelectionActive:e,userSelectionRect:n}=he(f3,be);return e&&n?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}const Bo=(e,n)=>t=>{t.target===n.current&&e?.(t)},p3=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function g3({isSelecting:e,selectionKeyPressed:n,selectionMode:t=Rt.Full,panOnDrag:l,selectionOnDrag:o,onSelectionStart:r,onSelectionEnd:i,onPaneClick:a,onPaneContextMenu:s,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:A,onPaneMouseLeave:d,children:f}){const p=ye(),{userSelectionActive:C,elementsSelectable:y,dragging:b,connectionInProgress:E}=he(p3,be),g=y&&(e||C),x=O.useRef(null),N=O.useRef(),B=O.useRef(new Set),R=O.useRef(new Set),v=O.useRef(!1),I=O.useRef(!1),w=G=>{if(v.current||E){v.current=!1;return}a?.(G),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},k=G=>{if(Array.isArray(l)&&l?.includes(2)){G.preventDefault();return}s?.(G)},D=c?G=>c(G):void 0,z=G=>{const{resetSelectedElements:$,domNode:H}=p.getState();if(N.current=H?.getBoundingClientRect(),!y||!e||G.button!==0||G.target!==x.current||!N.current)return;G.target?.setPointerCapture?.(G.pointerId),I.current=!0,v.current=!1;const{x:Y,y:U}=nn(G.nativeEvent,N.current);$(),p.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:U,x:Y,y:U}}),r?.(G)},S=G=>{const{userSelectionRect:$,transform:H,nodeLookup:Y,edgeLookup:U,connectionLookup:W,triggerNodeChanges:j,triggerEdgeChanges:L,defaultEdgeOptions:V}=p.getState();if(!N.current||!$)return;v.current=!0;const{x:q,y:J}=nn(G.nativeEvent,N.current),{startX:Z,startY:ne}=$,ue={startX:Z,startY:ne,x:q<Z?q:Z,y:J<ne?J:ne,width:Math.abs(q-Z),height:Math.abs(J-ne)},de=B.current,te=R.current;B.current=new Set(cr(Y,ue,H,t===Rt.Partial,!0).map(re=>re.id)),R.current=new Set;const ae=V?.selectable??!0;for(const re of B.current){const pe=W.get(re);if(pe)for(const{edgeId:xe}of pe.values()){const Me=U.get(xe);Me&&(Me.selectable??ae)&&R.current.add(xe)}}if(!ls(de,B.current)){const re=Wn(Y,B.current,!0);j(re)}if(!ls(te,R.current)){const re=Wn(U,R.current);L(re)}p.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},T=G=>{if(G.button!==0||!I.current)return;G.target?.releasePointerCapture?.(G.pointerId);const{userSelectionRect:$}=p.getState();!C&&$&&G.target===x.current&&w?.(G),p.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:B.current.size>0}),i?.(G),(n||o)&&(v.current=!1),I.current=!1},F=l===!0||Array.isArray(l)&&l.includes(0);return m.jsxs("div",{className:ke(["react-flow__pane",{draggable:F,dragging:b,selection:e}]),onClick:g?void 0:Bo(w,x),onContextMenu:Bo(k,x),onWheel:Bo(D,x),onPointerEnter:g?void 0:u,onPointerDown:g?z:A,onPointerMove:g?S:A,onPointerUp:g?T:void 0,onPointerLeave:d,ref:x,style:eo,children:[f,m.jsx(h3,{})]})}function Ui({id:e,store:n,unselect:t=!1,nodeRef:l}){const{addSelectedNodes:o,unselectNodesAndEdges:r,multiSelectionActive:i,nodeLookup:a,onError:s}=n.getState(),c=a.get(e);if(!c){s?.("012",tn.error012(e));return}n.setState({nodesSelectionActive:!1}),c.selected?(t||c.selected&&i)&&(r({nodes:[c],edges:[]}),requestAnimationFrame(()=>l?.current?.blur())):o([e])}function NA({nodeRef:e,disabled:n=!1,noDragClassName:t,handleSelector:l,nodeId:o,isSelectable:r,nodeClickDistance:i}){const a=ye(),[s,c]=O.useState(!1),u=O.useRef();return O.useEffect(()=>{u.current=ap({getStoreItems:()=>a.getState(),onNodeMouseDown:A=>{Ui({id:A,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),O.useEffect(()=>{if(n)u.current?.destroy();else if(e.current)return u.current?.update({noDragClassName:t,handleSelector:l,domNode:e.current,isSelectable:r,nodeId:o,nodeClickDistance:i}),()=>{u.current?.destroy()}},[t,l,n,r,e,o]),s}const C3=e=>n=>n.selected&&(n.draggable||e&&typeof n.draggable>"u");function MA(){const e=ye();return O.useCallback(t=>{const{nodeExtent:l,snapToGrid:o,snapGrid:r,nodesDraggable:i,onError:a,updateNodePositions:s,nodeLookup:c,nodeOrigin:u}=e.getState(),A=new Map,d=C3(i),f=o?r[0]:5,p=o?r[1]:5,C=t.direction.x*f*t.factor,y=t.direction.y*p*t.factor;for(const[,b]of c){if(!d(b))continue;let E={x:b.internals.positionAbsolute.x+C,y:b.internals.positionAbsolute.y+y};o&&(E=Kl(E,r));const{position:g,positionAbsolute:x}=Yc({nodeId:b.id,nextPosition:E,nodeLookup:c,nodeExtent:l,nodeOrigin:u,onError:a});b.position=g,b.internals.positionAbsolute=x,A.set(b.id,b)}s(A)},[])}const pr=O.createContext(null),y3=pr.Provider;pr.Consumer;const IA=()=>O.useContext(pr),b3=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),x3=(e,n,t)=>l=>{const{connectionClickStartHandle:o,connectionMode:r,connection:i}=l,{fromHandle:a,toHandle:s,isValid:c}=i,u=s?.nodeId===e&&s?.id===n&&s?.type===t;return{connectingFrom:a?.nodeId===e&&a?.id===n&&a?.type===t,connectingTo:u,clickConnecting:o?.nodeId===e&&o?.id===n&&o?.type===t,isPossibleEndHandle:r===nt.Strict?a?.type!==t:e!==a?.nodeId||n!==a?.id,connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:u&&c}};function E3({type:e="source",position:n=Ae.Top,isValidConnection:t,isConnectable:l=!0,isConnectableStart:o=!0,isConnectableEnd:r=!0,id:i,onConnect:a,children:s,className:c,onMouseDown:u,onTouchStart:A,...d},f){const p=i||null,C=e==="target",y=ye(),b=IA(),{connectOnClick:E,noPanClassName:g,rfId:x}=he(b3,be),{connectingFrom:N,connectingTo:B,clickConnecting:R,isPossibleEndHandle:v,connectionInProcess:I,clickConnectionInProcess:w,valid:k}=he(x3(b,p,e),be);b||y.getState().onError?.("010",tn.error010());const D=T=>{const{defaultEdgeOptions:F,onConnect:G,hasDefaultEdges:$}=y.getState(),H={...F,...T};if($){const{edges:Y,setEdges:U}=y.getState();U(rA(H,Y))}G?.(H),a?.(H)},z=T=>{if(!b)return;const F=tA(T.nativeEvent);if(o&&(F&&T.button===0||!F)){const G=y.getState();zi.onPointerDown(T.nativeEvent,{autoPanOnConnect:G.autoPanOnConnect,connectionMode:G.connectionMode,connectionRadius:G.connectionRadius,domNode:G.domNode,nodeLookup:G.nodeLookup,lib:G.lib,isTarget:C,handleId:p,nodeId:b,flowId:G.rfId,panBy:G.panBy,cancelConnection:G.cancelConnection,onConnectStart:G.onConnectStart,onConnectEnd:G.onConnectEnd,updateConnection:G.updateConnection,onConnect:D,isValidConnection:t||G.isValidConnection,getTransform:()=>y.getState().transform,getFromHandle:()=>y.getState().connection.fromHandle,autoPanSpeed:G.autoPanSpeed,dragThreshold:G.connectionDragThreshold})}F?u?.(T):A?.(T)},S=T=>{const{onClickConnectStart:F,onClickConnectEnd:G,connectionClickStartHandle:$,connectionMode:H,isValidConnection:Y,lib:U,rfId:W,nodeLookup:j,connection:L}=y.getState();if(!b||!$&&!o)return;if(!$){F?.(T.nativeEvent,{nodeId:b,handleId:p,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:b,type:e,id:p}});return}const V=eA(T.target),q=t||Y,{connection:J,isValid:Z}=zi.isValid(T.nativeEvent,{handle:{nodeId:b,id:p,type:e},connectionMode:H,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:q,flowId:W,doc:V,lib:U,nodeLookup:j});Z&&J&&D(J);const ne=structuredClone(L);delete ne.inProgress,ne.toPosition=ne.toHandle?ne.toHandle.position:null,G?.(T,ne),y.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":p,"data-nodeid":b,"data-handlepos":n,"data-id":`${x}-${b}-${p}-${e}`,className:ke(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",g,c,{source:!C,target:C,connectable:l,connectablestart:o,connectableend:r,clickconnecting:R,connectingfrom:N,connectingto:B,valid:k,connectionindicator:l&&(!I||v)&&(I||w?r:o)}]),onMouseDown:z,onTouchStart:z,onClick:E?S:void 0,ref:f,...d,children:s})}const Tl=O.memo(kA(E3));function v3({data:e,isConnectable:n,sourcePosition:t=Ae.Bottom}){return m.jsxs(m.Fragment,{children:[e?.label,m.jsx(Tl,{type:"source",position:t,isConnectable:n})]})}function w3({data:e,isConnectable:n,targetPosition:t=Ae.Top,sourcePosition:l=Ae.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(Tl,{type:"target",position:t,isConnectable:n}),e?.label,m.jsx(Tl,{type:"source",position:l,isConnectable:n})]})}function _3(){return null}function k3({data:e,isConnectable:n,targetPosition:t=Ae.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(Tl,{type:"target",position:t,isConnectable:n}),e?.label]})}const Ol={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Ns={input:v3,default:w3,output:k3,group:_3};function S3(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const N3=e=>{const{width:n,height:t,x:l,y:o}=Vt(e.nodeLookup,{filter:r=>!!r.selected});return{width:Xe(n)?n:null,height:Xe(t)?t:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${l}px,${o}px)`}};function M3({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:t}){const l=ye(),{width:o,height:r,transformString:i,userSelectionActive:a}=he(N3,be),s=MA(),c=O.useRef(null);if(O.useEffect(()=>{t||c.current?.focus({preventScroll:!0})},[t]),NA({nodeRef:c}),a||!o||!r)return null;const u=e?d=>{const f=l.getState().nodes.filter(p=>p.selected);e(d,f)}:void 0,A=d=>{Object.prototype.hasOwnProperty.call(Ol,d.key)&&(d.preventDefault(),s({direction:Ol[d.key],factor:d.shiftKey?4:1}))};return m.jsx("div",{className:ke(["react-flow__nodesselection","react-flow__container",n]),style:{transform:i},children:m.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:t?void 0:-1,onKeyDown:t?void 0:A,style:{width:o,height:r}})})}const Ms=typeof window<"u"?window:void 0,I3=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function BA({children:e,onPaneClick:n,onPaneMouseEnter:t,onPaneMouseMove:l,onPaneMouseLeave:o,onPaneContextMenu:r,onPaneScroll:i,paneClickDistance:a,deleteKeyCode:s,selectionKeyCode:c,selectionOnDrag:u,selectionMode:A,onSelectionStart:d,onSelectionEnd:f,multiSelectionKeyCode:p,panActivationKeyCode:C,zoomActivationKeyCode:y,elementsSelectable:b,zoomOnScroll:E,zoomOnPinch:g,panOnScroll:x,panOnScrollSpeed:N,panOnScrollMode:B,zoomOnDoubleClick:R,panOnDrag:v,defaultViewport:I,translateExtent:w,minZoom:k,maxZoom:D,preventScrolling:z,onSelectionContextMenu:S,noWheelClassName:T,noPanClassName:F,disableKeyboardA11y:G,onViewportChange:$,isControlledViewport:H}){const{nodesSelectionActive:Y,userSelectionActive:U}=he(I3),W=Pt(c,{target:Ms}),j=Pt(C,{target:Ms}),L=j||v,V=j||x,q=u&&L!==!0,J=W||U||q;return A3({deleteKeyCode:s,multiSelectionKeyCode:p}),m.jsx(m3,{onPaneContextMenu:r,elementsSelectable:b,zoomOnScroll:E,zoomOnPinch:g,panOnScroll:V,panOnScrollSpeed:N,panOnScrollMode:B,zoomOnDoubleClick:R,panOnDrag:!W&&L,defaultViewport:I,translateExtent:w,minZoom:k,maxZoom:D,zoomActivationKeyCode:y,preventScrolling:z,noWheelClassName:T,noPanClassName:F,onViewportChange:$,isControlledViewport:H,paneClickDistance:a,children:m.jsxs(g3,{onSelectionStart:d,onSelectionEnd:f,onPaneClick:n,onPaneMouseEnter:t,onPaneMouseMove:l,onPaneMouseLeave:o,onPaneContextMenu:r,onPaneScroll:i,panOnDrag:L,isSelecting:!!J,selectionMode:A,selectionKeyPressed:W,selectionOnDrag:q,children:[e,Y&&m.jsx(M3,{onSelectionContextMenu:S,noPanClassName:F,disableKeyboardA11y:G})]})})}BA.displayName="FlowRenderer";const B3=O.memo(BA),D3=e=>n=>e?cr(n.nodeLookup,{x:0,y:0,width:n.width,height:n.height},n.transform,!0).map(t=>t.id):Array.from(n.nodeLookup.keys());function T3(e){return he(O.useCallback(D3(e),[e]),be)}const O3=e=>e.updateNodeInternals;function j3(){const e=he(O3),[n]=O.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(t=>{const l=new Map;t.forEach(o=>{const r=o.target.getAttribute("data-id");l.set(r,{id:r,nodeElement:o.target,force:!0})}),e(l)}));return O.useEffect(()=>()=>{n?.disconnect()},[n]),n}function R3({node:e,nodeType:n,hasDimensions:t,resizeObserver:l}){const o=ye(),r=O.useRef(null),i=O.useRef(null),a=O.useRef(e.sourcePosition),s=O.useRef(e.targetPosition),c=O.useRef(n),u=t&&!!e.internals.handleBounds;return O.useEffect(()=>{r.current&&!e.hidden&&(!u||i.current!==r.current)&&(i.current&&l?.unobserve(i.current),l?.observe(r.current),i.current=r.current)},[u,e.hidden]),O.useEffect(()=>()=>{i.current&&(l?.unobserve(i.current),i.current=null)},[]),O.useEffect(()=>{if(r.current){const A=c.current!==n,d=a.current!==e.sourcePosition,f=s.current!==e.targetPosition;(A||d||f)&&(c.current=n,a.current=e.sourcePosition,s.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:r.current,force:!0}]])))}},[e.id,n,e.sourcePosition,e.targetPosition]),r}function F3({id:e,onClick:n,onMouseEnter:t,onMouseMove:l,onMouseLeave:o,onContextMenu:r,onDoubleClick:i,nodesDraggable:a,elementsSelectable:s,nodesConnectable:c,nodesFocusable:u,resizeObserver:A,noDragClassName:d,noPanClassName:f,disableKeyboardA11y:p,rfId:C,nodeTypes:y,nodeClickDistance:b,onError:E}){const{node:g,internals:x,isParent:N}=he(Z=>{const ne=Z.nodeLookup.get(e),ue=Z.parentLookup.has(e);return{node:ne,internals:ne.internals,isParent:ue}},be);let B=g.type||"default",R=y?.[B]||Ns[B];R===void 0&&(E?.("003",tn.error003(B)),B="default",R=Ns.default);const v=!!(g.draggable||a&&typeof g.draggable>"u"),I=!!(g.selectable||s&&typeof g.selectable>"u"),w=!!(g.connectable||c&&typeof g.connectable>"u"),k=!!(g.focusable||u&&typeof g.focusable>"u"),D=ye(),z=Zc(g),S=R3({node:g,nodeType:B,hasDimensions:z,resizeObserver:A}),T=NA({nodeRef:S,disabled:g.hidden||!v,noDragClassName:d,handleSelector:g.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:b}),F=MA();if(g.hidden)return null;const G=fn(g),$=S3(g),H=I||v||n||t||l||o,Y=t?Z=>t(Z,{...x.userNode}):void 0,U=l?Z=>l(Z,{...x.userNode}):void 0,W=o?Z=>o(Z,{...x.userNode}):void 0,j=r?Z=>r(Z,{...x.userNode}):void 0,L=i?Z=>i(Z,{...x.userNode}):void 0,V=Z=>{const{selectNodesOnDrag:ne,nodeDragThreshold:ue}=D.getState();I&&(!ne||!v||ue>0)&&Ui({id:e,store:D,nodeRef:S}),n&&n(Z,{...x.userNode})},q=Z=>{if(!(nA(Z.nativeEvent)||p)){if(Qc.includes(Z.key)&&I){const ne=Z.key==="Escape";Ui({id:e,store:D,unselect:ne,nodeRef:S})}else if(v&&g.selected&&Object.prototype.hasOwnProperty.call(Ol,Z.key)){Z.preventDefault();const{ariaLabelConfig:ne}=D.getState();D.setState({ariaLiveMessage:ne["node.a11yDescription.ariaLiveMessage"]({direction:Z.key.replace("Arrow","").toLowerCase(),x:~~x.positionAbsolute.x,y:~~x.positionAbsolute.y})}),F({direction:Ol[Z.key],factor:Z.shiftKey?4:1})}}},J=()=>{if(p||!S.current?.matches(":focus-visible"))return;const{transform:Z,width:ne,height:ue,autoPanOnNodeFocus:de,setCenter:te}=D.getState();if(!de)return;cr(new Map([[e,g]]),{x:0,y:0,width:ne,height:ue},Z,!0).length>0||te(g.position.x+G.width/2,g.position.y+G.height/2,{zoom:Z[2]})};return m.jsx("div",{className:ke(["react-flow__node",`react-flow__node-${B}`,{[f]:v},g.className,{selected:g.selected,selectable:I,parent:N,draggable:v,dragging:T}]),ref:S,style:{zIndex:x.z,transform:`translate(${x.positionAbsolute.x}px,${x.positionAbsolute.y}px)`,pointerEvents:H?"all":"none",visibility:z?"visible":"hidden",...g.style,...$},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Y,onMouseMove:U,onMouseLeave:W,onContextMenu:j,onClick:V,onDoubleClick:L,onKeyDown:k?q:void 0,tabIndex:k?0:void 0,onFocus:k?J:void 0,role:g.ariaRole??(k?"group":void 0),"aria-roledescription":"node","aria-describedby":p?void 0:`${bA}-${C}`,"aria-label":g.ariaLabel,...g.domAttributes,children:m.jsx(y3,{value:e,children:m.jsx(R,{id:e,data:g.data,type:B,positionAbsoluteX:x.positionAbsolute.x,positionAbsoluteY:x.positionAbsolute.y,selected:g.selected??!1,selectable:I,draggable:v,deletable:g.deletable??!0,isConnectable:w,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:T,dragHandle:g.dragHandle,zIndex:x.z,parentId:g.parentId,...G})})})}const L3=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function DA(e){const{nodesDraggable:n,nodesConnectable:t,nodesFocusable:l,elementsSelectable:o,onError:r}=he(L3,be),i=T3(e.onlyRenderVisibleElements),a=j3();return m.jsx("div",{className:"react-flow__nodes",style:eo,children:i.map(s=>m.jsx(F3,{id:s,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:n,nodesConnectable:t,nodesFocusable:l,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:r},s))})}DA.displayName="NodeRenderer";const P3=O.memo(DA);function G3(e){return he(O.useCallback(t=>{if(!e)return t.edges.map(o=>o.id);const l=[];if(t.width&&t.height)for(const o of t.edges){const r=t.nodeLookup.get(o.source),i=t.nodeLookup.get(o.target);r&&i&&qh({sourceNode:r,targetNode:i,width:t.width,height:t.height,transform:t.transform})&&l.push(o.id)}return l},[e]),be)}const z3=({color:e="none",strokeWidth:n=1})=>m.jsx("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),U3=({color:e="none",strokeWidth:n=1})=>m.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Is={[Fn.Arrow]:z3,[Fn.ArrowClosed]:U3};function Q3(e){const n=ye();return O.useMemo(()=>Object.prototype.hasOwnProperty.call(Is,e)?Is[e]:(n.getState().onError?.("009",tn.error009(e)),null),[e])}const V3=({id:e,type:n,color:t,width:l=12.5,height:o=12.5,markerUnits:r="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const s=Q3(n);return s?m.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${l}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:r,orient:a,refX:"0",refY:"0",children:m.jsx(s,{color:t,strokeWidth:i})}):null},TA=({defaultColor:e,rfId:n})=>{const t=he(r=>r.edges),l=he(r=>r.defaultEdgeOptions),o=O.useMemo(()=>ep(t,{id:n,defaultColor:e,defaultMarkerStart:l?.markerStart,defaultMarkerEnd:l?.markerEnd}),[t,l,n,e]);return o.length?m.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:m.jsx("defs",{children:o.map(r=>m.jsx(V3,{id:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient},r.id))})}):null};TA.displayName="MarkerDefinitions";var H3=O.memo(TA);function OA({x:e,y:n,label:t,labelStyle:l,labelShowBg:o=!0,labelBgStyle:r,labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:s,className:c,...u}){const[A,d]=O.useState({x:1,y:0,width:0,height:0}),f=ke(["react-flow__edge-textwrapper",c]),p=O.useRef(null);return O.useEffect(()=>{if(p.current){const C=p.current.getBBox();d({x:C.x,y:C.y,width:C.width,height:C.height})}},[t]),t?m.jsxs("g",{transform:`translate(${e-A.width/2} ${n-A.height/2})`,className:f,visibility:A.width?"visible":"hidden",...u,children:[o&&m.jsx("rect",{width:A.width+2*i[0],x:-i[0],y:-i[1],height:A.height+2*i[1],className:"react-flow__edge-textbg",style:r,rx:a,ry:a}),m.jsx("text",{className:"react-flow__edge-text",y:A.height/2,dy:"0.3em",ref:p,style:l,children:t}),s]}):null}OA.displayName="EdgeText";const $3=O.memo(OA);function no({path:e,labelX:n,labelY:t,label:l,labelStyle:o,labelShowBg:r,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:s,interactionWidth:c=20,...u}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...u,d:e,fill:"none",className:ke(["react-flow__edge-path",u.className])}),c&&m.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),l&&Xe(n)&&Xe(t)?m.jsx($3,{x:n,y:t,label:l,labelStyle:o,labelShowBg:r,labelBgStyle:i,labelBgPadding:a,labelBgBorderRadius:s}):null]})}function Bs({pos:e,x1:n,y1:t,x2:l,y2:o}){return e===Ae.Left||e===Ae.Right?[.5*(n+l),t]:[n,.5*(t+o)]}function jA({sourceX:e,sourceY:n,sourcePosition:t=Ae.Bottom,targetX:l,targetY:o,targetPosition:r=Ae.Top}){const[i,a]=Bs({pos:t,x1:e,y1:n,x2:l,y2:o}),[s,c]=Bs({pos:r,x1:l,y1:o,x2:e,y2:n}),[u,A,d,f]=lA({sourceX:e,sourceY:n,targetX:l,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:c});return[`M${e},${n} C${i},${a} ${s},${c} ${l},${o}`,u,A,d,f]}function RA(e){return O.memo(({id:n,sourceX:t,sourceY:l,targetX:o,targetY:r,sourcePosition:i,targetPosition:a,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:C,markerStart:y,interactionWidth:b})=>{const[E,g,x]=jA({sourceX:t,sourceY:l,sourcePosition:i,targetX:o,targetY:r,targetPosition:a}),N=e.isInternal?void 0:n;return m.jsx(no,{id:N,path:E,labelX:g,labelY:x,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:C,markerStart:y,interactionWidth:b})})}const q3=RA({isInternal:!1}),FA=RA({isInternal:!0});q3.displayName="SimpleBezierEdge";FA.displayName="SimpleBezierEdgeInternal";function LA(e){return O.memo(({id:n,sourceX:t,sourceY:l,targetX:o,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:A,style:d,sourcePosition:f=Ae.Bottom,targetPosition:p=Ae.Top,markerEnd:C,markerStart:y,pathOptions:b,interactionWidth:E})=>{const[g,x,N]=Li({sourceX:t,sourceY:l,sourcePosition:f,targetX:o,targetY:r,targetPosition:p,borderRadius:b?.borderRadius,offset:b?.offset}),B=e.isInternal?void 0:n;return m.jsx(no,{id:B,path:g,labelX:x,labelY:N,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:A,style:d,markerEnd:C,markerStart:y,interactionWidth:E})})}const PA=LA({isInternal:!1}),GA=LA({isInternal:!0});PA.displayName="SmoothStepEdge";GA.displayName="SmoothStepEdgeInternal";function zA(e){return O.memo(({id:n,...t})=>{const l=e.isInternal?void 0:n;return m.jsx(PA,{...t,id:l,pathOptions:O.useMemo(()=>({borderRadius:0,offset:t.pathOptions?.offset}),[t.pathOptions?.offset])})})}const Y3=zA({isInternal:!1}),UA=zA({isInternal:!0});Y3.displayName="StepEdge";UA.displayName="StepEdgeInternal";function QA(e){return O.memo(({id:n,sourceX:t,sourceY:l,targetX:o,targetY:r,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:A,style:d,markerEnd:f,markerStart:p,interactionWidth:C})=>{const[y,b,E]=sA({sourceX:t,sourceY:l,targetX:o,targetY:r}),g=e.isInternal?void 0:n;return m.jsx(no,{id:g,path:y,labelX:b,labelY:E,label:i,labelStyle:a,labelShowBg:s,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:A,style:d,markerEnd:f,markerStart:p,interactionWidth:C})})}const W3=QA({isInternal:!1}),VA=QA({isInternal:!0});W3.displayName="StraightEdge";VA.displayName="StraightEdgeInternal";function HA(e){return O.memo(({id:n,sourceX:t,sourceY:l,targetX:o,targetY:r,sourcePosition:i=Ae.Bottom,targetPosition:a=Ae.Top,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:C,markerStart:y,pathOptions:b,interactionWidth:E})=>{const[g,x,N]=oA({sourceX:t,sourceY:l,sourcePosition:i,targetX:o,targetY:r,targetPosition:a,curvature:b?.curvature}),B=e.isInternal?void 0:n;return m.jsx(no,{id:B,path:g,labelX:x,labelY:N,label:s,labelStyle:c,labelShowBg:u,labelBgStyle:A,labelBgPadding:d,labelBgBorderRadius:f,style:p,markerEnd:C,markerStart:y,interactionWidth:E})})}const K3=HA({isInternal:!1}),$A=HA({isInternal:!0});K3.displayName="BezierEdge";$A.displayName="BezierEdgeInternal";const Ds={default:$A,straight:VA,step:UA,smoothstep:GA,simplebezier:FA},Ts={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},X3=(e,n,t)=>t===Ae.Left?e-n:t===Ae.Right?e+n:e,Z3=(e,n,t)=>t===Ae.Top?e-n:t===Ae.Bottom?e+n:e,Os="react-flow__edgeupdater";function js({position:e,centerX:n,centerY:t,radius:l=10,onMouseDown:o,onMouseEnter:r,onMouseOut:i,type:a}){return m.jsx("circle",{onMouseDown:o,onMouseEnter:r,onMouseOut:i,className:ke([Os,`${Os}-${a}`]),cx:X3(n,l,e),cy:Z3(t,l,e),r:l,stroke:"transparent",fill:"transparent"})}function J3({isReconnectable:e,reconnectRadius:n,edge:t,sourceX:l,sourceY:o,targetX:r,targetY:i,sourcePosition:a,targetPosition:s,onReconnect:c,onReconnectStart:u,onReconnectEnd:A,setReconnecting:d,setUpdateHover:f}){const p=ye(),C=(x,N)=>{if(x.button!==0)return;const{autoPanOnConnect:B,domNode:R,isValidConnection:v,connectionMode:I,connectionRadius:w,lib:k,onConnectStart:D,onConnectEnd:z,cancelConnection:S,nodeLookup:T,rfId:F,panBy:G,updateConnection:$}=p.getState(),H=N.type==="target",Y=(j,L)=>{d(!1),A?.(j,t,N.type,L)},U=j=>c?.(t,j),W=(j,L)=>{d(!0),u?.(x,t,N.type),D?.(j,L)};zi.onPointerDown(x.nativeEvent,{autoPanOnConnect:B,connectionMode:I,connectionRadius:w,domNode:R,handleId:N.id,nodeId:N.nodeId,nodeLookup:T,isTarget:H,edgeUpdaterType:N.type,lib:k,flowId:F,cancelConnection:S,panBy:G,isValidConnection:v,onConnect:U,onConnectStart:W,onConnectEnd:z,onReconnectEnd:Y,updateConnection:$,getTransform:()=>p.getState().transform,getFromHandle:()=>p.getState().connection.fromHandle,dragThreshold:p.getState().connectionDragThreshold})},y=x=>C(x,{nodeId:t.target,id:t.targetHandle??null,type:"target"}),b=x=>C(x,{nodeId:t.source,id:t.sourceHandle??null,type:"source"}),E=()=>f(!0),g=()=>f(!1);return m.jsxs(m.Fragment,{children:[(e===!0||e==="source")&&m.jsx(js,{position:a,centerX:l,centerY:o,radius:n,onMouseDown:y,onMouseEnter:E,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&m.jsx(js,{position:s,centerX:r,centerY:i,radius:n,onMouseDown:b,onMouseEnter:E,onMouseOut:g,type:"target"})]})}function e4({id:e,edgesFocusable:n,edgesReconnectable:t,elementsSelectable:l,onClick:o,onDoubleClick:r,onContextMenu:i,onMouseEnter:a,onMouseMove:s,onMouseLeave:c,reconnectRadius:u,onReconnect:A,onReconnectStart:d,onReconnectEnd:f,rfId:p,edgeTypes:C,noPanClassName:y,onError:b,disableKeyboardA11y:E}){let g=he(te=>te.edgeLookup.get(e));const x=he(te=>te.defaultEdgeOptions);g=x?{...x,...g}:g;let N=g.type||"default",B=C?.[N]||Ds[N];B===void 0&&(b?.("011",tn.error011(N)),N="default",B=Ds.default);const R=!!(g.focusable||n&&typeof g.focusable>"u"),v=typeof A<"u"&&(g.reconnectable||t&&typeof g.reconnectable>"u"),I=!!(g.selectable||l&&typeof g.selectable>"u"),w=O.useRef(null),[k,D]=O.useState(!1),[z,S]=O.useState(!1),T=ye(),{zIndex:F,sourceX:G,sourceY:$,targetX:H,targetY:Y,sourcePosition:U,targetPosition:W}=he(O.useCallback(te=>{const ae=te.nodeLookup.get(g.source),re=te.nodeLookup.get(g.target);if(!ae||!re)return{zIndex:g.zIndex,...Ts};const pe=Jh({id:e,sourceNode:ae,targetNode:re,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:te.connectionMode,onError:b});return{zIndex:$h({selected:g.selected,zIndex:g.zIndex,sourceNode:ae,targetNode:re,elevateOnSelect:te.elevateEdgesOnSelect}),...pe||Ts}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),be),j=O.useMemo(()=>g.markerStart?`url('#${Pi(g.markerStart,p)}')`:void 0,[g.markerStart,p]),L=O.useMemo(()=>g.markerEnd?`url('#${Pi(g.markerEnd,p)}')`:void 0,[g.markerEnd,p]);if(g.hidden||G===null||$===null||H===null||Y===null)return null;const V=te=>{const{addSelectedEdges:ae,unselectNodesAndEdges:re,multiSelectionActive:pe}=T.getState();I&&(T.setState({nodesSelectionActive:!1}),g.selected&&pe?(re({nodes:[],edges:[g]}),w.current?.blur()):ae([e])),o&&o(te,g)},q=r?te=>{r(te,{...g})}:void 0,J=i?te=>{i(te,{...g})}:void 0,Z=a?te=>{a(te,{...g})}:void 0,ne=s?te=>{s(te,{...g})}:void 0,ue=c?te=>{c(te,{...g})}:void 0,de=te=>{if(!E&&Qc.includes(te.key)&&I){const{unselectNodesAndEdges:ae,addSelectedEdges:re}=T.getState();te.key==="Escape"?(w.current?.blur(),ae({edges:[g]})):re([e])}};return m.jsx("svg",{style:{zIndex:F},children:m.jsxs("g",{className:ke(["react-flow__edge",`react-flow__edge-${N}`,g.className,y,{selected:g.selected,animated:g.animated,inactive:!I&&!o,updating:k,selectable:I}]),onClick:V,onDoubleClick:q,onContextMenu:J,onMouseEnter:Z,onMouseMove:ne,onMouseLeave:ue,onKeyDown:R?de:void 0,tabIndex:R?0:void 0,role:g.ariaRole??(R?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":R?`${xA}-${p}`:void 0,ref:w,...g.domAttributes,children:[!z&&m.jsx(B,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:I,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:G,sourceY:$,targetX:H,targetY:Y,sourcePosition:U,targetPosition:W,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:j,markerEnd:L,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),v&&m.jsx(J3,{edge:g,isReconnectable:v,reconnectRadius:u,onReconnect:A,onReconnectStart:d,onReconnectEnd:f,sourceX:G,sourceY:$,targetX:H,targetY:Y,sourcePosition:U,targetPosition:W,setUpdateHover:D,setReconnecting:S})]})})}const n4=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function qA({defaultMarkerColor:e,onlyRenderVisibleElements:n,rfId:t,edgeTypes:l,noPanClassName:o,onReconnect:r,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:s,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:A,onEdgeDoubleClick:d,onReconnectStart:f,onReconnectEnd:p,disableKeyboardA11y:C}){const{edgesFocusable:y,edgesReconnectable:b,elementsSelectable:E,onError:g}=he(n4,be),x=G3(n);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(H3,{defaultColor:e,rfId:t}),x.map(N=>m.jsx(e4,{id:N,edgesFocusable:y,edgesReconnectable:b,elementsSelectable:E,noPanClassName:o,onReconnect:r,onContextMenu:i,onMouseEnter:a,onMouseMove:s,onMouseLeave:c,onClick:u,reconnectRadius:A,onDoubleClick:d,onReconnectStart:f,onReconnectEnd:p,rfId:t,onError:g,edgeTypes:l,disableKeyboardA11y:C},N))]})}qA.displayName="EdgeRenderer";const t4=O.memo(qA),l4=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function o4({children:e}){const n=he(l4);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:e})}function i4(e){const n=Jl(),t=O.useRef(!1);O.useEffect(()=>{!t.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),t.current=!0)},[e,n.viewportInitialized])}const r4=e=>e.panZoom?.syncViewport;function s4(e){const n=he(r4),t=ye();return O.useEffect(()=>{e&&(n?.(e),t.setState({transform:[e.x,e.y,e.zoom]}))},[e,n]),null}function a4(e){return e.connection.inProgress?{...e.connection,to:Ht(e.connection.to,e.transform)}:{...e.connection}}function c4(e){return a4}function A4(e){const n=c4();return he(n,be)}const u4=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function d4({containerStyle:e,style:n,type:t,component:l}){const{nodesConnectable:o,width:r,height:i,isValid:a,inProgress:s}=he(u4,be);return!(r&&o&&s)?null:m.jsx("svg",{style:e,width:r,height:i,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:ke(["react-flow__connection",$c(a)]),children:m.jsx(YA,{style:n,type:t,CustomComponent:l,isValid:a})})})}const YA=({style:e,type:n=En.Bezier,CustomComponent:t,isValid:l})=>{const{inProgress:o,from:r,fromNode:i,fromHandle:a,fromPosition:s,to:c,toNode:u,toHandle:A,toPosition:d}=A4();if(!o)return;if(t)return m.jsx(t,{connectionLineType:n,connectionLineStyle:e,fromNode:i,fromHandle:a,fromX:r.x,fromY:r.y,toX:c.x,toY:c.y,fromPosition:s,toPosition:d,connectionStatus:$c(l),toNode:u,toHandle:A});let f="";const p={sourceX:r.x,sourceY:r.y,sourcePosition:s,targetX:c.x,targetY:c.y,targetPosition:d};switch(n){case En.Bezier:[f]=oA(p);break;case En.SimpleBezier:[f]=jA(p);break;case En.Step:[f]=Li({...p,borderRadius:0});break;case En.SmoothStep:[f]=Li(p);break;default:[f]=sA(p)}return m.jsx("path",{d:f,fill:"none",className:"react-flow__connection-path",style:e})};YA.displayName="ConnectionLine";const m4={};function Rs(e=m4){O.useRef(e),ye(),O.useEffect(()=>{},[e])}function f4(){ye(),O.useRef(!1),O.useEffect(()=>{},[])}function WA({nodeTypes:e,edgeTypes:n,onInit:t,onNodeClick:l,onEdgeClick:o,onNodeDoubleClick:r,onEdgeDoubleClick:i,onNodeMouseEnter:a,onNodeMouseMove:s,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:A,onSelectionStart:d,onSelectionEnd:f,connectionLineType:p,connectionLineStyle:C,connectionLineComponent:y,connectionLineContainerStyle:b,selectionKeyCode:E,selectionOnDrag:g,selectionMode:x,multiSelectionKeyCode:N,panActivationKeyCode:B,zoomActivationKeyCode:R,deleteKeyCode:v,onlyRenderVisibleElements:I,elementsSelectable:w,defaultViewport:k,translateExtent:D,minZoom:z,maxZoom:S,preventScrolling:T,defaultMarkerColor:F,zoomOnScroll:G,zoomOnPinch:$,panOnScroll:H,panOnScrollSpeed:Y,panOnScrollMode:U,zoomOnDoubleClick:W,panOnDrag:j,onPaneClick:L,onPaneMouseEnter:V,onPaneMouseMove:q,onPaneMouseLeave:J,onPaneScroll:Z,onPaneContextMenu:ne,paneClickDistance:ue,nodeClickDistance:de,onEdgeContextMenu:te,onEdgeMouseEnter:ae,onEdgeMouseMove:re,onEdgeMouseLeave:pe,reconnectRadius:xe,onReconnect:Me,onReconnectStart:Qe,onReconnectEnd:rn,noDragClassName:wn,noWheelClassName:_n,noPanClassName:kn,disableKeyboardA11y:sn,nodeExtent:an,rfId:Ve,viewport:Oe,onViewportChange:hn}){return Rs(e),Rs(n),f4(),i4(t),s4(Oe),m.jsx(B3,{onPaneClick:L,onPaneMouseEnter:V,onPaneMouseMove:q,onPaneMouseLeave:J,onPaneContextMenu:ne,onPaneScroll:Z,paneClickDistance:ue,deleteKeyCode:v,selectionKeyCode:E,selectionOnDrag:g,selectionMode:x,onSelectionStart:d,onSelectionEnd:f,multiSelectionKeyCode:N,panActivationKeyCode:B,zoomActivationKeyCode:R,elementsSelectable:w,zoomOnScroll:G,zoomOnPinch:$,zoomOnDoubleClick:W,panOnScroll:H,panOnScrollSpeed:Y,panOnScrollMode:U,panOnDrag:j,defaultViewport:k,translateExtent:D,minZoom:z,maxZoom:S,onSelectionContextMenu:A,preventScrolling:T,noDragClassName:wn,noWheelClassName:_n,noPanClassName:kn,disableKeyboardA11y:sn,onViewportChange:hn,isControlledViewport:!!Oe,children:m.jsxs(o4,{children:[m.jsx(t4,{edgeTypes:n,onEdgeClick:o,onEdgeDoubleClick:i,onReconnect:Me,onReconnectStart:Qe,onReconnectEnd:rn,onlyRenderVisibleElements:I,onEdgeContextMenu:te,onEdgeMouseEnter:ae,onEdgeMouseMove:re,onEdgeMouseLeave:pe,reconnectRadius:xe,defaultMarkerColor:F,noPanClassName:kn,disableKeyboardA11y:sn,rfId:Ve}),m.jsx(d4,{style:C,type:p,component:y,containerStyle:b}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(P3,{nodeTypes:e,onNodeClick:l,onNodeDoubleClick:r,onNodeMouseEnter:a,onNodeMouseMove:s,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:de,onlyRenderVisibleElements:I,noPanClassName:kn,noDragClassName:wn,disableKeyboardA11y:sn,nodeExtent:an,rfId:Ve}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}WA.displayName="GraphView";const h4=O.memo(WA),Fs=({nodes:e,edges:n,defaultNodes:t,defaultEdges:l,width:o,height:r,fitView:i,fitViewOptions:a,minZoom:s=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:A}={})=>{const d=new Map,f=new Map,p=new Map,C=new Map,y=l??n??[],b=t??e??[],E=u??[0,0],g=A??jt;cA(p,C,y);const x=Gi(b,d,f,{nodeOrigin:E,nodeExtent:g,elevateNodesOnSelect:!1});let N=[0,0,1];if(i&&o&&r){const B=Vt(d,{filter:w=>!!((w.width||w.initialWidth)&&(w.height||w.initialHeight))}),{x:R,y:v,zoom:I}=Ar(B,o,r,s,c,a?.padding??.1);N=[R,v,I]}return{rfId:"1",width:0,height:0,transform:N,nodes:b,nodesInitialized:x,nodeLookup:d,parentLookup:f,edges:y,edgeLookup:C,connectionLookup:p,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:t!==void 0,hasDefaultEdges:l!==void 0,panZoom:null,minZoom:s,maxZoom:c,translateExtent:jt,nodeExtent:g,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:nt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Hc},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Gh,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Vc}},p4=({nodes:e,edges:n,defaultNodes:t,defaultEdges:l,width:o,height:r,fitView:i,fitViewOptions:a,minZoom:s,maxZoom:c,nodeOrigin:u,nodeExtent:A})=>Rp((d,f)=>{async function p(){const{nodeLookup:C,panZoom:y,fitViewOptions:b,fitViewResolver:E,width:g,height:x,minZoom:N,maxZoom:B}=f();y&&(await Lh({nodes:C,width:g,height:x,panZoom:y,minZoom:N,maxZoom:B},b),E?.resolve(!0),d({fitViewResolver:null}))}return{...Fs({nodes:e,edges:n,width:o,height:r,fitView:i,fitViewOptions:a,minZoom:s,maxZoom:c,nodeOrigin:u,nodeExtent:A,defaultNodes:t,defaultEdges:l}),setNodes:C=>{const{nodeLookup:y,parentLookup:b,nodeOrigin:E,elevateNodesOnSelect:g,fitViewQueued:x}=f(),N=Gi(C,y,b,{nodeOrigin:E,nodeExtent:A,elevateNodesOnSelect:g,checkEquality:!0});x&&N?(p(),d({nodes:C,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:C,nodesInitialized:N})},setEdges:C=>{const{connectionLookup:y,edgeLookup:b}=f();cA(y,b,C),d({edges:C})},setDefaultNodesAndEdges:(C,y)=>{if(C){const{setNodes:b}=f();b(C),d({hasDefaultNodes:!0})}if(y){const{setEdges:b}=f();b(y),d({hasDefaultEdges:!0})}},updateNodeInternals:C=>{const{triggerNodeChanges:y,nodeLookup:b,parentLookup:E,domNode:g,nodeOrigin:x,nodeExtent:N,debug:B,fitViewQueued:R}=f(),{changes:v,updatedInternals:I}=ip(C,b,E,g,x,N);I&&(tp(b,E,{nodeOrigin:x,nodeExtent:N}),R?(p(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),v?.length>0&&(B&&console.log("React Flow: trigger node changes",v),y?.(v)))},updateNodePositions:(C,y=!1)=>{const b=[],E=[],{nodeLookup:g,triggerNodeChanges:x}=f();for(const[N,B]of C){const R=g.get(N),v=!!(R?.expandParent&&R?.parentId&&B?.position),I={id:N,type:"position",position:v?{x:Math.max(0,B.position.x),y:Math.max(0,B.position.y)}:B.position,dragging:y};v&&R.parentId&&b.push({id:N,parentId:R.parentId,rect:{...B.internals.positionAbsolute,width:B.measured.width??0,height:B.measured.height??0}}),E.push(I)}if(b.length>0){const{parentLookup:N,nodeOrigin:B}=f(),R=hr(b,g,N,B);E.push(...R)}x(E)},triggerNodeChanges:C=>{const{onNodesChange:y,setNodes:b,nodes:E,hasDefaultNodes:g,debug:x}=f();if(C?.length){if(g){const N=wA(C,E);b(N)}x&&console.log("React Flow: trigger node changes",C),y?.(C)}},triggerEdgeChanges:C=>{const{onEdgesChange:y,setEdges:b,edges:E,hasDefaultEdges:g,debug:x}=f();if(C?.length){if(g){const N=_A(C,E);b(N)}x&&console.log("React Flow: trigger edge changes",C),y?.(C)}},addSelectedNodes:C=>{const{multiSelectionActive:y,edgeLookup:b,nodeLookup:E,triggerNodeChanges:g,triggerEdgeChanges:x}=f();if(y){const N=C.map(B=>On(B,!0));g(N);return}g(Wn(E,new Set([...C]),!0)),x(Wn(b))},addSelectedEdges:C=>{const{multiSelectionActive:y,edgeLookup:b,nodeLookup:E,triggerNodeChanges:g,triggerEdgeChanges:x}=f();if(y){const N=C.map(B=>On(B,!0));x(N);return}x(Wn(b,new Set([...C]))),g(Wn(E,new Set,!0))},unselectNodesAndEdges:({nodes:C,edges:y}={})=>{const{edges:b,nodes:E,nodeLookup:g,triggerNodeChanges:x,triggerEdgeChanges:N}=f(),B=C||E,R=y||b,v=B.map(w=>{const k=g.get(w.id);return k&&(k.selected=!1),On(w.id,!1)}),I=R.map(w=>On(w.id,!1));x(v),N(I)},setMinZoom:C=>{const{panZoom:y,maxZoom:b}=f();y?.setScaleExtent([C,b]),d({minZoom:C})},setMaxZoom:C=>{const{panZoom:y,minZoom:b}=f();y?.setScaleExtent([b,C]),d({maxZoom:C})},setTranslateExtent:C=>{f().panZoom?.setTranslateExtent(C),d({translateExtent:C})},setPaneClickDistance:C=>{f().panZoom?.setClickDistance(C)},resetSelectedElements:()=>{const{edges:C,nodes:y,triggerNodeChanges:b,triggerEdgeChanges:E,elementsSelectable:g}=f();if(!g)return;const x=y.reduce((B,R)=>R.selected?[...B,On(R.id,!1)]:B,[]),N=C.reduce((B,R)=>R.selected?[...B,On(R.id,!1)]:B,[]);b(x),E(N)},setNodeExtent:C=>{const{nodes:y,nodeLookup:b,parentLookup:E,nodeOrigin:g,elevateNodesOnSelect:x,nodeExtent:N}=f();C[0][0]===N[0][0]&&C[0][1]===N[0][1]&&C[1][0]===N[1][0]&&C[1][1]===N[1][1]||(Gi(y,b,E,{nodeOrigin:g,nodeExtent:C,elevateNodesOnSelect:x,checkEquality:!1}),d({nodeExtent:C}))},panBy:C=>{const{transform:y,width:b,height:E,panZoom:g,translateExtent:x}=f();return rp({delta:C,panZoom:g,transform:y,translateExtent:x,width:b,height:E})},setCenter:async(C,y,b)=>{const{width:E,height:g,maxZoom:x,panZoom:N}=f();if(!N)return Promise.resolve(!1);const B=typeof b?.zoom<"u"?b.zoom:x;return await N.setViewport({x:E/2-C*B,y:g/2-y*B,zoom:B},{duration:b?.duration,ease:b?.ease,interpolate:b?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...Hc}})},updateConnection:C=>{d({connection:C})},reset:()=>d({...Fs()})}},Object.is);function KA({initialNodes:e,initialEdges:n,defaultNodes:t,defaultEdges:l,initialWidth:o,initialHeight:r,initialMinZoom:i,initialMaxZoom:a,initialFitViewOptions:s,fitView:c,nodeOrigin:u,nodeExtent:A,children:d}){const[f]=O.useState(()=>p4({nodes:e,edges:n,defaultNodes:t,defaultEdges:l,width:o,height:r,fitView:c,minZoom:i,maxZoom:a,fitViewOptions:s,nodeOrigin:u,nodeExtent:A}));return m.jsx(Fp,{value:f,children:m.jsx(r3,{children:d})})}function g4({children:e,nodes:n,edges:t,defaultNodes:l,defaultEdges:o,width:r,height:i,fitView:a,fitViewOptions:s,minZoom:c,maxZoom:u,nodeOrigin:A,nodeExtent:d}){return O.useContext(Zl)?m.jsx(m.Fragment,{children:e}):m.jsx(KA,{initialNodes:n,initialEdges:t,defaultNodes:l,defaultEdges:o,initialWidth:r,initialHeight:i,fitView:a,initialFitViewOptions:s,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:A,nodeExtent:d,children:e})}const C4={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function y4({nodes:e,edges:n,defaultNodes:t,defaultEdges:l,className:o,nodeTypes:r,edgeTypes:i,onNodeClick:a,onEdgeClick:s,onInit:c,onMove:u,onMoveStart:A,onMoveEnd:d,onConnect:f,onConnectStart:p,onConnectEnd:C,onClickConnectStart:y,onClickConnectEnd:b,onNodeMouseEnter:E,onNodeMouseMove:g,onNodeMouseLeave:x,onNodeContextMenu:N,onNodeDoubleClick:B,onNodeDragStart:R,onNodeDrag:v,onNodeDragStop:I,onNodesDelete:w,onEdgesDelete:k,onDelete:D,onSelectionChange:z,onSelectionDragStart:S,onSelectionDrag:T,onSelectionDragStop:F,onSelectionContextMenu:G,onSelectionStart:$,onSelectionEnd:H,onBeforeDelete:Y,connectionMode:U,connectionLineType:W=En.Bezier,connectionLineStyle:j,connectionLineComponent:L,connectionLineContainerStyle:V,deleteKeyCode:q="Backspace",selectionKeyCode:J="Shift",selectionOnDrag:Z=!1,selectionMode:ne=Rt.Full,panActivationKeyCode:ue="Space",multiSelectionKeyCode:de=Dl()?"Meta":"Control",zoomActivationKeyCode:te=Dl()?"Meta":"Control",snapToGrid:ae,snapGrid:re,onlyRenderVisibleElements:pe=!1,selectNodesOnDrag:xe,nodesDraggable:Me,autoPanOnNodeFocus:Qe,nodesConnectable:rn,nodesFocusable:wn,nodeOrigin:_n=EA,edgesFocusable:kn,edgesReconnectable:sn,elementsSelectable:an=!0,defaultViewport:Ve=Kp,minZoom:Oe=.5,maxZoom:hn=2,translateExtent:at=jt,preventScrolling:qt=!0,nodeExtent:Sn,defaultMarkerColor:Yt="#b1b1b7",zoomOnScroll:zn=!0,zoomOnPinch:Un=!0,panOnScroll:He=!1,panOnScrollSpeed:pn=.5,panOnScrollMode:ct=Rn.Free,zoomOnDoubleClick:At=!0,panOnDrag:oo=!0,onPaneClick:Qn,onPaneMouseEnter:Vn,onPaneMouseMove:io,onPaneMouseLeave:Nn,onPaneScroll:ro,onPaneContextMenu:so,paneClickDistance:Ee=0,nodeClickDistance:gn=0,children:ao,onReconnect:Wt,onReconnectStart:ut,onReconnectEnd:Kt,onEdgeContextMenu:Xt,onEdgeDoubleClick:co,onEdgeMouseEnter:Ge,onEdgeMouseMove:Cn,onEdgeMouseLeave:Zt,reconnectRadius:Jt=10,onNodesChange:dt,onEdgesChange:el,noDragClassName:$e="nodrag",noWheelClassName:nl="nowheel",noPanClassName:mt="nopan",fitView:ft,fitViewOptions:ht,connectOnClick:Ao,attributionPosition:se,proOptions:P,defaultEdgeOptions:ee,elevateNodesOnSelect:le,elevateEdgesOnSelect:Ce,disableKeyboardA11y:Se=!1,autoPanOnConnect:ve,autoPanOnNodeDrag:Ie,autoPanSpeed:qe,connectionRadius:Mn,isValidConnection:pt,onError:Ne,style:tl,id:gt,nodeDragThreshold:Mu,connectionDragThreshold:Iu,viewport:Bu,onViewportChange:Du,width:Tu,height:Ou,colorMode:ju="light",debug:Ru,onScroll:vr,ariaLabelConfig:Fu,...Lu},Pu){const uo=gt||"1",Gu=e3(ju),zu=O.useCallback(wr=>{wr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),vr?.(wr)},[vr]);return m.jsx("div",{"data-testid":"rf__wrapper",...Lu,onScroll:zu,style:{...tl,...C4},ref:Pu,className:ke(["react-flow",o,Gu]),id:gt,role:"application",children:m.jsxs(g4,{nodes:e,edges:n,width:Tu,height:Ou,fitView:ft,fitViewOptions:ht,minZoom:Oe,maxZoom:hn,nodeOrigin:_n,nodeExtent:Sn,children:[m.jsx(h4,{onInit:c,onNodeClick:a,onEdgeClick:s,onNodeMouseEnter:E,onNodeMouseMove:g,onNodeMouseLeave:x,onNodeContextMenu:N,onNodeDoubleClick:B,nodeTypes:r,edgeTypes:i,connectionLineType:W,connectionLineStyle:j,connectionLineComponent:L,connectionLineContainerStyle:V,selectionKeyCode:J,selectionOnDrag:Z,selectionMode:ne,deleteKeyCode:q,multiSelectionKeyCode:de,panActivationKeyCode:ue,zoomActivationKeyCode:te,onlyRenderVisibleElements:pe,defaultViewport:Ve,translateExtent:at,minZoom:Oe,maxZoom:hn,preventScrolling:qt,zoomOnScroll:zn,zoomOnPinch:Un,zoomOnDoubleClick:At,panOnScroll:He,panOnScrollSpeed:pn,panOnScrollMode:ct,panOnDrag:oo,onPaneClick:Qn,onPaneMouseEnter:Vn,onPaneMouseMove:io,onPaneMouseLeave:Nn,onPaneScroll:ro,onPaneContextMenu:so,paneClickDistance:Ee,nodeClickDistance:gn,onSelectionContextMenu:G,onSelectionStart:$,onSelectionEnd:H,onReconnect:Wt,onReconnectStart:ut,onReconnectEnd:Kt,onEdgeContextMenu:Xt,onEdgeDoubleClick:co,onEdgeMouseEnter:Ge,onEdgeMouseMove:Cn,onEdgeMouseLeave:Zt,reconnectRadius:Jt,defaultMarkerColor:Yt,noDragClassName:$e,noWheelClassName:nl,noPanClassName:mt,rfId:uo,disableKeyboardA11y:Se,nodeExtent:Sn,viewport:Bu,onViewportChange:Du}),m.jsx(Jp,{nodes:e,edges:n,defaultNodes:t,defaultEdges:l,onConnect:f,onConnectStart:p,onConnectEnd:C,onClickConnectStart:y,onClickConnectEnd:b,nodesDraggable:Me,autoPanOnNodeFocus:Qe,nodesConnectable:rn,nodesFocusable:wn,edgesFocusable:kn,edgesReconnectable:sn,elementsSelectable:an,elevateNodesOnSelect:le,elevateEdgesOnSelect:Ce,minZoom:Oe,maxZoom:hn,nodeExtent:Sn,onNodesChange:dt,onEdgesChange:el,snapToGrid:ae,snapGrid:re,connectionMode:U,translateExtent:at,connectOnClick:Ao,defaultEdgeOptions:ee,fitView:ft,fitViewOptions:ht,onNodesDelete:w,onEdgesDelete:k,onDelete:D,onNodeDragStart:R,onNodeDrag:v,onNodeDragStop:I,onSelectionDrag:T,onSelectionDragStart:S,onSelectionDragStop:F,onMove:u,onMoveStart:A,onMoveEnd:d,noPanClassName:mt,nodeOrigin:_n,rfId:uo,autoPanOnConnect:ve,autoPanOnNodeDrag:Ie,autoPanSpeed:qe,onError:Ne,connectionRadius:Mn,isValidConnection:pt,selectNodesOnDrag:xe,nodeDragThreshold:Mu,connectionDragThreshold:Iu,onBeforeDelete:Y,paneClickDistance:Ee,debug:Ru,ariaLabelConfig:Fu}),m.jsx(Wp,{onSelectionChange:z}),ao,m.jsx(Vp,{proOptions:P,position:se}),m.jsx(Qp,{rfId:uo,disableKeyboardA11y:Se})]})})}var b4=kA(y4);function x4(e){const[n,t]=O.useState(e),l=O.useCallback(o=>t(r=>wA(o,r)),[]);return[n,t,l]}function E4(e){const[n,t]=O.useState(e),l=O.useCallback(o=>t(r=>_A(o,r)),[]);return[n,t,l]}function v4({dimensions:e,lineWidth:n,variant:t,className:l}){return m.jsx("path",{strokeWidth:n,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ke(["react-flow__background-pattern",t,l])})}function w4({radius:e,className:n}){return m.jsx("circle",{cx:e,cy:e,r:e,className:ke(["react-flow__background-pattern","dots",n])})}var vn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vn||(vn={}));const _4={[vn.Dots]:1,[vn.Lines]:1,[vn.Cross]:6},k4=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function XA({id:e,variant:n=vn.Dots,gap:t=20,size:l,lineWidth:o=1,offset:r=0,color:i,bgColor:a,style:s,className:c,patternClassName:u}){const A=O.useRef(null),{transform:d,patternId:f}=he(k4,be),p=l||_4[n],C=n===vn.Dots,y=n===vn.Cross,b=Array.isArray(t)?t:[t,t],E=[b[0]*d[2]||1,b[1]*d[2]||1],g=p*d[2],x=Array.isArray(r)?r:[r,r],N=y?[g,g]:E,B=[x[0]*d[2]||1+N[0]/2,x[1]*d[2]||1+N[1]/2],R=`${f}${e||""}`;return m.jsxs("svg",{className:ke(["react-flow__background",c]),style:{...s,...eo,"--xy-background-color-props":a,"--xy-background-pattern-color-props":i},ref:A,"data-testid":"rf__background",children:[m.jsx("pattern",{id:R,x:d[0]%E[0],y:d[1]%E[1],width:E[0],height:E[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${B[0]},-${B[1]})`,children:C?m.jsx(w4,{radius:g/2,className:u}):m.jsx(v4,{dimensions:N,lineWidth:o,variant:n,className:u})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}XA.displayName="Background";const S4=O.memo(XA);function N4(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function M4(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function I4(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function B4(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function D4(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ml({children:e,className:n,...t}){return m.jsx("button",{type:"button",className:ke(["react-flow__controls-button",n]),...t,children:e})}const T4=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function ZA({style:e,showZoom:n=!0,showFitView:t=!0,showInteractive:l=!0,fitViewOptions:o,onZoomIn:r,onZoomOut:i,onFitView:a,onInteractiveChange:s,className:c,children:u,position:A="bottom-left",orientation:d="vertical","aria-label":f}){const p=ye(),{isInteractive:C,minZoomReached:y,maxZoomReached:b,ariaLabelConfig:E}=he(T4,be),{zoomIn:g,zoomOut:x,fitView:N}=Jl(),B=()=>{g(),r?.()},R=()=>{x(),i?.()},v=()=>{N(o),a?.()},I=()=>{p.setState({nodesDraggable:!C,nodesConnectable:!C,elementsSelectable:!C}),s?.(!C)},w=d==="horizontal"?"horizontal":"vertical";return m.jsxs($t,{className:ke(["react-flow__controls",w,c]),position:A,style:e,"data-testid":"rf__controls","aria-label":f??E["controls.ariaLabel"],children:[n&&m.jsxs(m.Fragment,{children:[m.jsx(ml,{onClick:B,className:"react-flow__controls-zoomin",title:E["controls.zoomIn.ariaLabel"],"aria-label":E["controls.zoomIn.ariaLabel"],disabled:b,children:m.jsx(N4,{})}),m.jsx(ml,{onClick:R,className:"react-flow__controls-zoomout",title:E["controls.zoomOut.ariaLabel"],"aria-label":E["controls.zoomOut.ariaLabel"],disabled:y,children:m.jsx(M4,{})})]}),t&&m.jsx(ml,{className:"react-flow__controls-fitview",onClick:v,title:E["controls.fitView.ariaLabel"],"aria-label":E["controls.fitView.ariaLabel"],children:m.jsx(I4,{})}),l&&m.jsx(ml,{className:"react-flow__controls-interactive",onClick:I,title:E["controls.interactive.ariaLabel"],"aria-label":E["controls.interactive.ariaLabel"],children:C?m.jsx(D4,{}):m.jsx(B4,{})}),u]})}ZA.displayName="Controls";const O4=O.memo(ZA);function j4({id:e,x:n,y:t,width:l,height:o,style:r,color:i,strokeColor:a,strokeWidth:s,className:c,borderRadius:u,shapeRendering:A,selected:d,onClick:f}){const{background:p,backgroundColor:C}=r||{},y=i||p||C;return m.jsx("rect",{className:ke(["react-flow__minimap-node",{selected:d},c]),x:n,y:t,rx:u,ry:u,width:l,height:o,style:{fill:y,stroke:a,strokeWidth:s},shapeRendering:A,onClick:f?b=>f(b,e):void 0})}const R4=O.memo(j4),F4=e=>e.nodes.map(n=>n.id),Do=e=>e instanceof Function?e:()=>e;function L4({nodeStrokeColor:e,nodeColor:n,nodeClassName:t="",nodeBorderRadius:l=5,nodeStrokeWidth:o,nodeComponent:r=R4,onClick:i}){const a=he(F4,be),s=Do(n),c=Do(e),u=Do(t),A=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:a.map(d=>m.jsx(G4,{id:d,nodeColorFunc:s,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:l,nodeStrokeWidth:o,NodeComponent:r,onClick:i,shapeRendering:A},d))})}function P4({id:e,nodeColorFunc:n,nodeStrokeColorFunc:t,nodeClassNameFunc:l,nodeBorderRadius:o,nodeStrokeWidth:r,shapeRendering:i,NodeComponent:a,onClick:s}){const{node:c,x:u,y:A,width:d,height:f}=he(p=>{const{internals:C}=p.nodeLookup.get(e),y=C.userNode,{x:b,y:E}=C.positionAbsolute,{width:g,height:x}=fn(y);return{node:y,x:b,y:E,width:g,height:x}},be);return!c||c.hidden||!Zc(c)?null:m.jsx(a,{x:u,y:A,width:d,height:f,style:c.style,selected:!!c.selected,className:l(c),color:n(c),borderRadius:o,strokeColor:t(c),strokeWidth:r,shapeRendering:i,onClick:s,id:c.id})}const G4=O.memo(P4);var z4=O.memo(L4);const U4=200,Q4=150,V4=e=>!e.hidden,H4=e=>{const n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:e.nodeLookup.size>0?Xc(Vt(e.nodeLookup,{filter:V4}),n):n,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},$4="react-flow__minimap-desc";function JA({style:e,className:n,nodeStrokeColor:t,nodeColor:l,nodeClassName:o="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:a,bgColor:s,maskColor:c,maskStrokeColor:u,maskStrokeWidth:A,position:d="bottom-right",onClick:f,onNodeClick:p,pannable:C=!1,zoomable:y=!1,ariaLabel:b,inversePan:E,zoomStep:g=10,offsetScale:x=5}){const N=ye(),B=O.useRef(null),{boundingRect:R,viewBB:v,rfId:I,panZoom:w,translateExtent:k,flowWidth:D,flowHeight:z,ariaLabelConfig:S}=he(H4,be),T=e?.width??U4,F=e?.height??Q4,G=R.width/T,$=R.height/F,H=Math.max(G,$),Y=H*T,U=H*F,W=x*H,j=R.x-(Y-R.width)/2-W,L=R.y-(U-R.height)/2-W,V=Y+W*2,q=U+W*2,J=`${$4}-${I}`,Z=O.useRef(0),ne=O.useRef();Z.current=H,O.useEffect(()=>{if(B.current&&w)return ne.current=fp({domNode:B.current,panZoom:w,getTransform:()=>N.getState().transform,getViewScale:()=>Z.current}),()=>{ne.current?.destroy()}},[w]),O.useEffect(()=>{ne.current?.update({translateExtent:k,width:D,height:z,inversePan:E,pannable:C,zoomStep:g,zoomable:y})},[C,y,E,g,k,D,z]);const ue=f?ae=>{const[re,pe]=ne.current?.pointer(ae)||[0,0];f(ae,{x:re,y:pe})}:void 0,de=p?O.useCallback((ae,re)=>{const pe=N.getState().nodeLookup.get(re).internals.userNode;p(ae,pe)},[]):void 0,te=b??S["minimap.ariaLabel"];return m.jsx($t,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof A=="number"?A*H:void 0,"--xy-minimap-node-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-node-stroke-color-props":typeof t=="string"?t:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:ke(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:T,height:F,viewBox:`${j} ${L} ${V} ${q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":J,ref:B,onClick:ue,children:[te&&m.jsx("title",{id:J,children:te}),m.jsx(z4,{onClick:de,nodeColor:l,nodeStrokeColor:t,nodeBorderRadius:r,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:a}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${j-W},${L-W}h${V+W*2}v${q+W*2}h${-V-W*2}z
        M${v.x},${v.y}h${v.width}v${v.height}h${-v.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}JA.displayName="MiniMap";O.memo(JA);const q4=e=>n=>e?`${Math.max(1/n.transform[2],1)}`:void 0,Y4={[it.Line]:"right",[it.Handle]:"bottom-right"};function W4({nodeId:e,position:n,variant:t=it.Handle,className:l,style:o=void 0,children:r,color:i,minWidth:a=10,minHeight:s=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:A=!1,resizeDirection:d,autoScale:f=!0,shouldResize:p,onResizeStart:C,onResize:y,onResizeEnd:b}){const E=IA(),g=typeof e=="string"?e:E,x=ye(),N=O.useRef(null),B=t===it.Handle,R=he(O.useCallback(q4(B&&f),[B,f]),be),v=O.useRef(null),I=n??Y4[t];O.useEffect(()=>{if(!(!N.current||!g))return v.current||(v.current=Ip({domNode:N.current,nodeId:g,getStoreItems:()=>{const{nodeLookup:k,transform:D,snapGrid:z,snapToGrid:S,nodeOrigin:T,domNode:F}=x.getState();return{nodeLookup:k,transform:D,snapGrid:z,snapToGrid:S,nodeOrigin:T,paneDomNode:F}},onChange:(k,D)=>{const{triggerNodeChanges:z,nodeLookup:S,parentLookup:T,nodeOrigin:F}=x.getState(),G=[],$={x:k.x,y:k.y},H=S.get(g);if(H&&H.expandParent&&H.parentId){const Y=H.origin??F,U=k.width??H.measured.width??0,W=k.height??H.measured.height??0,j={id:H.id,parentId:H.parentId,rect:{width:U,height:W,...Jc({x:k.x??H.position.x,y:k.y??H.position.y},{width:U,height:W},H.parentId,S,Y)}},L=hr([j],S,T,F);G.push(...L),$.x=k.x?Math.max(Y[0]*U,k.x):void 0,$.y=k.y?Math.max(Y[1]*W,k.y):void 0}if($.x!==void 0&&$.y!==void 0){const Y={id:g,type:"position",position:{...$}};G.push(Y)}if(k.width!==void 0&&k.height!==void 0){const U={id:g,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:k.width,height:k.height}};G.push(U)}for(const Y of D){const U={...Y,type:"position"};G.push(U)}z(G)},onEnd:({width:k,height:D})=>{const z={id:g,type:"dimensions",resizing:!1,dimensions:{width:k,height:D}};x.getState().triggerNodeChanges([z])}})),v.current.update({controlPosition:I,boundaries:{minWidth:a,minHeight:s,maxWidth:c,maxHeight:u},keepAspectRatio:A,resizeDirection:d,onResizeStart:C,onResize:y,onResizeEnd:b,shouldResize:p}),()=>{v.current?.destroy()}},[I,a,s,c,u,A,C,y,b,p]);const w=I.split("-");return m.jsx("div",{className:ke(["react-flow__resize-control","nodrag",...w,t,l]),ref:N,style:{...o,scale:R,...i&&{[B?"backgroundColor":"borderColor"]:i}},children:r})}O.memo(W4);var To,Ls;function gr(){if(Ls)return To;Ls=1;var e="\0",n="\0",t="";class l{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(u){u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[n]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(A=>Object.keys(u._in[A]).length===0)}sinks(){var u=this;return this.nodes().filter(A=>Object.keys(u._out[A]).length===0)}setNodes(u,A){var d=arguments,f=this;return u.forEach(function(p){d.length>1?f.setNode(p,A):f.setNode(p)}),this}setNode(u,A){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=A),this):(this._nodes[u]=arguments.length>1?A:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var A=this;if(Object.hasOwn(this._nodes,u)){var d=f=>A.removeEdge(A._edgeObjs[f]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(f){A.setParent(f)}),delete this._children[u]),Object.keys(this._in[u]).forEach(d),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(d),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,A){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(A===void 0)A=n;else{A+="";for(var d=A;d!==void 0;d=this.parent(d))if(d===u)throw new Error("Setting "+A+" as parent of "+u+" would create a cycle");this.setNode(A)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=A,this._children[A][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var A=this._parent[u];if(A!==n)return A}}children(u=n){if(this._isCompound){var A=this._children[u];if(A)return Object.keys(A)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var A=this._preds[u];if(A)return Object.keys(A)}successors(u){var A=this._sucs[u];if(A)return Object.keys(A)}neighbors(u){var A=this.predecessors(u);if(A){const f=new Set(A);for(var d of this.successors(u))f.add(d);return Array.from(f.values())}}isLeaf(u){var A;return this.isDirected()?A=this.successors(u):A=this.neighbors(u),A.length===0}filterNodes(u){var A=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});A.setGraph(this.graph());var d=this;Object.entries(this._nodes).forEach(function([C,y]){u(C)&&A.setNode(C,y)}),Object.values(this._edgeObjs).forEach(function(C){A.hasNode(C.v)&&A.hasNode(C.w)&&A.setEdge(C,d.edge(C))});var f={};function p(C){var y=d.parent(C);return y===void 0||A.hasNode(y)?(f[C]=y,y):y in f?f[y]:p(y)}return this._isCompound&&A.nodes().forEach(C=>A.setParent(C,p(C))),A}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,A){var d=this,f=arguments;return u.reduce(function(p,C){return f.length>1?d.setEdge(p,C,A):d.setEdge(p,C),C}),this}setEdge(){var u,A,d,f,p=!1,C=arguments[0];typeof C=="object"&&C!==null&&"v"in C?(u=C.v,A=C.w,d=C.name,arguments.length===2&&(f=arguments[1],p=!0)):(u=C,A=arguments[1],d=arguments[3],arguments.length>2&&(f=arguments[2],p=!0)),u=""+u,A=""+A,d!==void 0&&(d=""+d);var y=i(this._isDirected,u,A,d);if(Object.hasOwn(this._edgeLabels,y))return p&&(this._edgeLabels[y]=f),this;if(d!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(A),this._edgeLabels[y]=p?f:this._defaultEdgeLabelFn(u,A,d);var b=a(this._isDirected,u,A,d);return u=b.v,A=b.w,Object.freeze(b),this._edgeObjs[y]=b,o(this._preds[A],u),o(this._sucs[u],A),this._in[A][y]=b,this._out[u][y]=b,this._edgeCount++,this}edge(u,A,d){var f=arguments.length===1?s(this._isDirected,arguments[0]):i(this._isDirected,u,A,d);return this._edgeLabels[f]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,A,d){var f=arguments.length===1?s(this._isDirected,arguments[0]):i(this._isDirected,u,A,d);return Object.hasOwn(this._edgeLabels,f)}removeEdge(u,A,d){var f=arguments.length===1?s(this._isDirected,arguments[0]):i(this._isDirected,u,A,d),p=this._edgeObjs[f];return p&&(u=p.v,A=p.w,delete this._edgeLabels[f],delete this._edgeObjs[f],r(this._preds[A],u),r(this._sucs[u],A),delete this._in[A][f],delete this._out[u][f],this._edgeCount--),this}inEdges(u,A){var d=this._in[u];if(d){var f=Object.values(d);return A?f.filter(p=>p.v===A):f}}outEdges(u,A){var d=this._out[u];if(d){var f=Object.values(d);return A?f.filter(p=>p.w===A):f}}nodeEdges(u,A){var d=this.inEdges(u,A);if(d)return d.concat(this.outEdges(u,A))}}function o(c,u){c[u]?c[u]++:c[u]=1}function r(c,u){--c[u]||delete c[u]}function i(c,u,A,d){var f=""+u,p=""+A;if(!c&&f>p){var C=f;f=p,p=C}return f+t+p+t+(d===void 0?e:d)}function a(c,u,A,d){var f=""+u,p=""+A;if(!c&&f>p){var C=f;f=p,p=C}var y={v:f,w:p};return d&&(y.name=d),y}function s(c,u){return i(c,u.v,u.w,u.name)}return To=l,To}var Oo,Ps;function K4(){return Ps||(Ps=1,Oo="2.2.4"),Oo}var jo,Gs;function X4(){return Gs||(Gs=1,jo={Graph:gr(),version:K4()}),jo}var Ro,zs;function Z4(){if(zs)return Ro;zs=1;var e=gr();Ro={write:n,read:o};function n(r){var i={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:t(r),edges:l(r)};return r.graph()!==void 0&&(i.value=structuredClone(r.graph())),i}function t(r){return r.nodes().map(function(i){var a=r.node(i),s=r.parent(i),c={v:i};return a!==void 0&&(c.value=a),s!==void 0&&(c.parent=s),c})}function l(r){return r.edges().map(function(i){var a=r.edge(i),s={v:i.v,w:i.w};return i.name!==void 0&&(s.name=i.name),a!==void 0&&(s.value=a),s})}function o(r){var i=new e(r.options).setGraph(r.value);return r.nodes.forEach(function(a){i.setNode(a.v,a.value),a.parent&&i.setParent(a.v,a.parent)}),r.edges.forEach(function(a){i.setEdge({v:a.v,w:a.w,name:a.name},a.value)}),i}return Ro}var Fo,Us;function J4(){if(Us)return Fo;Us=1,Fo=e;function e(n){var t={},l=[],o;function r(i){Object.hasOwn(t,i)||(t[i]=!0,o.push(i),n.successors(i).forEach(r),n.predecessors(i).forEach(r))}return n.nodes().forEach(function(i){o=[],r(i),o.length&&l.push(o)}),l}return Fo}var Lo,Qs;function eu(){if(Qs)return Lo;Qs=1;class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(t){return t.key})}has(t){return Object.hasOwn(this._keyIndices,t)}priority(t){var l=this._keyIndices[t];if(l!==void 0)return this._arr[l].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(t,l){var o=this._keyIndices;if(t=String(t),!Object.hasOwn(o,t)){var r=this._arr,i=r.length;return o[t]=i,r.push({key:t,priority:l}),this._decrease(i),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key}decrease(t,l){var o=this._keyIndices[t];if(l>this._arr[o].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[o].priority+" New: "+l);this._arr[o].priority=l,this._decrease(o)}_heapify(t){var l=this._arr,o=2*t,r=o+1,i=t;o<l.length&&(i=l[o].priority<l[i].priority?o:i,r<l.length&&(i=l[r].priority<l[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))}_decrease(t){for(var l=this._arr,o=l[t].priority,r;t!==0&&(r=t>>1,!(l[r].priority<o));)this._swap(t,r),t=r}_swap(t,l){var o=this._arr,r=this._keyIndices,i=o[t],a=o[l];o[t]=a,o[l]=i,r[a.key]=t,r[i.key]=l}}return Lo=e,Lo}var Po,Vs;function nu(){if(Vs)return Po;Vs=1;var e=eu();Po=t;var n=()=>1;function t(o,r,i,a){return l(o,String(r),i||n,a||function(s){return o.outEdges(s)})}function l(o,r,i,a){var s={},c=new e,u,A,d=function(f){var p=f.v!==u?f.v:f.w,C=s[p],y=i(f),b=A.distance+y;if(y<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+y);b<C.distance&&(C.distance=b,C.predecessor=u,c.decrease(p,b))};for(o.nodes().forEach(function(f){var p=f===r?0:Number.POSITIVE_INFINITY;s[f]={distance:p},c.add(f,p)});c.size()>0&&(u=c.removeMin(),A=s[u],A.distance!==Number.POSITIVE_INFINITY);)a(u).forEach(d);return s}return Po}var Go,Hs;function eg(){if(Hs)return Go;Hs=1;var e=nu();Go=n;function n(t,l,o){return t.nodes().reduce(function(r,i){return r[i]=e(t,i,l,o),r},{})}return Go}var zo,$s;function tu(){if($s)return zo;$s=1,zo=e;function e(n){var t=0,l=[],o={},r=[];function i(a){var s=o[a]={onStack:!0,lowlink:t,index:t++};if(l.push(a),n.successors(a).forEach(function(A){Object.hasOwn(o,A)?o[A].onStack&&(s.lowlink=Math.min(s.lowlink,o[A].index)):(i(A),s.lowlink=Math.min(s.lowlink,o[A].lowlink))}),s.lowlink===s.index){var c=[],u;do u=l.pop(),o[u].onStack=!1,c.push(u);while(a!==u);r.push(c)}}return n.nodes().forEach(function(a){Object.hasOwn(o,a)||i(a)}),r}return zo}var Uo,qs;function ng(){if(qs)return Uo;qs=1;var e=tu();Uo=n;function n(t){return e(t).filter(function(l){return l.length>1||l.length===1&&t.hasEdge(l[0],l[0])})}return Uo}var Qo,Ys;function tg(){if(Ys)return Qo;Ys=1,Qo=n;var e=()=>1;function n(l,o,r){return t(l,o||e,r||function(i){return l.outEdges(i)})}function t(l,o,r){var i={},a=l.nodes();return a.forEach(function(s){i[s]={},i[s][s]={distance:0},a.forEach(function(c){s!==c&&(i[s][c]={distance:Number.POSITIVE_INFINITY})}),r(s).forEach(function(c){var u=c.v===s?c.w:c.v,A=o(c);i[s][u]={distance:A,predecessor:s}})}),a.forEach(function(s){var c=i[s];a.forEach(function(u){var A=i[u];a.forEach(function(d){var f=A[s],p=c[d],C=A[d],y=f.distance+p.distance;y<C.distance&&(C.distance=y,C.predecessor=p.predecessor)})})}),i}return Qo}var Vo,Ws;function lu(){if(Ws)return Vo;Ws=1;function e(t){var l={},o={},r=[];function i(a){if(Object.hasOwn(o,a))throw new n;Object.hasOwn(l,a)||(o[a]=!0,l[a]=!0,t.predecessors(a).forEach(i),delete o[a],r.push(a))}if(t.sinks().forEach(i),Object.keys(l).length!==t.nodeCount())throw new n;return r}class n extends Error{constructor(){super(...arguments)}}return Vo=e,e.CycleException=n,Vo}var Ho,Ks;function lg(){if(Ks)return Ho;Ks=1;var e=lu();Ho=n;function n(t){try{e(t)}catch(l){if(l instanceof e.CycleException)return!1;throw l}return!0}return Ho}var $o,Xs;function ou(){if(Xs)return $o;Xs=1,$o=e;function e(o,r,i){Array.isArray(r)||(r=[r]);var a=o.isDirected()?A=>o.successors(A):A=>o.neighbors(A),s=i==="post"?n:t,c=[],u={};return r.forEach(A=>{if(!o.hasNode(A))throw new Error("Graph does not have node: "+A);s(A,a,u,c)}),c}function n(o,r,i,a){for(var s=[[o,!1]];s.length>0;){var c=s.pop();c[1]?a.push(c[0]):Object.hasOwn(i,c[0])||(i[c[0]]=!0,s.push([c[0],!0]),l(r(c[0]),u=>s.push([u,!1])))}}function t(o,r,i,a){for(var s=[o];s.length>0;){var c=s.pop();Object.hasOwn(i,c)||(i[c]=!0,a.push(c),l(r(c),u=>s.push(u)))}}function l(o,r){for(var i=o.length;i--;)r(o[i],i,o);return o}return $o}var qo,Zs;function og(){if(Zs)return qo;Zs=1;var e=ou();qo=n;function n(t,l){return e(t,l,"post")}return qo}var Yo,Js;function ig(){if(Js)return Yo;Js=1;var e=ou();Yo=n;function n(t,l){return e(t,l,"pre")}return Yo}var Wo,ea;function rg(){if(ea)return Wo;ea=1;var e=gr(),n=eu();Wo=t;function t(l,o){var r=new e,i={},a=new n,s;function c(A){var d=A.v===s?A.w:A.v,f=a.priority(d);if(f!==void 0){var p=o(A);p<f&&(i[d]=s,a.decrease(d,p))}}if(l.nodeCount()===0)return r;l.nodes().forEach(function(A){a.add(A,Number.POSITIVE_INFINITY),r.setNode(A)}),a.decrease(l.nodes()[0],0);for(var u=!1;a.size()>0;){if(s=a.removeMin(),Object.hasOwn(i,s))r.setEdge(s,i[s]);else{if(u)throw new Error("Input graph is not connected: "+l);u=!0}l.nodeEdges(s).forEach(c)}return r}return Wo}var Ko,na;function sg(){return na||(na=1,Ko={components:J4(),dijkstra:nu(),dijkstraAll:eg(),findCycles:ng(),floydWarshall:tg(),isAcyclic:lg(),postorder:og(),preorder:ig(),prim:rg(),tarjan:tu(),topsort:lu()}),Ko}var Xo,ta;function Ze(){if(ta)return Xo;ta=1;var e=X4();return Xo={Graph:e.Graph,json:Z4(),alg:sg(),version:e.version},Xo}var Zo,la;function ag(){if(la)return Zo;la=1;class e{constructor(){let o={};o._next=o._prev=o,this._sentinel=o}dequeue(){let o=this._sentinel,r=o._prev;if(r!==o)return n(r),r}enqueue(o){let r=this._sentinel;o._prev&&o._next&&n(o),o._next=r._next,r._next._prev=o,r._next=o,o._prev=r}toString(){let o=[],r=this._sentinel,i=r._prev;for(;i!==r;)o.push(JSON.stringify(i,t)),i=i._prev;return"["+o.join(", ")+"]"}}function n(l){l._prev._next=l._next,l._next._prev=l._prev,delete l._next,delete l._prev}function t(l,o){if(l!=="_next"&&l!=="_prev")return o}return Zo=e,Zo}var Jo,oa;function cg(){if(oa)return Jo;oa=1;let e=Ze().Graph,n=ag();Jo=l;let t=()=>1;function l(c,u){if(c.nodeCount()<=1)return[];let A=i(c,u||t);return o(A.graph,A.buckets,A.zeroIdx).flatMap(f=>c.outEdges(f.v,f.w))}function o(c,u,A){let d=[],f=u[u.length-1],p=u[0],C;for(;c.nodeCount();){for(;C=p.dequeue();)r(c,u,A,C);for(;C=f.dequeue();)r(c,u,A,C);if(c.nodeCount()){for(let y=u.length-2;y>0;--y)if(C=u[y].dequeue(),C){d=d.concat(r(c,u,A,C,!0));break}}}return d}function r(c,u,A,d,f){let p=f?[]:void 0;return c.inEdges(d.v).forEach(C=>{let y=c.edge(C),b=c.node(C.v);f&&p.push({v:C.v,w:C.w}),b.out-=y,a(u,A,b)}),c.outEdges(d.v).forEach(C=>{let y=c.edge(C),b=C.w,E=c.node(b);E.in-=y,a(u,A,E)}),c.removeNode(d.v),p}function i(c,u){let A=new e,d=0,f=0;c.nodes().forEach(y=>{A.setNode(y,{v:y,in:0,out:0})}),c.edges().forEach(y=>{let b=A.edge(y.v,y.w)||0,E=u(y),g=b+E;A.setEdge(y.v,y.w,g),f=Math.max(f,A.node(y.v).out+=E),d=Math.max(d,A.node(y.w).in+=E)});let p=s(f+d+3).map(()=>new n),C=d+1;return A.nodes().forEach(y=>{a(p,C,A.node(y))}),{graph:A,buckets:p,zeroIdx:C}}function a(c,u,A){A.out?A.in?c[A.out-A.in+u].enqueue(A):c[c.length-1].enqueue(A):c[0].enqueue(A)}function s(c){const u=[];for(let A=0;A<c;A++)u.push(A);return u}return Jo}var ei,ia;function _e(){if(ia)return ei;ia=1;let e=Ze().Graph;ei={addBorderNode:u,addDummyNode:n,applyWithChunking:f,asNonCompoundGraph:l,buildLayerMatrix:a,intersectRect:i,mapValues:B,maxRank:p,normalizeRanks:s,notime:b,partition:C,pick:N,predecessorWeights:r,range:x,removeEmptyRanks:c,simplify:t,successorWeights:o,time:y,uniqueId:g,zipObject:R};function n(v,I,w,k){for(var D=k;v.hasNode(D);)D=g(k);return w.dummy=I,v.setNode(D,w),D}function t(v){let I=new e().setGraph(v.graph());return v.nodes().forEach(w=>I.setNode(w,v.node(w))),v.edges().forEach(w=>{let k=I.edge(w.v,w.w)||{weight:0,minlen:1},D=v.edge(w);I.setEdge(w.v,w.w,{weight:k.weight+D.weight,minlen:Math.max(k.minlen,D.minlen)})}),I}function l(v){let I=new e({multigraph:v.isMultigraph()}).setGraph(v.graph());return v.nodes().forEach(w=>{v.children(w).length||I.setNode(w,v.node(w))}),v.edges().forEach(w=>{I.setEdge(w,v.edge(w))}),I}function o(v){let I=v.nodes().map(w=>{let k={};return v.outEdges(w).forEach(D=>{k[D.w]=(k[D.w]||0)+v.edge(D).weight}),k});return R(v.nodes(),I)}function r(v){let I=v.nodes().map(w=>{let k={};return v.inEdges(w).forEach(D=>{k[D.v]=(k[D.v]||0)+v.edge(D).weight}),k});return R(v.nodes(),I)}function i(v,I){let w=v.x,k=v.y,D=I.x-w,z=I.y-k,S=v.width/2,T=v.height/2;if(!D&&!z)throw new Error("Not possible to find intersection inside of the rectangle");let F,G;return Math.abs(z)*S>Math.abs(D)*T?(z<0&&(T=-T),F=T*D/z,G=T):(D<0&&(S=-S),F=S,G=S*z/D),{x:w+F,y:k+G}}function a(v){let I=x(p(v)+1).map(()=>[]);return v.nodes().forEach(w=>{let k=v.node(w),D=k.rank;D!==void 0&&(I[D][k.order]=w)}),I}function s(v){let I=v.nodes().map(k=>{let D=v.node(k).rank;return D===void 0?Number.MAX_VALUE:D}),w=f(Math.min,I);v.nodes().forEach(k=>{let D=v.node(k);Object.hasOwn(D,"rank")&&(D.rank-=w)})}function c(v){let I=v.nodes().map(S=>v.node(S).rank),w=f(Math.min,I),k=[];v.nodes().forEach(S=>{let T=v.node(S).rank-w;k[T]||(k[T]=[]),k[T].push(S)});let D=0,z=v.graph().nodeRankFactor;Array.from(k).forEach((S,T)=>{S===void 0&&T%z!==0?--D:S!==void 0&&D&&S.forEach(F=>v.node(F).rank+=D)})}function u(v,I,w,k){let D={width:0,height:0};return arguments.length>=4&&(D.rank=w,D.order=k),n(v,"border",D,I)}function A(v,I=d){const w=[];for(let k=0;k<v.length;k+=I){const D=v.slice(k,k+I);w.push(D)}return w}const d=65535;function f(v,I){if(I.length>d){const w=A(I);return v.apply(null,w.map(k=>v.apply(null,k)))}else return v.apply(null,I)}function p(v){const w=v.nodes().map(k=>{let D=v.node(k).rank;return D===void 0?Number.MIN_VALUE:D});return f(Math.max,w)}function C(v,I){let w={lhs:[],rhs:[]};return v.forEach(k=>{I(k)?w.lhs.push(k):w.rhs.push(k)}),w}function y(v,I){let w=Date.now();try{return I()}finally{console.log(v+" time: "+(Date.now()-w)+"ms")}}function b(v,I){return I()}let E=0;function g(v){var I=++E;return v+(""+I)}function x(v,I,w=1){I==null&&(I=v,v=0);let k=z=>z<I;w<0&&(k=z=>I<z);const D=[];for(let z=v;k(z);z+=w)D.push(z);return D}function N(v,I){const w={};for(const k of I)v[k]!==void 0&&(w[k]=v[k]);return w}function B(v,I){let w=I;return typeof I=="string"&&(w=k=>k[I]),Object.entries(v).reduce((k,[D,z])=>(k[D]=w(z,D),k),{})}function R(v,I){return v.reduce((w,k,D)=>(w[k]=I[D],w),{})}return ei}var ni,ra;function Ag(){if(ra)return ni;ra=1;let e=cg(),n=_e().uniqueId;ni={run:t,undo:o};function t(r){(r.graph().acyclicer==="greedy"?e(r,a(r)):l(r)).forEach(s=>{let c=r.edge(s);r.removeEdge(s),c.forwardName=s.name,c.reversed=!0,r.setEdge(s.w,s.v,c,n("rev"))});function a(s){return c=>s.edge(c).weight}}function l(r){let i=[],a={},s={};function c(u){Object.hasOwn(s,u)||(s[u]=!0,a[u]=!0,r.outEdges(u).forEach(A=>{Object.hasOwn(a,A.w)?i.push(A):c(A.w)}),delete a[u])}return r.nodes().forEach(c),i}function o(r){r.edges().forEach(i=>{let a=r.edge(i);if(a.reversed){r.removeEdge(i);let s=a.forwardName;delete a.reversed,delete a.forwardName,r.setEdge(i.w,i.v,a,s)}})}return ni}var ti,sa;function ug(){if(sa)return ti;sa=1;let e=_e();ti={run:n,undo:l};function n(o){o.graph().dummyChains=[],o.edges().forEach(r=>t(o,r))}function t(o,r){let i=r.v,a=o.node(i).rank,s=r.w,c=o.node(s).rank,u=r.name,A=o.edge(r),d=A.labelRank;if(c===a+1)return;o.removeEdge(r);let f,p,C;for(C=0,++a;a<c;++C,++a)A.points=[],p={width:0,height:0,edgeLabel:A,edgeObj:r,rank:a},f=e.addDummyNode(o,"edge",p,"_d"),a===d&&(p.width=A.width,p.height=A.height,p.dummy="edge-label",p.labelpos=A.labelpos),o.setEdge(i,f,{weight:A.weight},u),C===0&&o.graph().dummyChains.push(f),i=f;o.setEdge(i,s,{weight:A.weight},u)}function l(o){o.graph().dummyChains.forEach(r=>{let i=o.node(r),a=i.edgeLabel,s;for(o.setEdge(i.edgeObj,a);i.dummy;)s=o.successors(r)[0],o.removeNode(r),a.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(a.x=i.x,a.y=i.y,a.width=i.width,a.height=i.height),r=s,i=o.node(r)})}return ti}var li,aa;function jl(){if(aa)return li;aa=1;const{applyWithChunking:e}=_e();li={longestPath:n,slack:t};function n(l){var o={};function r(i){var a=l.node(i);if(Object.hasOwn(o,i))return a.rank;o[i]=!0;let s=l.outEdges(i).map(u=>u==null?Number.POSITIVE_INFINITY:r(u.w)-l.edge(u).minlen);var c=e(Math.min,s);return c===Number.POSITIVE_INFINITY&&(c=0),a.rank=c}l.sources().forEach(r)}function t(l,o){return l.node(o.w).rank-l.node(o.v).rank-l.edge(o).minlen}return li}var oi,ca;function iu(){if(ca)return oi;ca=1;var e=Ze().Graph,n=jl().slack;oi=t;function t(i){var a=new e({directed:!1}),s=i.nodes()[0],c=i.nodeCount();a.setNode(s,{});for(var u,A;l(a,i)<c;)u=o(a,i),A=a.hasNode(u.v)?n(i,u):-n(i,u),r(a,i,A);return a}function l(i,a){function s(c){a.nodeEdges(c).forEach(u=>{var A=u.v,d=c===A?u.w:A;!i.hasNode(d)&&!n(a,u)&&(i.setNode(d,{}),i.setEdge(c,d,{}),s(d))})}return i.nodes().forEach(s),i.nodeCount()}function o(i,a){return a.edges().reduce((c,u)=>{let A=Number.POSITIVE_INFINITY;return i.hasNode(u.v)!==i.hasNode(u.w)&&(A=n(a,u)),A<c[0]?[A,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function r(i,a,s){i.nodes().forEach(c=>a.node(c).rank+=s)}return oi}var ii,Aa;function dg(){if(Aa)return ii;Aa=1;var e=iu(),n=jl().slack,t=jl().longestPath,l=Ze().alg.preorder,o=Ze().alg.postorder,r=_e().simplify;ii=i,i.initLowLimValues=u,i.initCutValues=a,i.calcCutValue=c,i.leaveEdge=d,i.enterEdge=f,i.exchangeEdges=p;function i(E){E=r(E),t(E);var g=e(E);u(g),a(g,E);for(var x,N;x=d(g);)N=f(g,E,x),p(g,E,x,N)}function a(E,g){var x=o(E,E.nodes());x=x.slice(0,x.length-1),x.forEach(N=>s(E,g,N))}function s(E,g,x){var N=E.node(x),B=N.parent;E.edge(x,B).cutvalue=c(E,g,x)}function c(E,g,x){var N=E.node(x),B=N.parent,R=!0,v=g.edge(x,B),I=0;return v||(R=!1,v=g.edge(B,x)),I=v.weight,g.nodeEdges(x).forEach(w=>{var k=w.v===x,D=k?w.w:w.v;if(D!==B){var z=k===R,S=g.edge(w).weight;if(I+=z?S:-S,y(E,x,D)){var T=E.edge(x,D).cutvalue;I+=z?-T:T}}}),I}function u(E,g){arguments.length<2&&(g=E.nodes()[0]),A(E,{},1,g)}function A(E,g,x,N,B){var R=x,v=E.node(N);return g[N]=!0,E.neighbors(N).forEach(I=>{Object.hasOwn(g,I)||(x=A(E,g,x,I,N))}),v.low=R,v.lim=x++,B?v.parent=B:delete v.parent,x}function d(E){return E.edges().find(g=>E.edge(g).cutvalue<0)}function f(E,g,x){var N=x.v,B=x.w;g.hasEdge(N,B)||(N=x.w,B=x.v);var R=E.node(N),v=E.node(B),I=R,w=!1;R.lim>v.lim&&(I=v,w=!0);var k=g.edges().filter(D=>w===b(E,E.node(D.v),I)&&w!==b(E,E.node(D.w),I));return k.reduce((D,z)=>n(g,z)<n(g,D)?z:D)}function p(E,g,x,N){var B=x.v,R=x.w;E.removeEdge(B,R),E.setEdge(N.v,N.w,{}),u(E),a(E,g),C(E,g)}function C(E,g){var x=E.nodes().find(B=>!g.node(B).parent),N=l(E,x);N=N.slice(1),N.forEach(B=>{var R=E.node(B).parent,v=g.edge(B,R),I=!1;v||(v=g.edge(R,B),I=!0),g.node(B).rank=g.node(R).rank+(I?v.minlen:-v.minlen)})}function y(E,g,x){return E.hasEdge(g,x)}function b(E,g,x){return x.low<=g.lim&&g.lim<=x.lim}return ii}var ri,ua;function mg(){if(ua)return ri;ua=1;var e=jl(),n=e.longestPath,t=iu(),l=dg();ri=o;function o(s){var c=s.graph().ranker;if(c instanceof Function)return c(s);switch(s.graph().ranker){case"network-simplex":a(s);break;case"tight-tree":i(s);break;case"longest-path":r(s);break;case"none":break;default:a(s)}}var r=n;function i(s){n(s),t(s)}function a(s){l(s)}return ri}var si,da;function fg(){if(da)return si;da=1,si=e;function e(l){let o=t(l);l.graph().dummyChains.forEach(r=>{let i=l.node(r),a=i.edgeObj,s=n(l,o,a.v,a.w),c=s.path,u=s.lca,A=0,d=c[A],f=!0;for(;r!==a.w;){if(i=l.node(r),f){for(;(d=c[A])!==u&&l.node(d).maxRank<i.rank;)A++;d===u&&(f=!1)}if(!f){for(;A<c.length-1&&l.node(d=c[A+1]).minRank<=i.rank;)A++;d=c[A]}l.setParent(r,d),r=l.successors(r)[0]}})}function n(l,o,r,i){let a=[],s=[],c=Math.min(o[r].low,o[i].low),u=Math.max(o[r].lim,o[i].lim),A,d;A=r;do A=l.parent(A),a.push(A);while(A&&(o[A].low>c||u>o[A].lim));for(d=A,A=i;(A=l.parent(A))!==d;)s.push(A);return{path:a.concat(s.reverse()),lca:d}}function t(l){let o={},r=0;function i(a){let s=r;l.children(a).forEach(i),o[a]={low:s,lim:r++}}return l.children().forEach(i),o}return si}var ai,ma;function hg(){if(ma)return ai;ma=1;let e=_e();ai={run:n,cleanup:r};function n(i){let a=e.addDummyNode(i,"root",{},"_root"),s=l(i),c=Object.values(s),u=e.applyWithChunking(Math.max,c)-1,A=2*u+1;i.graph().nestingRoot=a,i.edges().forEach(f=>i.edge(f).minlen*=A);let d=o(i)+1;i.children().forEach(f=>t(i,a,A,d,u,s,f)),i.graph().nodeRankFactor=A}function t(i,a,s,c,u,A,d){let f=i.children(d);if(!f.length){d!==a&&i.setEdge(a,d,{weight:0,minlen:s});return}let p=e.addBorderNode(i,"_bt"),C=e.addBorderNode(i,"_bb"),y=i.node(d);i.setParent(p,d),y.borderTop=p,i.setParent(C,d),y.borderBottom=C,f.forEach(b=>{t(i,a,s,c,u,A,b);let E=i.node(b),g=E.borderTop?E.borderTop:b,x=E.borderBottom?E.borderBottom:b,N=E.borderTop?c:2*c,B=g!==x?1:u-A[d]+1;i.setEdge(p,g,{weight:N,minlen:B,nestingEdge:!0}),i.setEdge(x,C,{weight:N,minlen:B,nestingEdge:!0})}),i.parent(d)||i.setEdge(a,p,{weight:0,minlen:u+A[d]})}function l(i){var a={};function s(c,u){var A=i.children(c);A&&A.length&&A.forEach(d=>s(d,u+1)),a[c]=u}return i.children().forEach(c=>s(c,1)),a}function o(i){return i.edges().reduce((a,s)=>a+i.edge(s).weight,0)}function r(i){var a=i.graph();i.removeNode(a.nestingRoot),delete a.nestingRoot,i.edges().forEach(s=>{var c=i.edge(s);c.nestingEdge&&i.removeEdge(s)})}return ai}var ci,fa;function pg(){if(fa)return ci;fa=1;let e=_e();ci=n;function n(l){function o(r){let i=l.children(r),a=l.node(r);if(i.length&&i.forEach(o),Object.hasOwn(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(let s=a.minRank,c=a.maxRank+1;s<c;++s)t(l,"borderLeft","_bl",r,a,s),t(l,"borderRight","_br",r,a,s)}}l.children().forEach(o)}function t(l,o,r,i,a,s){let c={width:0,height:0,rank:s,borderType:o},u=a[o][s-1],A=e.addDummyNode(l,"border",c,r);a[o][s]=A,l.setParent(A,i),u&&l.setEdge(u,A,{weight:1})}return ci}var Ai,ha;function gg(){if(ha)return Ai;ha=1,Ai={adjust:e,undo:n};function e(s){let c=s.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&t(s)}function n(s){let c=s.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&o(s),(c==="lr"||c==="rl")&&(i(s),t(s))}function t(s){s.nodes().forEach(c=>l(s.node(c))),s.edges().forEach(c=>l(s.edge(c)))}function l(s){let c=s.width;s.width=s.height,s.height=c}function o(s){s.nodes().forEach(c=>r(s.node(c))),s.edges().forEach(c=>{let u=s.edge(c);u.points.forEach(r),Object.hasOwn(u,"y")&&r(u)})}function r(s){s.y=-s.y}function i(s){s.nodes().forEach(c=>a(s.node(c))),s.edges().forEach(c=>{let u=s.edge(c);u.points.forEach(a),Object.hasOwn(u,"x")&&a(u)})}function a(s){let c=s.x;s.x=s.y,s.y=c}return Ai}var ui,pa;function Cg(){if(pa)return ui;pa=1;let e=_e();ui=n;function n(t){let l={},o=t.nodes().filter(u=>!t.children(u).length),r=o.map(u=>t.node(u).rank),i=e.applyWithChunking(Math.max,r),a=e.range(i+1).map(()=>[]);function s(u){if(l[u])return;l[u]=!0;let A=t.node(u);a[A.rank].push(u),t.successors(u).forEach(s)}return o.sort((u,A)=>t.node(u).rank-t.node(A).rank).forEach(s),a}return ui}var di,ga;function yg(){if(ga)return di;ga=1;let e=_e().zipObject;di=n;function n(l,o){let r=0;for(let i=1;i<o.length;++i)r+=t(l,o[i-1],o[i]);return r}function t(l,o,r){let i=e(r,r.map((d,f)=>f)),a=o.flatMap(d=>l.outEdges(d).map(f=>({pos:i[f.w],weight:l.edge(f).weight})).sort((f,p)=>f.pos-p.pos)),s=1;for(;s<r.length;)s<<=1;let c=2*s-1;s-=1;let u=new Array(c).fill(0),A=0;return a.forEach(d=>{let f=d.pos+s;u[f]+=d.weight;let p=0;for(;f>0;)f%2&&(p+=u[f+1]),f=f-1>>1,u[f]+=d.weight;A+=d.weight*p}),A}return di}var mi,Ca;function bg(){if(Ca)return mi;Ca=1,mi=e;function e(n,t=[]){return t.map(l=>{let o=n.inEdges(l);if(o.length){let r=o.reduce((i,a)=>{let s=n.edge(a),c=n.node(a.v);return{sum:i.sum+s.weight*c.order,weight:i.weight+s.weight}},{sum:0,weight:0});return{v:l,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:l}})}return mi}var fi,ya;function xg(){if(ya)return fi;ya=1;let e=_e();fi=n;function n(o,r){let i={};o.forEach((s,c)=>{let u=i[s.v]={indegree:0,in:[],out:[],vs:[s.v],i:c};s.barycenter!==void 0&&(u.barycenter=s.barycenter,u.weight=s.weight)}),r.edges().forEach(s=>{let c=i[s.v],u=i[s.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(i[s.w]))});let a=Object.values(i).filter(s=>!s.indegree);return t(a)}function t(o){let r=[];function i(s){return c=>{c.merged||(c.barycenter===void 0||s.barycenter===void 0||c.barycenter>=s.barycenter)&&l(s,c)}}function a(s){return c=>{c.in.push(s),--c.indegree===0&&o.push(c)}}for(;o.length;){let s=o.pop();r.push(s),s.in.reverse().forEach(i(s)),s.out.forEach(a(s))}return r.filter(s=>!s.merged).map(s=>e.pick(s,["vs","i","barycenter","weight"]))}function l(o,r){let i=0,a=0;o.weight&&(i+=o.barycenter*o.weight,a+=o.weight),r.weight&&(i+=r.barycenter*r.weight,a+=r.weight),o.vs=r.vs.concat(o.vs),o.barycenter=i/a,o.weight=a,o.i=Math.min(r.i,o.i),r.merged=!0}return fi}var hi,ba;function Eg(){if(ba)return hi;ba=1;let e=_e();hi=n;function n(o,r){let i=e.partition(o,p=>Object.hasOwn(p,"barycenter")),a=i.lhs,s=i.rhs.sort((p,C)=>C.i-p.i),c=[],u=0,A=0,d=0;a.sort(l(!!r)),d=t(c,s,d),a.forEach(p=>{d+=p.vs.length,c.push(p.vs),u+=p.barycenter*p.weight,A+=p.weight,d=t(c,s,d)});let f={vs:c.flat(!0)};return A&&(f.barycenter=u/A,f.weight=A),f}function t(o,r,i){let a;for(;r.length&&(a=r[r.length-1]).i<=i;)r.pop(),o.push(a.vs),i++;return i}function l(o){return(r,i)=>r.barycenter<i.barycenter?-1:r.barycenter>i.barycenter?1:o?i.i-r.i:r.i-i.i}return hi}var pi,xa;function vg(){if(xa)return pi;xa=1;let e=bg(),n=xg(),t=Eg();pi=l;function l(i,a,s,c){let u=i.children(a),A=i.node(a),d=A?A.borderLeft:void 0,f=A?A.borderRight:void 0,p={};d&&(u=u.filter(E=>E!==d&&E!==f));let C=e(i,u);C.forEach(E=>{if(i.children(E.v).length){let g=l(i,E.v,s,c);p[E.v]=g,Object.hasOwn(g,"barycenter")&&r(E,g)}});let y=n(C,s);o(y,p);let b=t(y,c);if(d&&(b.vs=[d,b.vs,f].flat(!0),i.predecessors(d).length)){let E=i.node(i.predecessors(d)[0]),g=i.node(i.predecessors(f)[0]);Object.hasOwn(b,"barycenter")||(b.barycenter=0,b.weight=0),b.barycenter=(b.barycenter*b.weight+E.order+g.order)/(b.weight+2),b.weight+=2}return b}function o(i,a){i.forEach(s=>{s.vs=s.vs.flatMap(c=>a[c]?a[c].vs:c)})}function r(i,a){i.barycenter!==void 0?(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight):(i.barycenter=a.barycenter,i.weight=a.weight)}return pi}var gi,Ea;function wg(){if(Ea)return gi;Ea=1;let e=Ze().Graph,n=_e();gi=t;function t(o,r,i){let a=l(o),s=new e({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(c=>o.node(c));return o.nodes().forEach(c=>{let u=o.node(c),A=o.parent(c);(u.rank===r||u.minRank<=r&&r<=u.maxRank)&&(s.setNode(c),s.setParent(c,A||a),o[i](c).forEach(d=>{let f=d.v===c?d.w:d.v,p=s.edge(f,c),C=p!==void 0?p.weight:0;s.setEdge(f,c,{weight:o.edge(d).weight+C})}),Object.hasOwn(u,"minRank")&&s.setNode(c,{borderLeft:u.borderLeft[r],borderRight:u.borderRight[r]}))}),s}function l(o){for(var r;o.hasNode(r=n.uniqueId("_root")););return r}return gi}var Ci,va;function _g(){if(va)return Ci;va=1,Ci=e;function e(n,t,l){let o={},r;l.forEach(i=>{let a=n.parent(i),s,c;for(;a;){if(s=n.parent(a),s?(c=o[s],o[s]=a):(c=r,r=a),c&&c!==a){t.setEdge(c,a);return}a=s}})}return Ci}var yi,wa;function kg(){if(wa)return yi;wa=1;let e=Cg(),n=yg(),t=vg(),l=wg(),o=_g(),r=Ze().Graph,i=_e();yi=a;function a(A,d){if(d&&typeof d.customOrder=="function"){d.customOrder(A,a);return}let f=i.maxRank(A),p=s(A,i.range(1,f+1),"inEdges"),C=s(A,i.range(f-1,-1,-1),"outEdges"),y=e(A);if(u(A,y),d&&d.disableOptimalOrderHeuristic)return;let b=Number.POSITIVE_INFINITY,E;for(let g=0,x=0;x<4;++g,++x){c(g%2?p:C,g%4>=2),y=i.buildLayerMatrix(A);let N=n(A,y);N<b&&(x=0,E=Object.assign({},y),b=N)}u(A,E)}function s(A,d,f){return d.map(function(p){return l(A,p,f)})}function c(A,d){let f=new r;A.forEach(function(p){let C=p.graph().root,y=t(p,C,f,d);y.vs.forEach((b,E)=>p.node(b).order=E),o(p,f,y.vs)})}function u(A,d){Object.values(d).forEach(f=>f.forEach((p,C)=>A.node(p).order=C))}return yi}var bi,_a;function Sg(){if(_a)return bi;_a=1;let e=Ze().Graph,n=_e();bi={positionX:f,findType1Conflicts:t,findType2Conflicts:l,addConflict:r,hasConflict:i,verticalAlignment:a,horizontalCompaction:s,alignCoordinates:A,findSmallestWidthAlignment:u,balance:d};function t(y,b){let E={};function g(x,N){let B=0,R=0,v=x.length,I=N[N.length-1];return N.forEach((w,k)=>{let D=o(y,w),z=D?y.node(D).order:v;(D||w===I)&&(N.slice(R,k+1).forEach(S=>{y.predecessors(S).forEach(T=>{let F=y.node(T),G=F.order;(G<B||z<G)&&!(F.dummy&&y.node(S).dummy)&&r(E,T,S)})}),R=k+1,B=z)}),N}return b.length&&b.reduce(g),E}function l(y,b){let E={};function g(N,B,R,v,I){let w;n.range(B,R).forEach(k=>{w=N[k],y.node(w).dummy&&y.predecessors(w).forEach(D=>{let z=y.node(D);z.dummy&&(z.order<v||z.order>I)&&r(E,D,w)})})}function x(N,B){let R=-1,v,I=0;return B.forEach((w,k)=>{if(y.node(w).dummy==="border"){let D=y.predecessors(w);D.length&&(v=y.node(D[0]).order,g(B,I,k,R,v),I=k,R=v)}g(B,I,B.length,v,N.length)}),B}return b.length&&b.reduce(x),E}function o(y,b){if(y.node(b).dummy)return y.predecessors(b).find(E=>y.node(E).dummy)}function r(y,b,E){if(b>E){let x=b;b=E,E=x}let g=y[b];g||(y[b]=g={}),g[E]=!0}function i(y,b,E){if(b>E){let g=b;b=E,E=g}return!!y[b]&&Object.hasOwn(y[b],E)}function a(y,b,E,g){let x={},N={},B={};return b.forEach(R=>{R.forEach((v,I)=>{x[v]=v,N[v]=v,B[v]=I})}),b.forEach(R=>{let v=-1;R.forEach(I=>{let w=g(I);if(w.length){w=w.sort((D,z)=>B[D]-B[z]);let k=(w.length-1)/2;for(let D=Math.floor(k),z=Math.ceil(k);D<=z;++D){let S=w[D];N[I]===I&&v<B[S]&&!i(E,I,S)&&(N[S]=I,N[I]=x[I]=x[S],v=B[S])}}})}),{root:x,align:N}}function s(y,b,E,g,x){let N={},B=c(y,b,E,x),R=x?"borderLeft":"borderRight";function v(k,D){let z=B.nodes(),S=z.pop(),T={};for(;S;)T[S]?k(S):(T[S]=!0,z.push(S),z=z.concat(D(S))),S=z.pop()}function I(k){N[k]=B.inEdges(k).reduce((D,z)=>Math.max(D,N[z.v]+B.edge(z)),0)}function w(k){let D=B.outEdges(k).reduce((S,T)=>Math.min(S,N[T.w]-B.edge(T)),Number.POSITIVE_INFINITY),z=y.node(k);D!==Number.POSITIVE_INFINITY&&z.borderType!==R&&(N[k]=Math.max(N[k],D))}return v(I,B.predecessors.bind(B)),v(w,B.successors.bind(B)),Object.keys(g).forEach(k=>N[k]=N[E[k]]),N}function c(y,b,E,g){let x=new e,N=y.graph(),B=p(N.nodesep,N.edgesep,g);return b.forEach(R=>{let v;R.forEach(I=>{let w=E[I];if(x.setNode(w),v){var k=E[v],D=x.edge(k,w);x.setEdge(k,w,Math.max(B(y,I,v),D||0))}v=I})}),x}function u(y,b){return Object.values(b).reduce((E,g)=>{let x=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;Object.entries(g).forEach(([R,v])=>{let I=C(y,R)/2;x=Math.max(v+I,x),N=Math.min(v-I,N)});const B=x-N;return B<E[0]&&(E=[B,g]),E},[Number.POSITIVE_INFINITY,null])[1]}function A(y,b){let E=Object.values(b),g=n.applyWithChunking(Math.min,E),x=n.applyWithChunking(Math.max,E);["u","d"].forEach(N=>{["l","r"].forEach(B=>{let R=N+B,v=y[R];if(v===b)return;let I=Object.values(v),w=g-n.applyWithChunking(Math.min,I);B!=="l"&&(w=x-n.applyWithChunking(Math.max,I)),w&&(y[R]=n.mapValues(v,k=>k+w))})})}function d(y,b){return n.mapValues(y.ul,(E,g)=>{if(b)return y[b.toLowerCase()][g];{let x=Object.values(y).map(N=>N[g]).sort((N,B)=>N-B);return(x[1]+x[2])/2}})}function f(y){let b=n.buildLayerMatrix(y),E=Object.assign(t(y,b),l(y,b)),g={},x;["u","d"].forEach(B=>{x=B==="u"?b:Object.values(b).reverse(),["l","r"].forEach(R=>{R==="r"&&(x=x.map(k=>Object.values(k).reverse()));let v=(B==="u"?y.predecessors:y.successors).bind(y),I=a(y,x,E,v),w=s(y,x,I.root,I.align,R==="r");R==="r"&&(w=n.mapValues(w,k=>-k)),g[B+R]=w})});let N=u(y,g);return A(g,N),d(g,y.graph().align)}function p(y,b,E){return(g,x,N)=>{let B=g.node(x),R=g.node(N),v=0,I;if(v+=B.width/2,Object.hasOwn(B,"labelpos"))switch(B.labelpos.toLowerCase()){case"l":I=-B.width/2;break;case"r":I=B.width/2;break}if(I&&(v+=E?I:-I),I=0,v+=(B.dummy?b:y)/2,v+=(R.dummy?b:y)/2,v+=R.width/2,Object.hasOwn(R,"labelpos"))switch(R.labelpos.toLowerCase()){case"l":I=R.width/2;break;case"r":I=-R.width/2;break}return I&&(v+=E?I:-I),I=0,v}}function C(y,b){return y.node(b).width}return bi}var xi,ka;function Ng(){if(ka)return xi;ka=1;let e=_e(),n=Sg().positionX;xi=t;function t(o){o=e.asNonCompoundGraph(o),l(o),Object.entries(n(o)).forEach(([r,i])=>o.node(r).x=i)}function l(o){let r=e.buildLayerMatrix(o),i=o.graph().ranksep,a=0;r.forEach(s=>{const c=s.reduce((u,A)=>{const d=o.node(A).height;return u>d?u:d},0);s.forEach(u=>o.node(u).y=a+c/2),a+=c+i})}return xi}var Ei,Sa;function Mg(){if(Sa)return Ei;Sa=1;let e=Ag(),n=ug(),t=mg(),l=_e().normalizeRanks,o=fg(),r=_e().removeEmptyRanks,i=hg(),a=pg(),s=gg(),c=kg(),u=Ng(),A=_e(),d=Ze().Graph;Ei=f;function f(j,L){let V=L&&L.debugTiming?A.time:A.notime;V("layout",()=>{let q=V("  buildLayoutGraph",()=>v(j));V("  runLayout",()=>p(q,V,L)),V("  updateInputGraph",()=>C(j,q))})}function p(j,L,V){L("    makeSpaceForEdgeLabels",()=>I(j)),L("    removeSelfEdges",()=>$(j)),L("    acyclic",()=>e.run(j)),L("    nestingGraph.run",()=>i.run(j)),L("    rank",()=>t(A.asNonCompoundGraph(j))),L("    injectEdgeLabelProxies",()=>w(j)),L("    removeEmptyRanks",()=>r(j)),L("    nestingGraph.cleanup",()=>i.cleanup(j)),L("    normalizeRanks",()=>l(j)),L("    assignRankMinMax",()=>k(j)),L("    removeEdgeLabelProxies",()=>D(j)),L("    normalize.run",()=>n.run(j)),L("    parentDummyChains",()=>o(j)),L("    addBorderSegments",()=>a(j)),L("    order",()=>c(j,V)),L("    insertSelfEdges",()=>H(j)),L("    adjustCoordinateSystem",()=>s.adjust(j)),L("    position",()=>u(j)),L("    positionSelfEdges",()=>Y(j)),L("    removeBorderNodes",()=>G(j)),L("    normalize.undo",()=>n.undo(j)),L("    fixupEdgeLabelCoords",()=>T(j)),L("    undoCoordinateSystem",()=>s.undo(j)),L("    translateGraph",()=>z(j)),L("    assignNodeIntersects",()=>S(j)),L("    reversePoints",()=>F(j)),L("    acyclic.undo",()=>e.undo(j))}function C(j,L){j.nodes().forEach(V=>{let q=j.node(V),J=L.node(V);q&&(q.x=J.x,q.y=J.y,q.rank=J.rank,L.children(V).length&&(q.width=J.width,q.height=J.height))}),j.edges().forEach(V=>{let q=j.edge(V),J=L.edge(V);q.points=J.points,Object.hasOwn(J,"x")&&(q.x=J.x,q.y=J.y)}),j.graph().width=L.graph().width,j.graph().height=L.graph().height}let y=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},E=["acyclicer","ranker","rankdir","align"],g=["width","height","rank"],x={width:0,height:0},N=["minlen","weight","width","height","labeloffset"],B={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},R=["labelpos"];function v(j){let L=new d({multigraph:!0,compound:!0}),V=W(j.graph());return L.setGraph(Object.assign({},b,U(V,y),A.pick(V,E))),j.nodes().forEach(q=>{let J=W(j.node(q));const Z=U(J,g);Object.keys(x).forEach(ne=>{Z[ne]===void 0&&(Z[ne]=x[ne])}),L.setNode(q,Z),L.setParent(q,j.parent(q))}),j.edges().forEach(q=>{let J=W(j.edge(q));L.setEdge(q,Object.assign({},B,U(J,N),A.pick(J,R)))}),L}function I(j){let L=j.graph();L.ranksep/=2,j.edges().forEach(V=>{let q=j.edge(V);q.minlen*=2,q.labelpos.toLowerCase()!=="c"&&(L.rankdir==="TB"||L.rankdir==="BT"?q.width+=q.labeloffset:q.height+=q.labeloffset)})}function w(j){j.edges().forEach(L=>{let V=j.edge(L);if(V.width&&V.height){let q=j.node(L.v),Z={rank:(j.node(L.w).rank-q.rank)/2+q.rank,e:L};A.addDummyNode(j,"edge-proxy",Z,"_ep")}})}function k(j){let L=0;j.nodes().forEach(V=>{let q=j.node(V);q.borderTop&&(q.minRank=j.node(q.borderTop).rank,q.maxRank=j.node(q.borderBottom).rank,L=Math.max(L,q.maxRank))}),j.graph().maxRank=L}function D(j){j.nodes().forEach(L=>{let V=j.node(L);V.dummy==="edge-proxy"&&(j.edge(V.e).labelRank=V.rank,j.removeNode(L))})}function z(j){let L=Number.POSITIVE_INFINITY,V=0,q=Number.POSITIVE_INFINITY,J=0,Z=j.graph(),ne=Z.marginx||0,ue=Z.marginy||0;function de(te){let ae=te.x,re=te.y,pe=te.width,xe=te.height;L=Math.min(L,ae-pe/2),V=Math.max(V,ae+pe/2),q=Math.min(q,re-xe/2),J=Math.max(J,re+xe/2)}j.nodes().forEach(te=>de(j.node(te))),j.edges().forEach(te=>{let ae=j.edge(te);Object.hasOwn(ae,"x")&&de(ae)}),L-=ne,q-=ue,j.nodes().forEach(te=>{let ae=j.node(te);ae.x-=L,ae.y-=q}),j.edges().forEach(te=>{let ae=j.edge(te);ae.points.forEach(re=>{re.x-=L,re.y-=q}),Object.hasOwn(ae,"x")&&(ae.x-=L),Object.hasOwn(ae,"y")&&(ae.y-=q)}),Z.width=V-L+ne,Z.height=J-q+ue}function S(j){j.edges().forEach(L=>{let V=j.edge(L),q=j.node(L.v),J=j.node(L.w),Z,ne;V.points?(Z=V.points[0],ne=V.points[V.points.length-1]):(V.points=[],Z=J,ne=q),V.points.unshift(A.intersectRect(q,Z)),V.points.push(A.intersectRect(J,ne))})}function T(j){j.edges().forEach(L=>{let V=j.edge(L);if(Object.hasOwn(V,"x"))switch((V.labelpos==="l"||V.labelpos==="r")&&(V.width-=V.labeloffset),V.labelpos){case"l":V.x-=V.width/2+V.labeloffset;break;case"r":V.x+=V.width/2+V.labeloffset;break}})}function F(j){j.edges().forEach(L=>{let V=j.edge(L);V.reversed&&V.points.reverse()})}function G(j){j.nodes().forEach(L=>{if(j.children(L).length){let V=j.node(L),q=j.node(V.borderTop),J=j.node(V.borderBottom),Z=j.node(V.borderLeft[V.borderLeft.length-1]),ne=j.node(V.borderRight[V.borderRight.length-1]);V.width=Math.abs(ne.x-Z.x),V.height=Math.abs(J.y-q.y),V.x=Z.x+V.width/2,V.y=q.y+V.height/2}}),j.nodes().forEach(L=>{j.node(L).dummy==="border"&&j.removeNode(L)})}function $(j){j.edges().forEach(L=>{if(L.v===L.w){var V=j.node(L.v);V.selfEdges||(V.selfEdges=[]),V.selfEdges.push({e:L,label:j.edge(L)}),j.removeEdge(L)}})}function H(j){var L=A.buildLayerMatrix(j);L.forEach(V=>{var q=0;V.forEach((J,Z)=>{var ne=j.node(J);ne.order=Z+q,(ne.selfEdges||[]).forEach(ue=>{A.addDummyNode(j,"selfedge",{width:ue.label.width,height:ue.label.height,rank:ne.rank,order:Z+ ++q,e:ue.e,label:ue.label},"_se")}),delete ne.selfEdges})})}function Y(j){j.nodes().forEach(L=>{var V=j.node(L);if(V.dummy==="selfedge"){var q=j.node(V.e.v),J=q.x+q.width/2,Z=q.y,ne=V.x-J,ue=q.height/2;j.setEdge(V.e,V.label),j.removeNode(L),V.label.points=[{x:J+2*ne/3,y:Z-ue},{x:J+5*ne/6,y:Z-ue},{x:J+ne,y:Z},{x:J+5*ne/6,y:Z+ue},{x:J+2*ne/3,y:Z+ue}],V.label.x=V.x,V.label.y=V.y}})}function U(j,L){return A.mapValues(A.pick(j,L),Number)}function W(j){var L={};return j&&Object.entries(j).forEach(([V,q])=>{typeof V=="string"&&(V=V.toLowerCase()),L[V]=q}),L}return Ei}var vi,Na;function Ig(){if(Na)return vi;Na=1;let e=_e(),n=Ze().Graph;vi={debugOrdering:t};function t(l){let o=e.buildLayerMatrix(l),r=new n({compound:!0,multigraph:!0}).setGraph({});return l.nodes().forEach(i=>{r.setNode(i,{label:i}),r.setParent(i,"layer"+l.node(i).rank)}),l.edges().forEach(i=>r.setEdge(i.v,i.w,{},i.name)),o.forEach((i,a)=>{let s="layer"+a;r.setNode(s,{rank:"same"}),i.reduce((c,u)=>(r.setEdge(c,u,{style:"invis"}),u))}),r}return vi}var wi,Ma;function Bg(){return Ma||(Ma=1,wi="1.1.5"),wi}var _i,Ia;function Dg(){return Ia||(Ia=1,_i={graphlib:Ze(),layout:Mg(),debug:Ig(),util:{time:_e().time,notime:_e().notime},version:Bg()}),_i}var Tg=Dg();const Ba=Uu(Tg);function Og(e,n){return O.useReducer((t,l)=>n[t][l]??t,e)}var to=e=>{const{present:n,children:t}=e,l=jg(n),o=typeof t=="function"?t({present:l.isPresent}):O.Children.only(t),r=Ul(l.ref,Rg(o));return typeof t=="function"||l.isPresent?O.cloneElement(o,{ref:r}):null};to.displayName="Presence";function jg(e){const[n,t]=O.useState(),l=O.useRef(null),o=O.useRef(e),r=O.useRef("none"),i=e?"mounted":"unmounted",[a,s]=Og(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=fl(l.current);r.current=a==="mounted"?c:"none"},[a]),Sr(()=>{const c=l.current,u=o.current;if(u!==e){const d=r.current,f=fl(c);e?s("MOUNT"):f==="none"||c?.display==="none"?s("UNMOUNT"):s(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,s]),Sr(()=>{if(n){let c;const u=n.ownerDocument.defaultView??window,A=f=>{const C=fl(l.current).includes(f.animationName);if(f.target===n&&C&&(s("ANIMATION_END"),!o.current)){const y=n.style.animationFillMode;n.style.animationFillMode="forwards",c=u.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=y)})}},d=f=>{f.target===n&&(r.current=fl(l.current))};return n.addEventListener("animationstart",d),n.addEventListener("animationcancel",A),n.addEventListener("animationend",A),()=>{u.clearTimeout(c),n.removeEventListener("animationstart",d),n.removeEventListener("animationcancel",A),n.removeEventListener("animationend",A)}}else s("ANIMATION_END")},[n,s]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{l.current=c?getComputedStyle(c):null,t(c)},[])}}function fl(e){return e?.animationName||"none"}function Rg(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}var lo="Dialog",[ru,vC]=id(lo),[Fg,en]=ru(lo),su=e=>{const{__scopeDialog:n,children:t,open:l,defaultOpen:o,onOpenChange:r,modal:i=!0}=e,a=O.useRef(null),s=O.useRef(null),[c,u]=od({prop:l,defaultProp:o??!1,onChange:r,caller:lo});return m.jsx(Fg,{scope:n,triggerRef:a,contentRef:s,contentId:ho(),titleId:ho(),descriptionId:ho(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(A=>!A),[u]),modal:i,children:t})};su.displayName=lo;var au="DialogTrigger",cu=O.forwardRef((e,n)=>{const{__scopeDialog:t,...l}=e,o=en(au,t),r=Ul(n,o.triggerRef);return m.jsx(zt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":br(o.open),...l,ref:r,onClick:Nt(e.onClick,o.onOpenToggle)})});cu.displayName=au;var Cr="DialogPortal",[Lg,Au]=ru(Cr,{forceMount:void 0}),uu=e=>{const{__scopeDialog:n,forceMount:t,children:l,container:o}=e,r=en(Cr,n);return m.jsx(Lg,{scope:n,forceMount:t,children:O.Children.map(l,i=>m.jsx(to,{present:t||r.open,children:m.jsx(rd,{asChild:!0,container:o,children:i})}))})};uu.displayName=Cr;var Rl="DialogOverlay",du=O.forwardRef((e,n)=>{const t=Au(Rl,e.__scopeDialog),{forceMount:l=t.forceMount,...o}=e,r=en(Rl,e.__scopeDialog);return r.modal?m.jsx(to,{present:l||r.open,children:m.jsx(Gg,{...o,ref:n})}):null});du.displayName=Rl;var Pg=cd("DialogOverlay.RemoveScroll"),Gg=O.forwardRef((e,n)=>{const{__scopeDialog:t,...l}=e,o=en(Rl,t);return m.jsx(ad,{as:Pg,allowPinchZoom:!0,shards:[o.contentRef],children:m.jsx(zt.div,{"data-state":br(o.open),...l,ref:n,style:{pointerEvents:"auto",...l.style}})})}),Gn="DialogContent",mu=O.forwardRef((e,n)=>{const t=Au(Gn,e.__scopeDialog),{forceMount:l=t.forceMount,...o}=e,r=en(Gn,e.__scopeDialog);return m.jsx(to,{present:l||r.open,children:r.modal?m.jsx(zg,{...o,ref:n}):m.jsx(Ug,{...o,ref:n})})});mu.displayName=Gn;var zg=O.forwardRef((e,n)=>{const t=en(Gn,e.__scopeDialog),l=O.useRef(null),o=Ul(n,t.contentRef,l);return O.useEffect(()=>{const r=l.current;if(r)return sd(r)},[]),m.jsx(fu,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nt(e.onCloseAutoFocus,r=>{r.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Nt(e.onPointerDownOutside,r=>{const i=r.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&r.preventDefault()}),onFocusOutside:Nt(e.onFocusOutside,r=>r.preventDefault())})}),Ug=O.forwardRef((e,n)=>{const t=en(Gn,e.__scopeDialog),l=O.useRef(!1),o=O.useRef(!1);return m.jsx(fu,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(l.current||t.triggerRef.current?.focus(),r.preventDefault()),l.current=!1,o.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(l.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=r.target;t.triggerRef.current?.contains(i)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),fu=O.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:l,onOpenAutoFocus:o,onCloseAutoFocus:r,...i}=e,a=en(Gn,t),s=O.useRef(null),c=Ul(n,s);return Ad(),m.jsxs(m.Fragment,{children:[m.jsx(ud,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:o,onUnmountAutoFocus:r,children:m.jsx(dd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":br(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(Qg,{titleId:a.titleId}),m.jsx(Hg,{contentRef:s,descriptionId:a.descriptionId})]})]})}),yr="DialogTitle",hu=O.forwardRef((e,n)=>{const{__scopeDialog:t,...l}=e,o=en(yr,t);return m.jsx(zt.h2,{id:o.titleId,...l,ref:n})});hu.displayName=yr;var pu="DialogDescription",gu=O.forwardRef((e,n)=>{const{__scopeDialog:t,...l}=e,o=en(pu,t);return m.jsx(zt.p,{id:o.descriptionId,...l,ref:n})});gu.displayName=pu;var Cu="DialogClose",yu=O.forwardRef((e,n)=>{const{__scopeDialog:t,...l}=e,o=en(Cu,t);return m.jsx(zt.button,{type:"button",...l,ref:n,onClick:Nt(e.onClick,()=>o.onOpenChange(!1))})});yu.displayName=Cu;function br(e){return e?"open":"closed"}var bu="DialogTitleWarning",[wC,xu]=md(bu,{contentName:Gn,titleName:yr,docsSlug:"dialog"}),Qg=({titleId:e})=>{const n=xu(bu),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return O.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},Vg="DialogDescriptionWarning",Hg=({contentRef:e,descriptionId:n})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xu(Vg).contentName}}.`;return O.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(l))},[l,e,n]),null},$g=su,qg=cu,Yg=uu,Eu=du,vu=mu,wu=hu,_u=gu,ku=yu;function oe(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ui/dialog.tsx",n="730586ae949408fcb21132bedb38c7a7c9e1d14c",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ui/dialog.tsx",statementMap:{0:{start:{line:7,column:15},end:{line:7,column:35}},1:{start:{line:8,column:22},end:{line:8,column:45}},2:{start:{line:9,column:21},end:{line:9,column:43}},3:{start:{line:10,column:20},end:{line:10,column:41}},4:{start:{line:11,column:22},end:{line:21,column:2}},5:{start:{line:11,column:89},end:{line:21,column:1}},6:{start:{line:22,column:0},end:{line:22,column:64}},7:{start:{line:23,column:22},end:{line:43,column:5}},8:{start:{line:23,column:99},end:{line:43,column:4}},9:{start:{line:44,column:0},end:{line:44,column:64}},10:{start:{line:45,column:21},end:{line:57,column:1}},11:{start:{line:48,column:22},end:{line:57,column:1}},12:{start:{line:58,column:0},end:{line:58,column:42}},13:{start:{line:59,column:21},end:{line:71,column:1}},14:{start:{line:62,column:22},end:{line:71,column:1}},15:{start:{line:72,column:0},end:{line:72,column:42}},16:{start:{line:73,column:20},end:{line:83,column:2}},17:{start:{line:73,column:87},end:{line:83,column:1}},18:{start:{line:84,column:0},end:{line:84,column:60}},19:{start:{line:85,column:26},end:{line:92,column:2}},20:{start:{line:85,column:93},end:{line:92,column:1}},21:{start:{line:93,column:0},end:{line:93,column:72}},22:{start:{line:106,column:0},end:{line:112,column:50}},23:{start:{line:108,column:4},end:{line:108,column:34}},24:{start:{line:110,column:4},end:{line:110,column:86}},25:{start:{line:112,column:50},end:{line:118,column:50}},26:{start:{line:114,column:4},end:{line:114,column:46}},27:{start:{line:116,column:4},end:{line:116,column:98}},28:{start:{line:118,column:50},end:{line:124,column:50}},29:{start:{line:120,column:4},end:{line:120,column:48}},30:{start:{line:122,column:4},end:{line:122,column:225}},31:{start:{line:124,column:50},end:{line:130,column:50}},32:{start:{line:126,column:4},end:{line:126,column:48}},33:{start:{line:128,column:4},end:{line:128,column:225}},34:{start:{line:130,column:50},end:{line:136,column:50}},35:{start:{line:132,column:4},end:{line:132,column:44}},36:{start:{line:134,column:4},end:{line:134,column:221}},37:{start:{line:136,column:50},end:{line:142,column:50}},38:{start:{line:138,column:4},end:{line:138,column:48}},39:{start:{line:140,column:4},end:{line:140,column:225}},40:{start:{line:142,column:50},end:{line:148,column:50}},41:{start:{line:144,column:4},end:{line:144,column:46}},42:{start:{line:146,column:4},end:{line:146,column:98}},43:{start:{line:148,column:50},end:{line:154,column:50}},44:{start:{line:150,column:4},end:{line:150,column:46}},45:{start:{line:152,column:4},end:{line:152,column:98}},46:{start:{line:154,column:50},end:{line:160,column:50}},47:{start:{line:156,column:4},end:{line:156,column:44}},48:{start:{line:158,column:4},end:{line:158,column:221}},49:{start:{line:160,column:50},end:{line:166,column:50}},50:{start:{line:162,column:4},end:{line:162,column:56}},51:{start:{line:164,column:4},end:{line:164,column:233}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:11,column:39},end:{line:11,column:40}},loc:{start:{line:11,column:89},end:{line:21,column:1}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:23,column:39},end:{line:23,column:40}},loc:{start:{line:23,column:99},end:{line:43,column:4}},line:23},2:{name:"(anonymous_2)",decl:{start:{line:45,column:21},end:{line:45,column:22}},loc:{start:{line:48,column:22},end:{line:57,column:1}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:59,column:21},end:{line:59,column:22}},loc:{start:{line:62,column:22},end:{line:71,column:1}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:73,column:37},end:{line:73,column:38}},loc:{start:{line:73,column:87},end:{line:83,column:1}},line:73},5:{name:"(anonymous_5)",decl:{start:{line:85,column:43},end:{line:85,column:44}},loc:{start:{line:85,column:93},end:{line:92,column:1}},line:85}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/ui/dialog.tsx"],names:[],mappings:";AAoBE;AAlBF;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAIE;AAAiB;AAAhB;AACC;AACW;AACT;AACA;AACF;AACI;AACN;AAEF;AAEA;AAKI;AAAe;AACf;AAAiB;AAAhB;AACC;AACW;AACT;AACA;AACF;AACI;AAEH;AAAA;AAEC;AAAuB;AACQ;AACjC;AAAA;AAAA;AACF;AAGJ;AAEA;AAAsB;AACpB;AAEF;AACE;AAAC;AAAA;AACY;AACT;AACA;AACF;AACI;AACN;AAEF;AAEA;AAAsB;AACpB;AAEF;AACE;AAAC;AAAA;AACY;AACT;AACA;AACF;AACI;AACN;AAEF;AAEA;AAIE;AAAiB;AAAhB;AACC;AACW;AACT;AACA;AACF;AACI;AACN;AAEF;AAEA;AAIE;AAAiB;AAAhB;AACC;AACqE;AACjE;AACN;AAEF;AAEA;AAAA;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"730586ae949408fcb21132bedb38c7a7c9e1d14c"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return oe=function(){return i},i}oe();const Qi=(oe().s[0]++,$g),Da=(oe().s[1]++,qg),Vi=(oe().s[2]++,Yg),Ta=(oe().s[3]++,ku),Fl=(oe().s[4]++,O.forwardRef(({className:e,...n},t)=>(oe().f[0]++,oe().s[5]++,m.jsx(Eu,{ref:t,className:st("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}))));oe().s[6]++;Fl.displayName=Eu.displayName;const Ll=(oe().s[7]++,O.forwardRef(({className:e,children:n,...t},l)=>(oe().f[1]++,oe().s[8]++,m.jsxs(Vi,{children:[m.jsx(Fl,{}),m.jsxs(vu,{ref:l,className:st("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] dark:border-slate-800 dark:bg-slate-950 sm:rounded-lg",e),...t,children:[n,m.jsxs(ku,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none dark:ring-offset-slate-950 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400 dark:focus:ring-slate-300",children:[m.jsx(Pa,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}))));oe().s[9]++;Ll.displayName=vu.displayName;oe().s[10]++;const Pl=({className:e,...n})=>(oe().f[2]++,oe().s[11]++,m.jsx("div",{className:st("flex flex-col space-y-1.5 text-center sm:text-left",e),...n}));oe().s[12]++;Pl.displayName="DialogHeader";oe().s[13]++;const Gl=({className:e,...n})=>(oe().f[3]++,oe().s[14]++,m.jsx("div",{className:st("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n}));oe().s[15]++;Gl.displayName="DialogFooter";const zl=(oe().s[16]++,O.forwardRef(({className:e,...n},t)=>(oe().f[4]++,oe().s[17]++,m.jsx(wu,{ref:t,className:st("text-lg font-semibold leading-none tracking-tight",e),...n}))));oe().s[18]++;zl.displayName=wu.displayName;const Hi=(oe().s[19]++,O.forwardRef(({className:e,...n},t)=>(oe().f[5]++,oe().s[20]++,m.jsx(_u,{ref:t,className:st("text-sm text-slate-500 dark:text-slate-400",e),...n}))));oe().s[21]++;Hi.displayName=_u.displayName;oe().s[22]++;try{oe().s[23]++,Qi.displayName="Dialog",oe().s[24]++,Qi.__docgenInfo={description:"",displayName:"Dialog",props:{}}}catch{}oe().s[25]++;try{oe().s[26]++,Vi.displayName="DialogPortal",oe().s[27]++,Vi.__docgenInfo={description:"",displayName:"DialogPortal",props:{}}}catch{}oe().s[28]++;try{oe().s[29]++,Fl.displayName="DialogOverlay",oe().s[30]++,Fl.__docgenInfo={description:"",displayName:"DialogOverlay",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}oe().s[31]++;try{oe().s[32]++,Da.displayName="DialogTrigger",oe().s[33]++,Da.__docgenInfo={description:"",displayName:"DialogTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}oe().s[34]++;try{oe().s[35]++,Ta.displayName="DialogClose",oe().s[36]++,Ta.__docgenInfo={description:"",displayName:"DialogClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}oe().s[37]++;try{oe().s[38]++,Ll.displayName="DialogContent",oe().s[39]++,Ll.__docgenInfo={description:"",displayName:"DialogContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}oe().s[40]++;try{oe().s[41]++,Pl.displayName="DialogHeader",oe().s[42]++,Pl.__docgenInfo={description:"",displayName:"DialogHeader",props:{}}}catch{}oe().s[43]++;try{oe().s[44]++,Gl.displayName="DialogFooter",oe().s[45]++,Gl.__docgenInfo={description:"",displayName:"DialogFooter",props:{}}}catch{}oe().s[46]++;try{oe().s[47]++,zl.displayName="DialogTitle",oe().s[48]++,zl.__docgenInfo={description:"",displayName:"DialogTitle",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}oe().s[49]++;try{oe().s[50]++,Hi.displayName="DialogDescription",oe().s[51]++,Hi.__docgenInfo={description:"",displayName:"DialogDescription",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}function Q(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/MindMap.tsx",n="3d4d06adcbc35ed5891cfa2dc176fae5e2a9e567",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/MindMap.tsx",statementMap:{0:{start:{line:1,column:33},end:{line:1,column:35}},1:{start:{line:31,column:20},end:{line:54,column:1}},2:{start:{line:55,column:24},end:{line:57,column:1}},3:{start:{line:58,column:28},end:{line:88,column:1}},4:{start:{line:59,column:12},end:{line:59,column:70}},5:{start:{line:59,column:66},end:{line:59,column:68}},6:{start:{line:60,column:2},end:{line:66,column:5}},7:{start:{line:67,column:2},end:{line:67,column:63}},8:{start:{line:67,column:26},end:{line:67,column:61}},9:{start:{line:68,column:2},end:{line:70,column:5}},10:{start:{line:69,column:4},end:{line:69,column:51}},11:{start:{line:71,column:2},end:{line:71,column:18}},12:{start:{line:72,column:24},end:{line:83,column:4}},13:{start:{line:73,column:29},end:{line:73,column:44}},14:{start:{line:74,column:4},end:{line:82,column:6}},15:{start:{line:84,column:2},end:{line:87,column:4}},16:{start:{line:89,column:21},end:{line:391,column:1}},17:{start:{line:90,column:45},end:{line:90,column:65}},18:{start:{line:91,column:43},end:{line:91,column:60}},19:{start:{line:92,column:43},end:{line:92,column:60}},20:{start:{line:93,column:28},end:{line:93,column:42}},21:{start:{line:94,column:36},end:{line:94,column:51}},22:{start:{line:95,column:40},end:{line:95,column:55}},23:{start:{line:96,column:42},end:{line:96,column:56}},24:{start:{line:97,column:50},end:{line:97,column:65}},25:{start:{line:98,column:36},end:{line:98,column:48}},26:{start:{line:99,column:20},end:{line:99,column:34}},27:{start:{line:100,column:17},end:{line:100,column:114}},28:{start:{line:101,column:36},end:{line:101,column:50}},29:{start:{line:110,column:6},end:{line:110,column:20}},30:{start:{line:111,column:20},end:{line:122,column:3}},31:{start:{line:113,column:22},end:{line:118,column:7}},32:{start:{line:119,column:6},end:{line:119,column:57}},33:{start:{line:119,column:29},end:{line:119,column:55}},34:{start:{line:123,column:22},end:{line:128,column:3}},35:{start:{line:125,column:6},end:{line:125,column:28}},36:{start:{line:129,column:24},end:{line:162,column:4}},37:{start:{line:130,column:22},end:{line:130,column:53}},38:{start:{line:131,column:23},end:{line:131,column:52}},39:{start:{line:132,column:4},end:{line:132,column:28}},40:{start:{line:132,column:21},end:{line:132,column:28}},41:{start:{line:133,column:20},end:{line:141,column:5}},42:{start:{line:142,column:20},end:{line:150,column:5}},43:{start:{line:151,column:4},end:{line:151,column:22}},44:{start:{line:152,column:4},end:{line:152,column:22}},45:{start:{line:163,column:25},end:{line:175,column:79}},46:{start:{line:164,column:4},end:{line:164,column:30}},47:{start:{line:164,column:23},end:{line:164,column:30}},48:{start:{line:165,column:22},end:{line:165,column:53}},49:{start:{line:166,column:20},end:{line:173,column:5}},50:{start:{line:174,column:4},end:{line:174,column:22}},51:{start:{line:176,column:27},end:{line:194,column:4}},52:{start:{line:177,column:4},end:{line:177,column:30}},53:{start:{line:177,column:23},end:{line:177,column:30}},54:{start:{line:178,column:27},end:{line:180,column:5}},55:{start:{line:179,column:16},end:{line:179,column:82}},56:{start:{line:181,column:4},end:{line:184,column:7}},57:{start:{line:185,column:4},end:{line:185,column:26}},58:{start:{line:195,column:25},end:{line:199,column:20}},59:{start:{line:196,column:4},end:{line:196,column:30}},60:{start:{line:196,column:23},end:{line:196,column:30}},61:{start:{line:197,column:4},end:{line:197,column:42}},62:{start:{line:198,column:4},end:{line:198,column:30}},63:{start:{line:200,column:25},end:{line:218,column:41}},64:{start:{line:201,column:4},end:{line:201,column:51}},65:{start:{line:201,column:44},end:{line:201,column:51}},66:{start:{line:202,column:4},end:{line:215,column:6}},67:{start:{line:203,column:15},end:{line:214,column:8}},68:{start:{line:204,column:8},end:{line:212,column:9}},69:{start:{line:205,column:10},end:{line:211,column:12}},70:{start:{line:213,column:8},end:{line:213,column:20}},71:{start:{line:216,column:4},end:{line:216,column:31}},72:{start:{line:217,column:4},end:{line:217,column:21}},73:{start:{line:219,column:2},end:{line:223,column:26}},74:{start:{line:220,column:4},end:{line:222,column:5}},75:{start:{line:221,column:6},end:{line:221,column:46}},76:{start:{line:224,column:2},end:{line:255,column:59}},77:{start:{line:225,column:4},end:{line:225,column:41}},78:{start:{line:225,column:34},end:{line:225,column:41}},79:{start:{line:226,column:4},end:{line:226,column:19}},80:{start:{line:227,column:4},end:{line:227,column:23}},81:{start:{line:228,column:4},end:{line:254,column:5}},82:{start:{line:229,column:26},end:{line:237,column:7}},83:{start:{line:230,column:19},end:{line:236,column:9}},84:{start:{line:238,column:26},end:{line:243,column:9}},85:{start:{line:238,column:49},end:{line:243,column:7}},86:{start:{line:244,column:23},end:{line:244,column:68}},87:{start:{line:245,column:6},end:{line:245,column:31}},88:{start:{line:246,column:6},end:{line:246,column:31}},89:{start:{line:247,column:6},end:{line:247,column:27}},90:{start:{line:248,column:6},end:{line:248,column:26}},91:{start:{line:249,column:6},end:{line:249,column:55}},92:{start:{line:249,column:23},end:{line:249,column:48}},93:{start:{line:251,column:6},end:{line:251,column:46}},94:{start:{line:252,column:6},end:{line:252,column:25}},95:{start:{line:253,column:6},end:{line:253,column:26}},96:{start:{line:256,column:20},end:{line:264,column:3}},97:{start:{line:265,column:2},end:{line:269,column:9}},98:{start:{line:266,column:4},end:{line:269,column:9}},99:{start:{line:270,column:2},end:{line:277,column:12}},100:{start:{line:271,column:4},end:{line:277,column:12}},101:{start:{line:276,column:51},end:{line:276,column:72}},102:{start:{line:278,column:2},end:{line:390,column:7}},103:{start:{line:374,column:27},end:{line:374,column:55}},104:{start:{line:383,column:27},end:{line:383,column:53}},105:{start:{line:392,column:16},end:{line:403,column:1}},106:{start:{line:393,column:20},end:{line:401,column:3}},107:{start:{line:402,column:2},end:{line:402,column:278}},108:{start:{line:405,column:0},end:{line:409,column:1}},109:{start:{line:406,column:2},end:{line:406,column:34}},110:{start:{line:407,column:2},end:{line:407,column:211}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:58,column:28},end:{line:58,column:29}},loc:{start:{line:58,column:64},end:{line:88,column:1}},line:58},1:{name:"(anonymous_1)",decl:{start:{line:59,column:59},end:{line:59,column:60}},loc:{start:{line:59,column:66},end:{line:59,column:68}},line:59},2:{name:"(anonymous_2)",decl:{start:{line:67,column:16},end:{line:67,column:17}},loc:{start:{line:67,column:26},end:{line:67,column:61}},line:67},3:{name:"(anonymous_3)",decl:{start:{line:68,column:16},end:{line:68,column:17}},loc:{start:{line:68,column:26},end:{line:70,column:3}},line:68},4:{name:"(anonymous_4)",decl:{start:{line:72,column:34},end:{line:72,column:35}},loc:{start:{line:72,column:44},end:{line:83,column:3}},line:72},5:{name:"(anonymous_5)",decl:{start:{line:89,column:21},end:{line:89,column:22}},loc:{start:{line:89,column:39},end:{line:391,column:1}},line:89},6:{name:"(anonymous_6)",decl:{start:{line:112,column:4},end:{line:112,column:5}},loc:{start:{line:112,column:20},end:{line:120,column:5}},line:112},7:{name:"(anonymous_7)",decl:{start:{line:119,column:15},end:{line:119,column:16}},loc:{start:{line:119,column:29},end:{line:119,column:55}},line:119},8:{name:"(anonymous_8)",decl:{start:{line:124,column:4},end:{line:124,column:5}},loc:{start:{line:124,column:21},end:{line:126,column:5}},line:124},9:{name:"(anonymous_9)",decl:{start:{line:129,column:36},end:{line:129,column:37}},loc:{start:{line:129,column:42},end:{line:153,column:3}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:163,column:37},end:{line:163,column:38}},loc:{start:{line:163,column:43},end:{line:175,column:3}},line:163},11:{name:"(anonymous_11)",decl:{start:{line:176,column:39},end:{line:176,column:40}},loc:{start:{line:176,column:45},end:{line:186,column:3}},line:176},12:{name:"(anonymous_12)",decl:{start:{line:179,column:6},end:{line:179,column:7}},loc:{start:{line:179,column:16},end:{line:179,column:82}},line:179},13:{name:"(anonymous_13)",decl:{start:{line:195,column:37},end:{line:195,column:38}},loc:{start:{line:195,column:43},end:{line:199,column:3}},line:195},14:{name:"(anonymous_14)",decl:{start:{line:200,column:37},end:{line:200,column:38}},loc:{start:{line:200,column:43},end:{line:218,column:3}},line:200},15:{name:"(anonymous_15)",decl:{start:{line:203,column:6},end:{line:203,column:7}},loc:{start:{line:203,column:15},end:{line:214,column:8}},line:203},16:{name:"(anonymous_16)",decl:{start:{line:203,column:23},end:{line:203,column:24}},loc:{start:{line:203,column:33},end:{line:214,column:7}},line:203},17:{name:"(anonymous_17)",decl:{start:{line:219,column:12},end:{line:219,column:13}},loc:{start:{line:219,column:18},end:{line:223,column:3}},line:219},18:{name:"(anonymous_18)",decl:{start:{line:224,column:12},end:{line:224,column:13}},loc:{start:{line:224,column:18},end:{line:255,column:3}},line:224},19:{name:"(anonymous_19)",decl:{start:{line:230,column:8},end:{line:230,column:9}},loc:{start:{line:230,column:19},end:{line:236,column:9}},line:230},20:{name:"(anonymous_20)",decl:{start:{line:238,column:38},end:{line:238,column:39}},loc:{start:{line:238,column:49},end:{line:243,column:7}},line:238},21:{name:"(anonymous_21)",decl:{start:{line:249,column:17},end:{line:249,column:18}},loc:{start:{line:249,column:23},end:{line:249,column:48}},line:249},22:{name:"(anonymous_22)",decl:{start:{line:276,column:45},end:{line:276,column:46}},loc:{start:{line:276,column:51},end:{line:276,column:72}},line:276},23:{name:"(anonymous_23)",decl:{start:{line:374,column:20},end:{line:374,column:21}},loc:{start:{line:374,column:27},end:{line:374,column:55}},line:374},24:{name:"(anonymous_24)",decl:{start:{line:383,column:21},end:{line:383,column:22}},loc:{start:{line:383,column:27},end:{line:383,column:53}},line:383},25:{name:"(anonymous_25)",decl:{start:{line:392,column:16},end:{line:392,column:17}},loc:{start:{line:392,column:27},end:{line:403,column:1}},line:392}},branchMap:{0:{loc:{start:{line:58,column:43},end:{line:58,column:59}},type:"default-arg",locations:[{start:{line:58,column:55},end:{line:58,column:59}}],line:58},1:{loc:{start:{line:100,column:17},end:{line:100,column:114}},type:"binary-expr",locations:[{start:{line:100,column:17},end:{line:100,column:26}},{start:{line:100,column:65},end:{line:100,column:106}},{start:{line:100,column:110},end:{line:100,column:114}}],line:100},2:{loc:{start:{line:131,column:23},end:{line:131,column:52}},type:"binary-expr",locations:[{start:{line:131,column:23},end:{line:131,column:35}},{start:{line:131,column:39},end:{line:131,column:52}}],line:131},3:{loc:{start:{line:132,column:4},end:{line:132,column:28}},type:"if",locations:[{start:{line:132,column:4},end:{line:132,column:28}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:132},4:{loc:{start:{line:164,column:4},end:{line:164,column:30}},type:"if",locations:[{start:{line:164,column:4},end:{line:164,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:164},5:{loc:{start:{line:177,column:4},end:{line:177,column:30}},type:"if",locations:[{start:{line:177,column:4},end:{line:177,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:177},6:{loc:{start:{line:179,column:16},end:{line:179,column:82}},type:"binary-expr",locations:[{start:{line:179,column:16},end:{line:179,column:47}},{start:{line:179,column:51},end:{line:179,column:82}}],line:179},7:{loc:{start:{line:196,column:4},end:{line:196,column:30}},type:"if",locations:[{start:{line:196,column:4},end:{line:196,column:30}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:196},8:{loc:{start:{line:201,column:4},end:{line:201,column:51}},type:"if",locations:[{start:{line:201,column:4},end:{line:201,column:51}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:201},9:{loc:{start:{line:201,column:8},end:{line:201,column:42}},type:"binary-expr",locations:[{start:{line:201,column:8},end:{line:201,column:21}},{start:{line:201,column:25},end:{line:201,column:42}}],line:201},10:{loc:{start:{line:204,column:8},end:{line:212,column:9}},type:"if",locations:[{start:{line:204,column:8},end:{line:212,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:204},11:{loc:{start:{line:220,column:4},end:{line:222,column:5}},type:"if",locations:[{start:{line:220,column:4},end:{line:222,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:220},12:{loc:{start:{line:220,column:8},end:{line:220,column:28}},type:"binary-expr",locations:[{start:{line:220,column:8},end:{line:220,column:18}},{start:{line:220,column:22},end:{line:220,column:28}}],line:220},13:{loc:{start:{line:225,column:4},end:{line:225,column:41}},type:"if",locations:[{start:{line:225,column:4},end:{line:225,column:41}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:225},14:{loc:{start:{line:225,column:8},end:{line:225,column:32}},type:"binary-expr",locations:[{start:{line:225,column:8},end:{line:225,column:17}},{start:{line:225,column:21},end:{line:225,column:32}}],line:225},15:{loc:{start:{line:234,column:27},end:{line:234,column:49}},type:"binary-expr",locations:[{start:{line:234,column:27},end:{line:234,column:36}},{start:{line:234,column:40},end:{line:234,column:49}}],line:234},16:{loc:{start:{line:265,column:2},end:{line:269,column:9}},type:"if",locations:[{start:{line:265,column:2},end:{line:269,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:265},17:{loc:{start:{line:270,column:2},end:{line:277,column:12}},type:"if",locations:[{start:{line:270,column:2},end:{line:277,column:12}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:270}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},b:{0:[0],1:[0,0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0],17:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/MindMap.tsx"],names:[],mappings:";AAkUM,SAAA,KAAA,YAAA;AAlUN,SAAA,WAAA,UAAA,mBAAA;AACA;AAAA,EAAA;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACA;AAKF,OAAA,WAAA;AACA,SAAA,YAAA;AACA,SAAA,cAAA;AACA,SAAA,SAAA,MAAA,MAAA,QAAA,YAAA;AACA;AAAA,EAAA;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACA;AAEF,SAAA,aAAA;AACA,OAAA,kBAAA;AACA,SAAA,qBAAA;AAGA,OAAA;AAMA,MAAA,cAAA;AAAA,EAAoB,OAAA;AAAA,IACX,YAAA;AAAA,IACO,OAAA;AAAA,EACL;AAAA,EACT,SAAA;AAAA,IACS,YAAA;AAAA,IACK,OAAA;AAAA,EACL;AAAA,EACT,QAAA;AAAA,IACQ,YAAA;AAAA,IACM,OAAA;AAAA,EACL;AAAA,EACT,QAAA;AAAA,IACQ,QAAA;AAAA,IACE,cAAA;AAAA,IACM,SAAA;AAAA,IACL,UAAA;AAAA,IACC,YAAA;AAAA,IACE,WAAA;AAAA,IACD,OAAA;AAAA,IACJ,UAAA;AAAA,EACG;AAEd;AAGA,MAAA,kBAAA;AAAA,EAA6C,YAAA;AAE7C;AAEA,MAAA,sBAAA,CAAA,OAAA,OAAA,YAAA,SAAA;AAKE,QAAA,IAAA,IAAA,MAAA,SAAA,MAAA,EAAA,oBAAA,OAAA,CAAA,EAAA;AACA,IAAA,SAAA;AAAA,IAAW,SAAA;AAAA,IACA,SAAA;AAAA,IACA,SAAA;AAAA,IACA,SAAA;AAAA,IACA,SAAA;AAAA,EACA,CAAA;AAGX,QAAA,QAAA,CAAA,SAAA,EAAA,QAAA,KAAA,QAAA,KAAA,MAAA,CAAA;AACA,QAAA,QAAA,CAAA,SAAA;AACE,MAAA,QAAA,KAAA,IAAA,EAAA,OAAA,KAAA,QAAA,GAAA,CAAA;AAAA,EAA6C,CAAA;AAG/C,QAAA,OAAA,CAAA;AAEA,QAAA,gBAAA,MAAA,IAAA,CAAA,SAAA;AACE,UAAA,mBAAA,EAAA,KAAA,KAAA,EAAA;AACA,WAAA;AAAA,MAAO,GAAA;AAAA,MACF,UAAA;AAAA,QACO,GAAA,iBAAA,IAAA;AAAA;AAAA,QACgB,GAAA,iBAAA,IAAA;AAAA;AAAA,MACA;AAAA,IAC1B;AAAA,EACF,CAAA;AAGF,SAAA;AAAA,IAAO,OAAA;AAAA,IACE;AAAA,EACP;AAEJ;AAMA,MAAA,eAAA,CAAA,EAAA,SAAA,MAAA;AACE,QAAA,EAAA,OAAA,SAAA,OAAA,QAAA,IAAA,KAAA,MAAA,QAAA;AAEA,QAAA,CAAA,OAAA,UAAA,aAAA,IAAA,cAAA,CAAA,CAAA;AACA,QAAA,CAAA,OAAA,UAAA,aAAA,IAAA,cAAA,CAAA,CAAA;AACA,QAAA,CAAA,OAAA,QAAA,IAAA,SAAA,IAAA;AACA,QAAA,CAAA,WAAA,YAAA,IAAA,SAAA,KAAA;AACA,QAAA,CAAA,aAAA,cAAA,IAAA,SAAA,KAAA;AACA,QAAA,CAAA,cAAA,eAAA,IAAA,SAAA,IAAA;AACA,QAAA,CAAA,kBAAA,mBAAA,IAAA,SAAA,KAAA;AACA,QAAA,CAAA,WAAA,YAAA,IAAA,SAAA,EAAA;AAEA,QAAA,YAAA,aAAA;AAEA,QAAA,SAAA,yBAAA,uBAAA,2BAAA,kBAAA;AACA,QAAA,CAAA,WAAA,YAAA,IAAA,SAAA,IAAA;AACA,QAAA;AAAA,IAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA,IAAA,aAAA;AAGF,QAAA,YAAA;AAAA,IAAkB,CAAA,eAAA;AAEd,YAAA,UAAA;AAAA,QAAgB,GAAA;AAAA,QACX,UAAA;AAAA,QACO,WAAA,EAAA,MAAA,WAAA,YAAA;AAAA,QACgC,OAAA,EAAA,QAAA,UAAA;AAAA,MACf;AAE7B,eAAA,CAAA,aAAA,QAAA,SAAA,QAAA,CAAA;AAAA,IAA+C;AAAA,IACjD,CAAA,QAAA;AAAA,EACS;AAGX,QAAA,cAAA;AAAA,IAAoB,CAAA,OAAA,SAAA;AAEhB,sBAAA,IAAA;AAAA,IAAoB;AAAA,IACtB,CAAA;AAAA,EACC;AAGH,QAAA,gBAAA,YAAA,MAAA;AACE,UAAA,YAAA,QAAA,SAAA,EAAA,SAAA,CAAA;AACA,UAAA,aAAA,gBAAA,SAAA,EAAA,CAAA;AAEA,QAAA,CAAA,WAAA;AAEA,UAAA,UAAA;AAAA,MAAgB,IAAA;AAAA,MACV,MAAA,EAAA,OAAA,YAAA;AAAA,MACuB,UAAA,EAAA,GAAA,WAAA,SAAA,IAAA,KAAA,GAAA,WAAA,SAAA,EAAA;AAAA,MAC0C,OAAA;AAAA,QAC9D,GAAA,YAAA;AAAA,QACU,GAAA,YAAA;AAAA,MACA;AAAA,IACjB;AAGF,UAAA,UAAA;AAAA,MAAgB,IAAA,QAAA,WAAA,EAAA,IAAA,SAAA;AAAA,MACwB,QAAA,WAAA;AAAA,MACnB,QAAA;AAAA,MACX,MAAA;AAAA,MACF,WAAA,EAAA,MAAA,WAAA,YAAA;AAAA,MACoC,OAAA,EAAA,QAAA,UAAA;AAAA,MACf,UAAA;AAAA,IACjB;AAGZ,aAAA,OAAA;AACA,aAAA,OAAA;AAAA,EAAgB,GAAA;AAAA,IACf;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA,CAAA;AAGF,QAAA,iBAAA,YAAA,MAAA;AACE,QAAA,CAAA,aAAA;AAEA,UAAA,YAAA,QAAA,SAAA,EAAA,SAAA,CAAA;AACA,UAAA,UAAA;AAAA,MAAgB,GAAA;AAAA,MACX,IAAA;AAAA,MACC,UAAA;AAAA,QACM,GAAA,aAAA,SAAA,IAAA;AAAA,QACqB,GAAA,aAAA,SAAA,IAAA;AAAA,MACA;AAAA,IAC/B;AAGF,aAAA,OAAA;AAAA,EAAgB,GAAA,CAAA,cAAA,UAAA,UAAA,UAAA,UAAA,UAAA,OAAA,CAAA;AAGlB,QAAA,mBAAA,YAAA,MAAA;AACE,QAAA,CAAA,aAAA;AAEA,UAAA,iBAAA,SAAA,EAAA;AAAA,MAAkC,CAAA,SAAA,KAAA,WAAA,aAAA,MAAA,KAAA,WAAA,aAAA;AAAA,IACwC;AAG1E,mBAAA;AAAA,MAAe,OAAA,CAAA,YAAA;AAAA,MACO,OAAA;AAAA,IACb,CAAA;AAGT,oBAAA,IAAA;AAAA,EAAoB,GAAA;AAAA,IACnB;AAAA,IACD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACA,CAAA;AAGF,QAAA,iBAAA,YAAA,MAAA;AACE,QAAA,CAAA,aAAA;AACA,iBAAA,aAAA,KAAA,KAAA;AACA,wBAAA,IAAA;AAAA,EAAwB,GAAA,CAAA,YAAA,CAAA;AAG1B,QAAA,iBAAA,YAAA,MAAA;AACE,QAAA,CAAA,gBAAA,CAAA,UAAA,KAAA,EAAA;AAEA;AAAA,MAAA,CAAA,QAAA,IAAA,IAAA,CAAA,SAAA;AAEI,YAAA,KAAA,OAAA,aAAA,IAAA;AACE,iBAAA;AAAA,YAAO,GAAA;AAAA,YACF,MAAA;AAAA,cACG,GAAA,KAAA;AAAA,cACI,OAAA,UAAA,KAAA;AAAA,YACc;AAAA,UACxB;AAAA,QACF;AAEF,eAAA;AAAA,MAAO,CAAA;AAAA,IACR;AAGH,wBAAA,KAAA;AACA,iBAAA,EAAA;AAAA,EAAe,GAAA,CAAA,cAAA,WAAA,QAAA,CAAA;AAIjB,YAAA,MAAA;AACE,QAAA,CAAA,aAAA,QAAA;AACE,mBAAA,IAAA,cAAA,MAAA,CAAA;AAAA,IAAsC;AAAA,EACxC,GAAA,CAAA,QAAA,SAAA,CAAA;AAIF,YAAA,MAAA;AACE,QAAA,CAAA,YAAA,YAAA;AAEA,aAAA,IAAA;AACA,iBAAA,IAAA;AAEA,QAAA;AACE,YAAA,cAAA,QAAA;AAAA,QAA4B,CAAA,UAAA;AAAA,UAC4B,GAAA;AAAA,UACjD,OAAA;AAAA,YACI,GAAA,YAAA;AAAA,YACU,GAAA,YAAA,KAAA,QAAA,SAAA;AAAA,UAGf;AAAA,QACF;AAAA,MACF;AAGF,YAAA,cAAA,QAAA,IAAA,CAAA,UAAA;AAAA,QAAoE,GAAA;AAAA,QAC/D,UAAA;AAAA,QACO,WAAA,EAAA,MAAA,WAAA,YAAA;AAAA,QACgC,OAAA,EAAA,QAAA,UAAA;AAAA,MACf,EAAA;AAG7B,YAAA,WAAA,oBAAA,aAAA,WAAA;AACA,eAAA,SAAA,KAAA;AACA,eAAA,SAAA,KAAA;AACA,qBAAA,IAAA;AACA,mBAAA,KAAA;AAEA,iBAAA,MAAA,QAAA,EAAA,SAAA,IAAA,CAAA,GAAA,GAAA;AAAA,IAA+C,SAAA,KAAA;AAE/C,eAAA,6BAAA;AACA,cAAA,MAAA,GAAA;AACA,mBAAA,KAAA;AAAA,IAAkB;AAAA,EACpB,GAAA,CAAA,UAAA,aAAA,SAAA,UAAA,QAAA,CAAA;AAIF,QAAA,YAAA;AAAA,IAAuC,OAAA;AAAA,IAC9B,QAAA;AAAA;AAAA,IACC,UAAA;AAAA,IACE,SAAA;AAAA,IACD,gBAAA;AAAA,IACO,YAAA;AAAA,EACJ;AAGd,MAAA;AACE,WAAA,qBAAA,OAAA,EAAA,WAAA,2CAAA,UAAA;AAAA,MAEI,oBAAA,SAAA,EAAA,WAAA,qCAAA,CAAA;AAAA,MAAwD,oBAAA,QAAA,EAAA,WAAA,sBAAA,UAAA,yBAAA,CAAA;AAAA,IACG,EAAA,CAAA;AAIjE,MAAA;AACE,WAAA,oBAAA,OAAA,EAAA,WAAA,2CAAA,UAAA,qBAAA,OAAA,EAAA,WAAA,eAAA,UAAA;AAAA,MAGM,qBAAA,OAAA,EAAA,WAAA,qBAAA,UAAA;AAAA,QAAmC;AAAA,QAAA;AAAA,MAAQ,EAAA,CAAA;AAAA,MAAM,oBAAA,QAAA,EAAA,SAAA,MAAA,eAAA,KAAA,GAAA,UAAA,QAAA,CAAA;AAAA,IACE,EAAA,CAAA,EAAA,CAAA;AAK3D,SAAA,qBAAA,MAAA,EAAA,WAAA,iCAAA,UAAA;AAAA,IAEI,oBAAA,OAAA,EAAA,OAAA,WAAA,UAAA;AAAA,MACE;AAAA,MAAC;AAAA,QAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,YAAA,EAAA,iBAAA,KAAA;AAAA,QACoC,OAAA;AAAA,QAC7B,SAAA;AAAA,QACE,SAAA;AAAA,QACA,iBAAA,EAAA,GAAA,GAAA,GAAA,GAAA,MAAA,IAAA;AAAA,QACgC,SAAA;AAAA,QAClC,gBAAA,EAAA,SAAA,IAAA;AAAA,QACwB,gBAAA;AAAA,QACf,oBAAA;AAAA,QACI,cAAA;AAAA,QACN,aAAA;AAAA,QACD,kBAAA;AAAA,QACK,YAAA,CAAA,KAAA,GAAA;AAAA,QACG,UAAA;AAAA,UAErB,oBAAA,YAAA,EAAA,OAAA,WAAA,KAAA,GAAA,CAAA;AAAA,UAAqC,oBAAA,UAAA,EAAA,WAAA,kJAAA,CAAA;AAAA,UACiI;AAAA,YACtK;AAAA,YAAC;AAAA,cAAA,UAAA;AAAA,cACU,WAAA;AAAA,cACC,UAAA;AAAA,gBAEV;AAAA,kBAAA;AAAA,kBAAC;AAAA,oBAAA,MAAA;AAAA,oBACM,SAAA;AAAA,oBACG,SAAA;AAAA,oBACC,UAAA,CAAA;AAAA,oBACE,UAAA;AAAA,sBAEX,oBAAA,MAAA,EAAA,WAAA,eAAA,CAAA;AAAA,sBAA+B;AAAA,oBAAE;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAEnC;AAAA,kBACA;AAAA,kBAAC;AAAA,oBAAA,MAAA;AAAA,oBACM,SAAA;AAAA,oBACG,SAAA;AAAA,oBACC,UAAA,CAAA;AAAA,oBACE,UAAA;AAAA,sBAEX,oBAAA,MAAA,EAAA,WAAA,eAAA,CAAA;AAAA,sBAA+B;AAAA,oBAAE;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAEnC;AAAA,kBACA;AAAA,kBAAC;AAAA,oBAAA,MAAA;AAAA,oBACM,SAAA;AAAA,oBACG,SAAA;AAAA,oBACC,UAAA,CAAA;AAAA,oBACE,UAAA;AAAA,sBAEX,oBAAA,MAAA,EAAA,WAAA,eAAA,CAAA;AAAA,sBAA+B;AAAA,oBAAE;AAAA,kBAAA;AAAA,gBAAA;AAAA,gBAEnC;AAAA,kBACA;AAAA,kBAAC;AAAA,oBAAA,MAAA;AAAA,oBACM,SAAA;AAAA,oBACG,SAAA;AAAA,oBACC,UAAA,CAAA;AAAA,oBACE,UAAA;AAAA,sBAEX,oBAAA,QAAA,EAAA,WAAA,eAAA,CAAA;AAAA,sBAAiC;AAAA,oBAAE;AAAA,kBAAA;AAAA,gBAAA;AAAA,cAErC;AAAA,YAAA;AAAA,UAAA;AAAA,QACF;AAAA,MAAA;AAAA,IAAA,EAAA,CAAA;AAAA,IAEJ,oBAAA,QAAA,EAAA,MAAA,kBAAA,cAAA,qBAAA,UAAA,qBAAA,eAAA,EAAA,UAAA;AAAA,MAII,oBAAA,cAAA,EAAA,UAAA,oBAAA,aAAA,EAAA,UAAA,YAAA,CAAA,EAAA,CAAA;AAAA,MAEA;AAAA,QACA;AAAA,QAAC;AAAA,UAAA,OAAA;AAAA,UACQ,UAAA,CAAA,MAAA,aAAA,EAAA,OAAA,KAAA;AAAA,UACmC,aAAA;AAAA,QAC9B;AAAA,MAAA;AAAA,MACd,qBAAA,cAAA,EAAA,UAAA;AAAA,QAEE;AAAA,UAAA;AAAA,UAAC;AAAA,YAAA,SAAA;AAAA,YACS,SAAA,MAAA,oBAAA,KAAA;AAAA,YACgC,UAAA;AAAA,UACzC;AAAA,QAAA;AAAA,QAED,oBAAA,QAAA,EAAA,SAAA,gBAAA,UAAA,OAAA,CAAA;AAAA,MACqC,EAAA,CAAA;AAAA,IACvC,EAAA,CAAA,EAAA,CAAA;AAAA,EAEJ,EAAA,CAAA;AAGN;AAEA,MAAA,UAAA,CAAA,UAAA;AACE,QAAA,YAAA;AAAA,IAAuC,OAAA;AAAA,IAC9B,QAAA;AAAA;AAAA,IACC,UAAA;AAAA,IACE,SAAA;AAAA,IACD,gBAAA;AAAA,IACO,YAAA;AAAA,EACJ;AAGd,SAAA,oBAAA,OAAA,EAAA,WAAA,sDAAA,UAAA,oBAAA,OAAA,EAAA,OAAA,WAAA,UAAA,oBAAA,mBAAA,EAAA,UAAA,oBAAA,cAAA,EAAA,GAAA,MAAA,CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,CAAA;AASF;AAEA,eAAA;;;;;;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3d4d06adcbc35ed5891cfa2dc176fae5e2a9e567"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return Q=function(){return i},i}Q();var Wg=(Q().s[0]++,{});const hl=(Q().s[1]++,{input:{background:"#2563eb",color:"white"},default:{background:"#4b5563",color:"white"},output:{background:"#059669",color:"white"},common:{border:"none",borderRadius:"8px",padding:"10px 20px",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",width:"auto",minWidth:"150px"}}),Kg=(Q().s[2]++,{background:"#1f2937"});Q().s[3]++;const Xg=(e,n,t=(Q().b[0][0]++,"TB"))=>{Q().f[0]++;const l=(Q().s[4]++,new Ba.graphlib.Graph().setDefaultEdgeLabel(()=>(Q().f[1]++,Q().s[5]++,{})));Q().s[6]++,l.setGraph({rankdir:t,ranksep:80,nodesep:50,marginx:20,marginy:20}),Q().s[7]++,n.forEach(r=>(Q().f[2]++,Q().s[8]++,l.setEdge(r.source,r.target))),Q().s[9]++,e.forEach(r=>{Q().f[3]++,Q().s[10]++,l.setNode(r.id,{width:150,height:40})}),Q().s[11]++,Ba.layout(l);const o=(Q().s[12]++,e.map(r=>{Q().f[4]++;const i=(Q().s[13]++,l.node(r.id));return Q().s[14]++,{...r,position:{x:i.x-75,y:i.y-20}}}));return Q().s[15]++,{nodes:o,edges:n}};Q().s[16]++;const Zg=({markdown:e})=>{Q().f[5]++;const{nodes:n,edges:t}=(Q().s[17]++,JSON.parse(e)),[l,o,r]=(Q().s[18]++,x4([])),[i,a,s]=(Q().s[19]++,E4([])),[c,u]=(Q().s[20]++,O.useState(null)),[A,d]=(Q().s[21]++,O.useState(!1)),[f,p]=(Q().s[22]++,O.useState(!1)),[C,y]=(Q().s[23]++,O.useState(null)),[b,E]=(Q().s[24]++,O.useState(!1)),[g,x]=(Q().s[25]++,O.useState(""));Q().s[26]++,hd();const N=(Q().s[27]++,Q().b[1][0]++,void 0||(Q().b[1][1]++,Wg.OPENAI_API_KEY)||(Q().b[1][2]++,null)),[B,R]=(Q().s[28]++,O.useState(null)),{fitView:v,getNode:I,getNodes:w,getEdges:k,deleteElements:D,addNodes:z,addEdges:S}=(Q().s[29]++,Jl()),T=(Q().s[30]++,O.useCallback(j=>{Q().f[6]++;const L=(Q().s[31]++,{...j,animated:!0,markerEnd:{type:Fn.ArrowClosed},style:{stroke:"#64748b"}});Q().s[32]++,a(V=>(Q().f[7]++,Q().s[33]++,rA(L,V)))},[a])),F=(Q().s[34]++,O.useCallback((j,L)=>{Q().f[8]++,Q().s[35]++,y(L)},[])),G=(Q().s[36]++,O.useCallback(()=>{Q().f[9]++;const j=(Q().s[37]++,`node-${w().length+1}`),L=(Q().s[38]++,Q().b[2][0]++,C||(Q().b[2][1]++,w()[0]));if(Q().s[39]++,L)Q().b[3][1]++;else{Q().b[3][0]++,Q().s[40]++;return}const V=(Q().s[41]++,{id:j,data:{label:"New Topic"},position:{x:L.position.x+200,y:L.position.y},style:{...hl.common,...hl.input}}),q=(Q().s[42]++,{id:`edge-${L.id}-${j}`,source:L.id,target:j,type:"default",markerEnd:{type:Fn.ArrowClosed},style:{stroke:"#64748b"},animated:!0});Q().s[43]++,z(V),Q().s[44]++,S(q)},[C,w,z,S,k,o,a,v])),$=(Q().s[45]++,O.useCallback(()=>{if(Q().f[10]++,Q().s[46]++,C)Q().b[4][1]++;else{Q().b[4][0]++,Q().s[47]++;return}const j=(Q().s[48]++,`node-${w().length+1}`),L=(Q().s[49]++,{...C,id:j,position:{x:C.position.x+100,y:C.position.y+100}});Q().s[50]++,z(L)},[C,w,z,k,o,a,v])),H=(Q().s[51]++,O.useCallback(()=>{if(Q().f[11]++,Q().s[52]++,C)Q().b[5][1]++;else{Q().b[5][0]++,Q().s[53]++;return}const j=(Q().s[54]++,k().filter(L=>(Q().f[12]++,Q().s[55]++,Q().b[6][0]++,L.source===C.id||(Q().b[6][1]++,L.target===C.id))));Q().s[56]++,D({nodes:[C],edges:j}),Q().s[57]++,y(null)},[C,k,D,w,o,a,v])),Y=(Q().s[58]++,O.useCallback(()=>{if(Q().f[13]++,Q().s[59]++,C)Q().b[7][1]++;else{Q().b[7][0]++,Q().s[60]++;return}Q().s[61]++,x(C.data.label),Q().s[62]++,E(!0)},[C])),U=(Q().s[63]++,O.useCallback(()=>{if(Q().f[14]++,Q().s[64]++,Q().b[9][0]++,!C||(Q().b[9][1]++,!g.trim())){Q().b[8][0]++,Q().s[65]++;return}else Q().b[8][1]++;Q().s[66]++,o(j=>(Q().f[15]++,Q().s[67]++,j.map(L=>(Q().f[16]++,Q().s[68]++,L.id===C.id?(Q().b[10][0]++,Q().s[69]++,{...L,data:{...L.data,label:g.trim()}}):(Q().b[10][1]++,Q().s[70]++,L))))),Q().s[71]++,E(!1),Q().s[72]++,x("")},[C,g,o]));Q().s[73]++,O.useEffect(()=>{Q().f[17]++,Q().s[74]++,Q().b[12][0]++,!B&&(Q().b[12][1]++,N)?(Q().b[11][0]++,Q().s[75]++,R(new Ga(N))):Q().b[11][1]++},[N,B]),Q().s[76]++,O.useEffect(()=>{if(Q().f[18]++,Q().s[77]++,Q().b[14][0]++,!e||(Q().b[14][1]++,f)){Q().b[13][0]++,Q().s[78]++;return}else Q().b[13][1]++;Q().s[79]++,u(null),Q().s[80]++,d(!0),Q().s[81]++;try{const j=(Q().s[82]++,n.map(q=>(Q().f[19]++,Q().s[83]++,{...q,style:{...hl.common,...hl[Q().b[15][0]++,q.type||(Q().b[15][1]++,"default")]}}))),L=(Q().s[84]++,t.map(q=>(Q().f[20]++,Q().s[85]++,{...q,animated:!0,markerEnd:{type:Fn.ArrowClosed},style:{stroke:"#64748b"}}))),V=(Q().s[86]++,Xg(j,L));Q().s[87]++,o(V.nodes),Q().s[88]++,a(V.edges),Q().s[89]++,p(!0),Q().s[90]++,d(!1),Q().s[91]++,setTimeout(()=>(Q().f[21]++,Q().s[92]++,v({padding:.2})),100)}catch(j){Q().s[93]++,u("Failed to generate mind map"),Q().s[94]++,console.error(j),Q().s[95]++,d(!1)}},[e,f,v,o,a]);const W=(Q().s[96]++,{width:"100%",height:"calc(100vh - 200px)",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"});return Q().s[97]++,A?(Q().b[16][0]++,Q().s[98]++,m.jsxs("div",{className:"flex h-full items-center justify-center",children:[m.jsx(gd,{className:"h-8 w-8 animate-spin text-blue-500"}),m.jsx("span",{className:"ml-3 text-gray-300",children:"Generating mind map..."})]})):(Q().b[16][1]++,Q().s[99]++,c?(Q().b[17][0]++,Q().s[100]++,m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsxs("div",{className:"mb-2 text-red-500",children:["Error: ",c]}),m.jsx(Bn,{onClick:()=>(Q().f[22]++,Q().s[101]++,p(!1)),children:"Retry"})]})})):(Q().b[17][1]++,Q().s[102]++,m.jsxs(Hu,{className:"h-full w-full overflow-hidden",children:[m.jsx("div",{style:W,children:m.jsxs(b4,{nodes:l,edges:i,onNodesChange:r,onEdgesChange:s,onConnect:T,onNodeClick:F,proOptions:{hideAttribution:!0},style:Kg,minZoom:.2,maxZoom:1.5,defaultViewport:{x:0,y:0,zoom:.8},fitView:!0,fitViewOptions:{padding:.2},nodesDraggable:!0,elementsSelectable:!0,zoomOnScroll:!0,panOnScroll:!0,preventScrolling:!1,nodeOrigin:[.5,.5],children:[m.jsx(S4,{color:"#334155",gap:16}),m.jsx(O4,{className:"rounded-lg border border-gray-700 bg-gray-800 p-2 [&>button:hover]:bg-gray-600 [&>button]:border-0 [&>button]:bg-gray-700 [&>button]:text-white"}),m.jsxs($t,{position:"top-right",className:"flex space-x-1 rounded-md bg-gray-800 p-2 shadow",children:[m.jsxs(Bn,{size:"sm",variant:"outline",onClick:G,disabled:!C,children:[m.jsx(Bd,{className:"mr-1 h-4 w-4"}),"Add"]}),m.jsxs(Bn,{size:"sm",variant:"outline",onClick:$,disabled:!C,children:[m.jsx(_d,{className:"mr-1 h-4 w-4"}),"Copy"]}),m.jsxs(Bn,{size:"sm",variant:"outline",onClick:Y,disabled:!C,children:[m.jsx(Td,{className:"mr-1 h-4 w-4"}),"Edit"]}),m.jsxs(Bn,{size:"sm",variant:"destructive",onClick:H,disabled:!C,children:[m.jsx(Cd,{className:"mr-1 h-4 w-4"}),"Delete"]})]})]})}),m.jsx(Qi,{open:b,onOpenChange:E,children:m.jsxs(Ll,{children:[m.jsx(Pl,{children:m.jsx(zl,{children:"Edit Node"})}),m.jsx(fd,{value:g,onChange:j=>(Q().f[23]++,Q().s[103]++,x(j.target.value)),placeholder:"Node text"}),m.jsxs(Gl,{children:[m.jsx(Bn,{variant:"outline",onClick:()=>(Q().f[24]++,Q().s[104]++,E(!1)),children:"Cancel"}),m.jsx(Bn,{onClick:U,children:"Save"})]})]})})]})))};Q().s[105]++;const $i=e=>{Q().f[25]++;const n=(Q().s[106]++,{width:"100%",height:"calc(100vh - 200px)",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"});return Q().s[107]++,m.jsx("div",{className:"flex h-full w-full items-center justify-center p-4",children:m.jsx("div",{style:n,children:m.jsx(KA,{children:m.jsx(Zg,{...e})})})})};Q().s[108]++;try{Q().s[109]++,$i.displayName="MindMap",Q().s[110]++,$i.__docgenInfo={description:"",displayName:"MindMap",props:{markdown:{defaultValue:null,description:"",name:"markdown",required:!0,type:{name:"string"}}}}}catch{}function ce(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/EnhancedMindMap.tsx",n="510813c4861689f386c53803d3e0ddbbd69f8c5b",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/EnhancedMindMap.tsx",statementMap:{0:{start:{line:6,column:24},end:{line:173,column:1}},1:{start:{line:12,column:42},end:{line:12,column:64}},2:{start:{line:13,column:34},end:{line:13,column:49}},3:{start:{line:14,column:31},end:{line:14,column:54}},4:{start:{line:15,column:2},end:{line:23,column:25}},5:{start:{line:16,column:4},end:{line:22,column:7}},6:{start:{line:24,column:2},end:{line:26,column:21}},7:{start:{line:25,column:4},end:{line:25,column:34}},8:{start:{line:27,column:27},end:{line:33,column:3}},9:{start:{line:28,column:4},end:{line:32,column:5}},10:{start:{line:29,column:6},end:{line:29,column:27}},11:{start:{line:31,column:6},end:{line:31,column:37}},12:{start:{line:34,column:21},end:{line:40,column:3}},13:{start:{line:35,column:4},end:{line:39,column:5}},14:{start:{line:36,column:6},end:{line:36,column:15}},15:{start:{line:38,column:6},end:{line:38,column:29}},16:{start:{line:41,column:21},end:{line:43,column:3}},17:{start:{line:42,column:4},end:{line:42,column:27}},18:{start:{line:44,column:2},end:{line:172,column:4}},19:{start:{line:150,column:28},end:{line:150,column:52}},20:{start:{line:159,column:20},end:{line:159,column:40}},21:{start:{line:160,column:20},end:{line:160,column:79}},22:{start:{line:161,column:20},end:{line:161,column:33}},23:{start:{line:175,column:0},end:{line:181,column:50}},24:{start:{line:177,column:4},end:{line:177,column:52}},25:{start:{line:179,column:4},end:{line:179,column:646}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:24},end:{line:6,column:25}},loc:{start:{line:11,column:6},end:{line:173,column:1}},line:11},1:{name:"(anonymous_1)",decl:{start:{line:15,column:12},end:{line:15,column:13}},loc:{start:{line:15,column:18},end:{line:23,column:3}},line:15},2:{name:"(anonymous_2)",decl:{start:{line:24,column:12},end:{line:24,column:13}},loc:{start:{line:24,column:18},end:{line:26,column:3}},line:24},3:{name:"(anonymous_3)",decl:{start:{line:27,column:27},end:{line:27,column:28}},loc:{start:{line:27,column:33},end:{line:33,column:3}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:34,column:21},end:{line:34,column:22}},loc:{start:{line:34,column:27},end:{line:40,column:3}},line:34},5:{name:"(anonymous_5)",decl:{start:{line:41,column:21},end:{line:41,column:22}},loc:{start:{line:41,column:27},end:{line:43,column:3}},line:41},6:{name:"(anonymous_6)",decl:{start:{line:150,column:21},end:{line:150,column:22}},loc:{start:{line:150,column:28},end:{line:150,column:52}},line:150},7:{name:"(anonymous_7)",decl:{start:{line:158,column:27},end:{line:158,column:28}},loc:{start:{line:158,column:34},end:{line:162,column:19}},line:158}},branchMap:{0:{loc:{start:{line:8,column:2},end:{line:8,column:22}},type:"default-arg",locations:[{start:{line:8,column:17},end:{line:8,column:22}}],line:8},1:{loc:{start:{line:28,column:4},end:{line:32,column:5}},type:"if",locations:[{start:{line:28,column:4},end:{line:32,column:5}},{start:{line:30,column:11},end:{line:32,column:5}}],line:28},2:{loc:{start:{line:35,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:39,column:5}},{start:{line:37,column:11},end:{line:39,column:5}}],line:35},3:{loc:{start:{line:47,column:29},end:{line:47,column:94}},type:"cond-expr",locations:[{start:{line:47,column:44},end:{line:47,column:76}},{start:{line:47,column:79},end:{line:47,column:94}}],line:47},4:{loc:{start:{line:51,column:87},end:{line:62,column:11}},type:"binary-expr",locations:[{start:{line:51,column:87},end:{line:51,column:99}},{start:{line:51,column:119},end:{line:62,column:11}}],line:51},5:{loc:{start:{line:78,column:30},end:{line:78,column:83}},type:"cond-expr",locations:[{start:{line:78,column:45},end:{line:78,column:62}},{start:{line:78,column:65},end:{line:78,column:83}}],line:78},6:{loc:{start:{line:79,column:26},end:{line:79,column:154}},type:"cond-expr",locations:[{start:{line:79,column:57},end:{line:79,column:96}},{start:{line:79,column:115},end:{line:79,column:154}}],line:79},7:{loc:{start:{line:92,column:8},end:{line:144,column:15}},type:"binary-expr",locations:[{start:{line:92,column:8},end:{line:92,column:16}},{start:{line:92,column:36},end:{line:144,column:15}}],line:92},8:{loc:{start:{line:145,column:8},end:{line:169,column:9}},type:"binary-expr",locations:[{start:{line:145,column:8},end:{line:145,column:20}},{start:{line:145,column:40},end:{line:169,column:9}}],line:145}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/EnhancedMindMap.tsx"],names:[],mappings:"AAuEY;AAvEZ;AACA;AACA;AACA;AASA;AAAyB;AACvB;AACe;AACf;AAEF;AACE;AACA;AACA;AAGA;AAEE;AAA4B;AACf;AACE;AACA;AACH;AACJ;AACP;AAIH;AACE;AAA4B;AAI9B;AACE;AACE;AAAmB;AAEnB;AAA6B;AAC/B;AAIF;AACE;AACE;AAAO;AAEP;AAAqB;AACvB;AAIF;AACE;AAAqB;AAGvB;AACE;AAAC;AAAA;AACyF;AACjD;AAGvC;AACE;AAEI;AAAC;AAAA;AACU;AACC;AACC;AAEX;AAA+B;AACqB;AAAA;AAAA;AAG1D;AAGE;AAAA;AAAC;AAAA;AACU;AACC;AACC;AAEqB;AAAA;AAClC;AAEA;AAAC;AAAA;AACU;AACC;AACqC;AAKf;AAAA;AAElC;AACF;AACF;AAGA;AAAC;AAAA;AACW;AAC0C;AAE3B;AAAA;AAC3B;AAMM;AACE;AAAkD;AAClD;AAAC;AAAA;AACU;AACC;AAEa;AAAA;AACzB;AACF;AAEE;AAGA;AAEE;AAAsC;AAEpC;AAA6C;AACH;AACO;AACR;AAC3C;AACF;AAEE;AAAoD;AAElD;AACE;AAA4C;AAAO;AAAG;AACV;AAAO;AAErD;AAEE;AAAgD;AAAO;AAEzD;AAEE;AAA+C;AAAO;AAExD;AACF;AACF;AACF;AACA;AAAC;AAAA;AACU;AACC;AACX;AAAA;AAED;AAEJ;AAKA;AAAC;AAAA;AACI;AACO;AAC2B;AAGnC;AAEA;AAIA;AAGA;AAEE;AAAC;AAAA;AAEG;AACA;AACA;AAAW;AACb;AACU;AACX;AAAA;AAGH;AACF;AAAA;AACF;AAAA;AAAA;AAIR;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"510813c4861689f386c53803d3e0ddbbd69f8c5b"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return ce=function(){return i},i}ce();ce().s[0]++;const qi=({data:e,isFullscreen:n=(ce().b[0][0]++,!1),onToggleFullscreen:t,onBack:l})=>{ce().f[0]++;const[o,r]=(ce().s[1]++,O.useState(n)),[i,a]=(ce().s[2]++,O.useState(!1)),{trackContentView:s}=(ce().s[3]++,za());ce().s[4]++,O.useEffect(()=>{ce().f[1]++,ce().s[5]++,s("mindmap",{contentId:"mindmap",contentType:"mindmap",knowledgeId:"mindmap",moduleId:"mindmap",type:"mindmap_view"})},[s]),ce().s[6]++,O.useEffect(()=>{ce().f[2]++,ce().s[7]++,r(n)},[n]),ce().s[8]++;const c=()=>{ce().f[3]++,ce().s[9]++,t?(ce().b[1][0]++,ce().s[10]++,t()):(ce().b[1][1]++,ce().s[11]++,r(!o))};ce().s[12]++;const u=()=>{ce().f[4]++,ce().s[13]++,l?(ce().b[2][0]++,ce().s[14]++,l()):(ce().b[2][1]++,ce().s[15]++,r(!1))};ce().s[16]++;const A=()=>{ce().f[5]++,ce().s[17]++,a(!i)};return ce().s[18]++,m.jsxs("div",{className:`relative ${o?(ce().b[3][0]++,"fixed inset-0 z-50 bg-gray-900"):(ce().b[3][1]++,"h-full w-full")}`,style:{width:"100%",height:"100%"},children:[m.jsxs("div",{className:"absolute left-0 right-0 top-0 z-50 flex items-center justify-between bg-gray-800 p-3",children:[m.jsx("div",{className:"flex items-center gap-3",children:(ce().b[4][0]++,o&&(ce().b[4][1]++,m.jsxs("button",{onClick:u,className:"flex items-center gap-1 text-gray-300 transition-colors hover:text-white","aria-label":"Back to course",children:[m.jsx(Ed,{className:"h-5 w-5"}),m.jsx("span",{className:"text-sm font-medium",children:"Back to Course"})]})))}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:A,className:"text-gray-300 transition-colors hover:text-white","aria-label":"Help",children:m.jsx(yd,{className:"h-5 w-5"})}),m.jsx("button",{onClick:c,className:"text-gray-300 transition-colors hover:text-white","aria-label":o?(ce().b[5][0]++,"Exit fullscreen"):(ce().b[5][1]++,"Enter fullscreen"),children:o?(ce().b[6][0]++,m.jsx(Md,{className:"h-5 w-5"})):(ce().b[6][1]++,m.jsx(Sd,{className:"h-5 w-5"}))})]})]}),m.jsx("div",{className:"h-full w-full pt-12",style:{width:"100%",height:"calc(100% - 48px)"},children:m.jsx($i,{markdown:e})}),(ce().b[7][0]++,i&&(ce().b[7][1]++,m.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center bg-black bg-opacity-75",children:m.jsxs("div",{className:"max-w-md rounded-lg border border-gray-700 bg-gray-800 p-6 text-white shadow-xl",children:[m.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[m.jsx("h3",{className:"text-xl font-semibold",children:"Mindmap Help"}),m.jsx("button",{onClick:A,className:"text-gray-400 transition-colors hover:text-white",children:m.jsx(Pa,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("p",{className:"text-gray-300",children:"The mindmap helps you visualize connections between concepts in the course material."}),m.jsxs("div",{children:[m.jsx("h4",{className:"mb-2 font-medium",children:"Tips:"}),m.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-gray-300",children:[m.jsx("li",{children:"Click and drag to move around the mindmap"}),m.jsx("li",{children:"Use the mouse wheel to zoom in and out"}),m.jsx("li",{children:"Click on nodes to expand or collapse branches"}),m.jsx("li",{children:"Double-click on a node to focus on it"})]})]}),m.jsxs("div",{children:[m.jsx("h4",{className:"mb-2 font-medium",children:"Keyboard Shortcuts:"}),m.jsxs("ul",{className:"list-disc space-y-1 pl-5 text-gray-300",children:[m.jsxs("li",{children:[m.jsx("span",{className:"rounded bg-gray-700 px-1",children:"+"})," /"," ",m.jsx("span",{className:"rounded bg-gray-700 px-1",children:"-"})," to zoom in/out"]}),m.jsxs("li",{children:[m.jsx("span",{className:"rounded bg-gray-700 px-1",children:"Space"})," + drag to pan"]}),m.jsxs("li",{children:[m.jsx("span",{className:"rounded bg-gray-700 px-1",children:"Ctrl"})," + click to select multiple nodes"]})]})]})]}),m.jsx("button",{onClick:A,className:"mt-6 w-full rounded-md bg-indigo-600 px-4 py-2 font-medium text-white transition duration-200 ease-in-out hover:bg-indigo-700",children:"Got it"})]})}))),(ce().b[8][0]++,o&&(ce().b[8][1]++,m.jsx("div",{id:"mindmapMessageOverlay",className:"pointer-events-auto absolute inset-0 z-30 flex items-center justify-center bg-black bg-opacity-75",onClick:d=>(ce().f[6]++,ce().s[19]++,d.currentTarget.remove()),children:m.jsxs("div",{className:"max-w-md rounded-lg border border-gray-700 bg-gray-800 p-8 text-center text-white shadow-xl",children:[m.jsx("h3",{className:"mb-4 text-2xl font-semibold",children:"Welcome to Mindmap View"}),m.jsx("p",{className:"mb-6 text-gray-300",children:"Explore connections between concepts and ideas in this interactive mindmap. Use the controls to navigate and zoom."}),m.jsx("p",{className:"mb-4 text-sm text-gray-400",children:"Click anywhere to dismiss this message"}),m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:d=>{ce().f[7]++,ce().s[20]++,d.stopPropagation(),ce().s[21]++,document.getElementById("mindmapMessageOverlay")?.remove(),ce().s[22]++,A()},className:"rounded-md bg-indigo-600 px-6 py-2 font-medium text-white transition duration-200 ease-in-out hover:bg-indigo-700",children:"Show Help"})})]})})))]})};ce().s[23]++;try{ce().s[24]++,qi.displayName="EnhancedMindMap",ce().s[25]++,qi.__docgenInfo={description:"",displayName:"EnhancedMindMap",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string"}},isFullscreen:{defaultValue:{value:"false"},description:"",name:"isFullscreen",required:!1,type:{name:"boolean"}},onToggleFullscreen:{defaultValue:null,description:"",name:"onToggleFullscreen",required:!1,type:{name:"() => void"}},onBack:{defaultValue:null,description:"",name:"onBack",required:!1,type:{name:"() => void"}}}}}catch{}function xr(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/promptsConfig.ts",n="5a6a7a16aea503fd2eabe95d864ac986a9b940b9",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/promptsConfig.ts",statementMap:{0:{start:{line:1,column:29},end:{line:46,column:1}},1:{start:{line:2,column:23},end:{line:9,column:9}},2:{start:{line:10,column:25},end:{line:16,column:9}},3:{start:{line:40,column:44},end:{line:42,column:62}},4:{start:{line:48,column:24},end:{line:68,column:4}},5:{start:{line:49,column:26},end:{line:65,column:5}},6:{start:{line:66,column:22},end:{line:66,column:48}},7:{start:{line:67,column:4},end:{line:67,column:33}},8:{start:{line:69,column:2},end:{line:69,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:9},end:{line:2,column:10}},loc:{start:{line:2,column:23},end:{line:9,column:9}},line:2},1:{name:"(anonymous_1)",decl:{start:{line:10,column:11},end:{line:10,column:12}},loc:{start:{line:10,column:25},end:{line:16,column:9}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:40,column:23},end:{line:40,column:24}},loc:{start:{line:40,column:44},end:{line:42,column:62}},line:40},3:{name:"generateImages",decl:{start:{line:47,column:22},end:{line:47,column:36}},loc:{start:{line:47,column:72},end:{line:70,column:1}},line:47},4:{name:"(anonymous_4)",decl:{start:{line:48,column:48},end:{line:48,column:49}},loc:{start:{line:48,column:65},end:{line:68,column:3}},line:48}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/promptsConfig.ts"],names:[],mappings:"AACO,aAAM,gBAAgB;AAAA,EAC3B,OAAO,CAAC,aAAqB;AAAA,6GAC8E,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,KAKhH,QAAQ;AAAA;AAAA,EAGX,SAAS,CAAC,aAAqB;AAAA,mFACkD,QAAQ;AAAA;AAAA,2BAEhE,QAAQ;AAAA,qGACkE,QAAQ;AAAA;AAAA;AAAA,EAI3G,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAwBT,qBAAqB,CAAC,OAAe,aAAqB;AAAA,WACjD,KAAK,gEAAgE,QAAQ;AAAA;AAAA,EAGtF,eAAe;AAAA;AAAA;AAGjB;AAKA,sBAAsB,eACpB,cACA,qBACmB;AACnB,QAAM,gBAAgB,oBAAoB,IAAI,OAAM,UAAS;AAC3D,UAAM,gBAAgB,MAAM;AAAA,MAC1B;AAAA,MACA;AAAA,QACE,QAAQ;AAAA,QACR,SAAS;AAAA,UACP,gBAAgB;AAAA,UAChB,eAAe,UAAU,YAAY;AAAA,QACvC;AAAA,QACA,MAAM,KAAK,UAAU;AAAA,UACnB,OAAO;AAAA,UACP,QAAQ,6BAA6B,KAAK;AAAA,UAC1C,GAAG;AAAA,UACH,MAAM;AAAA,UACN,SAAS;AAAA,QACX,CAAC;AAAA,MACH;AAAA,IACF;AACA,UAAM,YAAY,MAAM,cAAc,KAAK;AAC3C,WAAO,UAAU,KAAK,CAAC,EAAE;AAAA,EAC3B,CAAC;AAED,SAAO,QAAQ,IAAI,aAAa;AAClC;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5a6a7a16aea503fd2eabe95d864ac986a9b940b9"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return xr=function(){return i},i}xr();xr().s[0]++;function Su(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/utils.ts",n="c7f8c59e6e0d4903f452eec24fac32234d8adc33",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/utils.ts",statementMap:{0:{start:{line:2,column:16},end:{line:2,column:56}},1:{start:{line:3,column:22},end:{line:3,column:24}},2:{start:{line:5,column:2},end:{line:9,column:3}},3:{start:{line:6,column:4},end:{line:8,column:5}},4:{start:{line:7,column:6},end:{line:7,column:40}},5:{start:{line:10,column:2},end:{line:12,column:3}},6:{start:{line:11,column:4},end:{line:11,column:51}},7:{start:{line:13,column:2},end:{line:13,column:21}},8:{start:{line:16,column:2},end:{line:18,column:3}},9:{start:{line:17,column:4},end:{line:17,column:58}},10:{start:{line:19,column:17},end:{line:19,column:19}},11:{start:{line:20,column:2},end:{line:22,column:3}},12:{start:{line:20,column:15},end:{line:20,column:16}},13:{start:{line:21,column:4},end:{line:21,column:42}},14:{start:{line:23,column:2},end:{line:23,column:16}},15:{start:{line:26,column:2},end:{line:26,column:104}}},fnMap:{0:{name:"extractSubheadings",decl:{start:{line:1,column:16},end:{line:1,column:34}},loc:{start:{line:1,column:56},end:{line:14,column:1}},line:1},1:{name:"windowedChunk",decl:{start:{line:15,column:16},end:{line:15,column:29}},loc:{start:{line:15,column:56},end:{line:24,column:1}},line:15},2:{name:"stripMarkdown",decl:{start:{line:25,column:16},end:{line:25,column:29}},loc:{start:{line:25,column:36},end:{line:27,column:1}},line:25}},branchMap:{0:{loc:{start:{line:1,column:45},end:{line:1,column:54}},type:"default-arg",locations:[{start:{line:1,column:53},end:{line:1,column:54}}],line:1},1:{loc:{start:{line:6,column:4},end:{line:8,column:5}},type:"if",locations:[{start:{line:6,column:4},end:{line:8,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:6},2:{loc:{start:{line:10,column:2},end:{line:12,column:3}},type:"if",locations:[{start:{line:10,column:2},end:{line:12,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:10},3:{loc:{start:{line:10,column:6},end:{line:10,column:43}},type:"binary-expr",locations:[{start:{line:10,column:6},end:{line:10,column:30}},{start:{line:10,column:34},end:{line:10,column:43}}],line:10},4:{loc:{start:{line:15,column:43},end:{line:15,column:54}},type:"default-arg",locations:[{start:{line:15,column:53},end:{line:15,column:54}}],line:15},5:{loc:{start:{line:16,column:2},end:{line:18,column:3}},type:"if",locations:[{start:{line:16,column:2},end:{line:18,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:16}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0},f:{0:0,1:0,2:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0],5:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/utils.ts"],names:[],mappings:"AACO,gBAAS,mBAAmB,UAAkB,QAAQ,GAAa;AACxE,QAAM,QAAQ,IAAI,OAAO,MAAM,KAAK,aAAa,IAAI;AACrD,QAAM,cAAc,CAAC;AACrB,MAAI;AACJ,UAAQ,QAAQ,MAAM,KAAK,QAAQ,OAAO,MAAM;AAC9C,QAAI,MAAM,CAAC,GAAG;AACZ,kBAAY,KAAK,MAAM,CAAC,EAAE,KAAK,CAAC;AAAA,IAClC;AAAA,EACF;AAEA,MAAI,YAAY,WAAW,KAAK,QAAQ,GAAG;AACzC,WAAO,mBAAmB,UAAU,QAAQ,CAAC;AAAA,EAC/C;AAEA,SAAO;AACT;AAEO,gBAAS,cAAiB,OAAY,MAAc,UAAU,GAAU;AAC7E,MAAI,QAAQ,SAAS;AACnB,UAAM,IAAI,MAAM,oCAAoC;AAAA,EACtD;AAEA,QAAM,SAAgB,CAAC;AACvB,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,OAAO,SAAS;AACrD,WAAO,KAAK,MAAM,MAAM,GAAG,IAAI,IAAI,CAAC;AAAA,EACtC;AACA,SAAO;AACT;AAEO,gBAAS,cAAc,MAAsB;AAClD,SAAO,KACJ,QAAQ,kDAAkD,EAAE,EAC5D,QAAQ,QAAQ,GAAG,EACnB,KAAK;AACV;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c7f8c59e6e0d4903f452eec24fac32234d8adc33"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return Su=function(){return i},i}Su();function We(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/openAiFns.ts",n="8fb9cc4fe15f4f4c65137a2b946b9eb32c765f16",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/openAiFns.ts",statementMap:{0:{start:{line:4,column:2},end:{line:6,column:3}},1:{start:{line:5,column:4},end:{line:5,column:36}},2:{start:{line:7,column:21},end:{line:50,column:3}},3:{start:{line:51,column:2},end:{line:79,column:3}},4:{start:{line:52,column:19},end:{line:65,column:5}},5:{start:{line:66,column:4},end:{line:66,column:30}},6:{start:{line:68,column:4},end:{line:68,column:65}},7:{start:{line:69,column:4},end:{line:78,column:6}},8:{start:{line:82,column:2},end:{line:82,column:43}},9:{start:{line:82,column:33},end:{line:82,column:43}},10:{start:{line:83,column:22},end:{line:85,column:3}},11:{start:{line:84,column:11},end:{line:84,column:31}},12:{start:{line:86,column:23},end:{line:86,column:61}},13:{start:{line:87,column:17},end:{line:87,column:84}},14:{start:{line:87,column:80},end:{line:87,column:83}},15:{start:{line:88,column:18},end:{line:88,column:20}},16:{start:{line:89,column:2},end:{line:104,column:3}},17:{start:{line:90,column:22},end:{line:90,column:68}},18:{start:{line:91,column:4},end:{line:103,column:5}},19:{start:{line:92,column:21},end:{line:99,column:7}},20:{start:{line:100,column:6},end:{line:100,column:27}},21:{start:{line:102,column:6},end:{line:102,column:64}},22:{start:{line:105,column:2},end:{line:105,column:17}},23:{start:{line:108,column:2},end:{line:108,column:31}},24:{start:{line:109,column:17},end:{line:109,column:46}},25:{start:{line:110,column:2},end:{line:110,column:71}},26:{start:{line:113,column:17},end:{line:113,column:48}},27:{start:{line:114,column:2},end:{line:114,column:65}},28:{start:{line:117,column:17},end:{line:117,column:38}},29:{start:{line:118,column:2},end:{line:118,column:65}},30:{start:{line:121,column:2},end:{line:121,column:43}},31:{start:{line:121,column:33},end:{line:121,column:43}},32:{start:{line:122,column:17},end:{line:122,column:44}},33:{start:{line:123,column:17},end:{line:130,column:3}},34:{start:{line:131,column:2},end:{line:131,column:16}},35:{start:{line:134,column:2},end:{line:134,column:43}},36:{start:{line:134,column:33},end:{line:134,column:43}},37:{start:{line:135,column:31},end:{line:135,column:33}},38:{start:{line:136,column:21},end:{line:136,column:22}},39:{start:{line:137,column:22},end:{line:139,column:3}},40:{start:{line:138,column:11},end:{line:138,column:30}},41:{start:{line:140,column:17},end:{line:140,column:54}},42:{start:{line:141,column:17},end:{line:141,column:78}},43:{start:{line:141,column:65},end:{line:141,column:68}},44:{start:{line:142,column:31},end:{line:142,column:33}},45:{start:{line:144,column:19},end:{line:147,column:5}},46:{start:{line:148,column:23},end:{line:174,column:5}},47:{start:{line:175,column:4},end:{line:197,column:5}},48:{start:{line:176,column:21},end:{line:183,column:7}},49:{start:{line:184,column:21},end:{line:184,column:39}},50:{start:{line:185,column:6},end:{line:185,column:30}},51:{start:{line:187,column:6},end:{line:196,column:7}},52:{start:{line:188,column:8},end:{line:188,column:62}},53:{start:{line:189,column:8},end:{line:189,column:50}},54:{start:{line:191,column:8},end:{line:194,column:10}},55:{start:{line:195,column:8},end:{line:195,column:18}},56:{start:{line:199,column:2},end:{line:205,column:3}},57:{start:{line:200,column:22},end:{line:200,column:49}},58:{start:{line:201,column:4},end:{line:201,column:44}},59:{start:{line:202,column:4},end:{line:204,column:5}},60:{start:{line:203,column:6},end:{line:203,column:12}},61:{start:{line:206,column:2},end:{line:206,column:55}},62:{start:{line:209,column:2},end:{line:231,column:3}},63:{start:{line:210,column:19},end:{line:226,column:5}},64:{start:{line:227,column:4},end:{line:227,column:18}},65:{start:{line:229,column:4},end:{line:229,column:63}},66:{start:{line:230,column:4},end:{line:230,column:148}},67:{start:{line:233,column:23},end:{line:245,column:1}}},fnMap:{0:{name:"generateMindMapStructure",decl:{start:{line:3,column:22},end:{line:3,column:46}},loc:{start:{line:3,column:67},end:{line:80,column:1}},line:3},1:{name:"generateChunkedContent",decl:{start:{line:81,column:22},end:{line:81,column:44}},loc:{start:{line:81,column:89},end:{line:106,column:1}},line:81},2:{name:"(anonymous_2)",decl:{start:{line:84,column:4},end:{line:84,column:5}},loc:{start:{line:84,column:11},end:{line:84,column:31}},line:84},3:{name:"(anonymous_3)",decl:{start:{line:87,column:73},end:{line:87,column:74}},loc:{start:{line:87,column:80},end:{line:87,column:83}},line:87},4:{name:"generateNotes",decl:{start:{line:107,column:22},end:{line:107,column:35}},loc:{start:{line:107,column:66},end:{line:111,column:1}},line:107},5:{name:"generateSummary",decl:{start:{line:112,column:22},end:{line:112,column:37}},loc:{start:{line:112,column:68},end:{line:115,column:1}},line:112},6:{name:"generateMindMap",decl:{start:{line:116,column:22},end:{line:116,column:37}},loc:{start:{line:116,column:58},end:{line:119,column:1}},line:116},7:{name:"generate3DPrompts",decl:{start:{line:120,column:22},end:{line:120,column:39}},loc:{start:{line:120,column:60},end:{line:132,column:1}},line:120},8:{name:"generateQuestions",decl:{start:{line:133,column:22},end:{line:133,column:39}},loc:{start:{line:133,column:91},end:{line:207,column:1}},line:133},9:{name:"(anonymous_9)",decl:{start:{line:138,column:4},end:{line:138,column:5}},loc:{start:{line:138,column:11},end:{line:138,column:30}},line:138},10:{name:"(anonymous_10)",decl:{start:{line:141,column:58},end:{line:141,column:59}},loc:{start:{line:141,column:65},end:{line:141,column:68}},line:141},11:{name:"fetchWithRetry",decl:{start:{line:143,column:17},end:{line:143,column:31}},loc:{start:{line:143,column:61},end:{line:198,column:3}},line:143},12:{name:"generateTeacherResponse",decl:{start:{line:208,column:22},end:{line:208,column:45}},loc:{start:{line:208,column:120},end:{line:232,column:1}},line:208}},branchMap:{0:{loc:{start:{line:4,column:2},end:{line:6,column:3}},type:"if",locations:[{start:{line:4,column:2},end:{line:6,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:4},1:{loc:{start:{line:4,column:6},end:{line:4,column:31}},type:"binary-expr",locations:[{start:{line:4,column:6},end:{line:4,column:11}},{start:{line:4,column:15},end:{line:4,column:31}}],line:4},2:{loc:{start:{line:81,column:73},end:{line:81,column:87}},type:"default-arg",locations:[{start:{line:81,column:85},end:{line:81,column:87}}],line:81},3:{loc:{start:{line:82,column:2},end:{line:82,column:43}},type:"if",locations:[{start:{line:82,column:2},end:{line:82,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:82},4:{loc:{start:{line:82,column:6},end:{line:82,column:31}},type:"binary-expr",locations:[{start:{line:82,column:6},end:{line:82,column:11}},{start:{line:82,column:15},end:{line:82,column:31}}],line:82},5:{loc:{start:{line:87,column:17},end:{line:87,column:84}},type:"cond-expr",locations:[{start:{line:87,column:42},end:{line:87,column:54}},{start:{line:87,column:57},end:{line:87,column:84}}],line:87},6:{loc:{start:{line:90,column:22},end:{line:90,column:68}},type:"cond-expr",locations:[{start:{line:90,column:45},end:{line:90,column:60}},{start:{line:90,column:63},end:{line:90,column:68}}],line:90},7:{loc:{start:{line:121,column:2},end:{line:121,column:43}},type:"if",locations:[{start:{line:121,column:2},end:{line:121,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:121},8:{loc:{start:{line:121,column:6},end:{line:121,column:31}},type:"binary-expr",locations:[{start:{line:121,column:6},end:{line:121,column:11}},{start:{line:121,column:15},end:{line:121,column:31}}],line:121},9:{loc:{start:{line:133,column:70},end:{line:133,column:89}},type:"default-arg",locations:[{start:{line:133,column:87},end:{line:133,column:89}}],line:133},10:{loc:{start:{line:134,column:2},end:{line:134,column:43}},type:"if",locations:[{start:{line:134,column:2},end:{line:134,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:134},11:{loc:{start:{line:134,column:6},end:{line:134,column:31}},type:"binary-expr",locations:[{start:{line:134,column:6},end:{line:134,column:11}},{start:{line:134,column:15},end:{line:134,column:31}}],line:134},12:{loc:{start:{line:141,column:17},end:{line:141,column:78}},type:"cond-expr",locations:[{start:{line:141,column:42},end:{line:141,column:69}},{start:{line:141,column:72},end:{line:141,column:78}}],line:141},13:{loc:{start:{line:143,column:39},end:{line:143,column:59}},type:"default-arg",locations:[{start:{line:143,column:49},end:{line:143,column:59}}],line:143},14:{loc:{start:{line:187,column:6},end:{line:196,column:7}},type:"if",locations:[{start:{line:187,column:6},end:{line:196,column:7}},{start:{line:190,column:13},end:{line:196,column:7}}],line:187},15:{loc:{start:{line:202,column:4},end:{line:204,column:5}},type:"if",locations:[{start:{line:202,column:4},end:{line:204,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:202},16:{loc:{start:{line:230,column:11},end:{line:230,column:147}},type:"cond-expr",locations:[{start:{line:230,column:31},end:{line:230,column:87}},{start:{line:230,column:90},end:{line:230,column:147}}],line:230}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0],10:[0,0],11:[0,0],12:[0,0],13:[0],14:[0,0],15:[0,0],16:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/openAiFns.ts"],names:[],mappings:"AACA,SAAS,qBAAqB;AAC9B,SAAS,oBAAoB,qBAAqB;AA2BlD,sBAAsB,yBACpB,cACA,MAC2B;AAC3B,MAAI,CAAC,QAAQ,KAAK,SAAS,IAAI;AAC7B,WAAO,EAAE,OAAO,CAAC,GAAG,OAAO,CAAC,EAAE;AAAA,EAChC;AAEA,QAAM,aAAa;AAAA,IACjB,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ;AAAA,MACN,MAAM;AAAA,MACN,YAAY;AAAA,QACV,OAAO;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,YACL,MAAM;AAAA,YACN,YAAY;AAAA,cACV,IAAI,EAAE,MAAM,SAAS;AAAA,cACrB,MAAM,EAAE,MAAM,UAAU,MAAM,CAAC,SAAS,WAAW,QAAQ,EAAE;AAAA,cAC7D,MAAM;AAAA,gBACJ,MAAM;AAAA,gBACN,YAAY;AAAA,kBACV,OAAO,EAAE,MAAM,SAAS;AAAA,gBAC1B;AAAA,gBACA,sBAAsB;AAAA,gBACtB,UAAU,CAAC,OAAO;AAAA,cACpB;AAAA,YACF;AAAA,YACA,UAAU,CAAC,MAAM,QAAQ,MAAM;AAAA,YAC/B,sBAAsB;AAAA,UACxB;AAAA,QACF;AAAA,QACA,OAAO;AAAA,UACL,MAAM;AAAA,UACN,OAAO;AAAA,YACL,MAAM;AAAA,YACN,YAAY;AAAA,cACV,IAAI,EAAE,MAAM,SAAS;AAAA,cACrB,QAAQ,EAAE,MAAM,SAAS;AAAA,cACzB,QAAQ,EAAE,MAAM,SAAS;AAAA,YAC3B;AAAA,YACA,sBAAsB;AAAA,YACtB,UAAU,CAAC,MAAM,UAAU,QAAQ;AAAA,UACrC;AAAA,QACF;AAAA,MACF;AAAA,MACA,UAAU,CAAC,SAAS,OAAO;AAAA,MAC3B,sBAAsB;AAAA,IACxB;AAAA,EACF;AAEA,MAAI;AACF,UAAM,SAAS,MAAM,aAAa;AAAA,MAChC;AAAA,QACE;AAAA,UACE,MAAM;AAAA,UACN,SAAS,cAAc;AAAA,QACzB;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,SAAS;AAAA,QACX;AAAA,MACF;AAAA,MACA;AAAA,MACA;AAAA,IACF;AAEA,WAAO,KAAK,MAAM,MAAM;AAAA,EAC1B,SAAS,OAAO;AACd,YAAQ,MAAM,wCAAwC,KAAK;AAC3D,WAAO;AAAA,MACL,OAAO;AAAA,QACL;AAAA,UACE,IAAI;AAAA,UACJ,MAAM;AAAA,UACN,MAAM,EAAE,OAAO,4BAA4B;AAAA,QAC7C;AAAA,MACF;AAAA,MACA,OAAO,CAAC;AAAA,IACV;AAAA,EACF;AACF;AAEA,sBAAsB,uBACpB,cACA,MACA,QACA,YAAoB,IACD;AACnB,MAAI,CAAC,QAAQ,KAAK,SAAS,GAAI,QAAO,CAAC;AAGvC,QAAM,cAAc,mBAAmB,MAAM,CAAC,EAAE;AAAA,IAC9C,OAAK,MAAM;AAAA,EACb;AACA,QAAM,eAAe,cAAc,KAAK,MAAM,IAAI,GAAG,IAAI,CAAC;AAC1D,QAAM,SACJ,YAAY,SAAS,IAAI,eAAe,YAAY,IAAI,OAAK,CAAC,CAAC,CAAC;AAElE,QAAM,UAAoB,CAAC;AAC3B,aAAW,SAAS,QAAQ;AAC1B,UAAM,YAAY,MAAM,QAAQ,KAAK,IAAI,MAAM,KAAK,GAAG,IAAI;AAC3D,QAAI;AACF,YAAM,SAAS,MAAM,aAAa;AAAA,QAChC;AAAA,UACE,EAAE,MAAM,UAAU,SAAS,OAAO;AAAA,UAClC,EAAE,MAAM,QAAQ,SAAS,UAAU;AAAA,QACrC;AAAA,QACA;AAAA,QACA;AAAA,MACF;AACA,cAAQ,KAAK,MAAM;AAAA,IACrB,SAAS,OAAO;AACd,cAAQ,MAAM,qCAAqC,KAAK;AAAA,IAC1D;AAAA,EACF;AAEA,SAAO;AACT;AAEA,sBAAsB,cACpB,cACA,MACA,UACmB;AACnB,UAAQ,IAAI,eAAe;AAC3B,QAAM,SAAS,cAAc,MAAM,QAAQ;AAC3C,SAAO,MAAM,uBAAuB,cAAc,MAAM,QAAQ,GAAG;AACrE;AAEA,sBAAsB,gBACpB,cACA,MACA,UACmB;AACnB,QAAM,SAAS,cAAc,QAAQ,QAAQ;AAC7C,SAAO,uBAAuB,cAAc,MAAM,QAAQ,GAAG;AAC/D;AAEA,sBAAsB,gBACpB,cACA,MACmB;AACnB,QAAM,SAAS,cAAc;AAC7B,SAAO,uBAAuB,cAAc,MAAM,QAAQ,GAAG;AAC/D;AAEA,sBAAsB,kBACpB,cACA,MACiB;AACjB,MAAI,CAAC,QAAQ,KAAK,SAAS,GAAI,QAAO;AACtC,QAAM,SAAS,cAAc;AAC7B,QAAM,SAAS,MAAM,aAAa;AAAA,IAChC;AAAA,MACE,EAAE,MAAM,UAAU,SAAS,OAAO;AAAA,MAClC,EAAE,MAAM,QAAQ,SAAS,KAAK;AAAA,IAChC;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,SAAO;AACT;AAEA,sBAAsB,kBACpB,cACA,MACA,UACA,iBAAyB,IACW;AACpC,MAAI,CAAC,QAAQ,KAAK,SAAS,GAAI,QAAO,CAAC;AAEvC,QAAM,uBAAuB;AAC7B,QAAM,aAAa;AAEnB,QAAM,cAAc,mBAAmB,MAAM,CAAC,EAAE;AAAA,IAC9C,OAAK,KAAK;AAAA,EACZ;AACA,QAAM,SAAS,cAAc,KAAK,MAAM,GAAG,GAAG,IAAI,CAAC;AACnD,QAAM,SAAS,YAAY,SAAS,IAAI,YAAY,IAAI,OAAK,CAAC,CAAC,CAAC,IAAI;AAEpE,QAAM,uBAAkD,CAAC;AAGzD,iBAAe,eACb,OACA,UAAU,YAC0B;AACpC,UAAM,SAAS,cAAc;AAAA,MAC3B;AAAA,MACA;AAAA,IACF;AACA,UAAM,aAAa;AAAA,MACjB,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ;AAAA,QACN,MAAM;AAAA,QACN,YAAY;AAAA,UACV,WAAW;AAAA,YACT,MAAM;AAAA,YACN,OAAO;AAAA,cACL,MAAM;AAAA,cACN,YAAY;AAAA,gBACV,UAAU,EAAE,MAAM,SAAS;AAAA,gBAC3B,SAAS;AAAA,kBACP,MAAM;AAAA,kBACN,OAAO,EAAE,MAAM,SAAS;AAAA,gBAC1B;AAAA,gBACA,QAAQ,EAAE,MAAM,SAAS;AAAA,cAC3B;AAAA,cACA,UAAU,CAAC,YAAY,WAAW,QAAQ;AAAA,cAC1C,sBAAsB;AAAA,YACxB;AAAA,UACF;AAAA,QACF;AAAA,QACA,UAAU,CAAC,WAAW;AAAA,QACtB,sBAAsB;AAAA,MACxB;AAAA,IACF;AAEA,QAAI;AACF,YAAM,SAAS,MAAM,aAAa;AAAA,QAChC;AAAA,UACE,EAAE,MAAM,UAAU,SAAS,OAAO;AAAA,UAClC,EAAE,MAAM,QAAQ,SAAS,MAAM,KAAK,GAAG,EAAE;AAAA,QAC3C;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAEA,YAAM,SAAS,KAAK,MAAM,MAAM;AAChC,aAAO,OAAO;AAAA,IAChB,SAAS,OAAO;AACd,UAAI,UAAU,GAAG;AACf,gBAAQ,KAAK,8BAA8B,OAAO,EAAE;AACpD,eAAO,eAAe,OAAO,UAAU,CAAC;AAAA,MAC1C,OAAO;AACL,gBAAQ;AAAA,UACN;AAAA,UACA;AAAA,QACF;AACA,eAAO,CAAC;AAAA,MACV;AAAA,IACF;AAAA,EACF;AAEA,aAAW,SAAS,QAAQ;AAC1B,UAAM,YAAY,MAAM,eAAe,KAAK;AAC5C,yBAAqB,KAAK,GAAG,SAAS;AAEtC,QAAI,qBAAqB,UAAU,gBAAgB;AACjD;AAAA,IACF;AAAA,EACF;AAEA,SAAO,qBAAqB,MAAM,GAAG,cAAc;AACrD;AAyBA,sBAAsB,wBACpB,cACA,iBACA,gBACA,iBACA,UACiB;AAGjB,MAAI;AACF,UAAM,SAAS,MAAM,aAAa;AAAA,MAChC;AAAA,QACE;AAAA,UACE,MAAM;AAAA,UACN,SAAS,sDAAsD,cAAc,wEAAwE,eAAe,oIAAoI,QAAQ;AAAA,QAClT;AAAA,QACA;AAAA,UACE,MAAM;AAAA,UACN,SAAS,uBAAuB,eAAe;AAAA,kBACvC,eAAe;AAAA;AAAA,4EAE2C,cAAc,oCAAoC,QAAQ;AAAA,QAC9H;AAAA,MACF;AAAA,MACA;AAAA,MACA;AAAA,IACF;AACA,WAAO;AAAA,EACT,SAAS,OAAO;AACd,YAAQ,MAAM,sCAAsC,KAAK;AAEzD,WAAO,aAAa,OAChB,2DACA;AAAA,EACN;AACF;AAUO,aAAM,UAAU;AAAA,EACrB,OAAO;AAAA,EACP,SAAS;AAAA,EACT,MAAM;AAAA,EACN,kBAAkB;AAAA;AAAA,EAElB,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAMnB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8fb9cc4fe15f4f4c65137a2b946b9eb32c765f16"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return We=function(){return i},i}We();async function Jg(e,n,t,l,o){We().f[12]++,We().s[62]++;try{const r=(We().s[63]++,await e.chatCompletion([{role:"system",content:`You are roleplaying as a teacher with the persona: ${t}. You must strictly adhere to this persona. The scenario context is: ${l}. Respond directly to the student in character, using the scenario context. **IMPORTANT: Respond ONLY in the following language: ${o}**`},{role:"user",content:`Scenario Reminder: "${l}"
Student Input: "${n}"

Based on the scenario and my input, what is your response as the teacher (${t})? **Remember to respond ONLY in ${o}.**`}],"gpt-4o-mini",-1));return We().s[64]++,r}catch(r){return We().s[65]++,console.error("Error generating teacher response:",r),We().s[66]++,o==="es"?(We().b[16][0]++,"Ese es un punto interesante. Puedes dar ms detalles?"):(We().b[16][1]++,"That's an interesting point. Can you elaborate further?")}}We().s[67]++;function je(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/RoleplayService.ts",n="361666f79fa4e6c3b1d36e8f7527b14f2fc6ca84",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/RoleplayService.ts",statementMap:{0:{start:{line:5,column:4},end:{line:5,column:37}},1:{start:{line:17,column:4},end:{line:19,column:6}},2:{start:{line:20,column:4},end:{line:32,column:5}},3:{start:{line:21,column:30},end:{line:27,column:7}},4:{start:{line:28,column:6},end:{line:28,column:29}},5:{start:{line:30,column:6},end:{line:30,column:79}},6:{start:{line:31,column:6},end:{line:31,column:150}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:4,column:2},end:{line:4,column:3}},loc:{start:{line:4,column:28},end:{line:6,column:3}},line:4},1:{name:"(anonymous_1)",decl:{start:{line:16,column:2},end:{line:16,column:3}},loc:{start:{line:16,column:87},end:{line:33,column:3}},line:16}},branchMap:{0:{loc:{start:{line:31,column:13},end:{line:31,column:149}},type:"cond-expr",locations:[{start:{line:31,column:33},end:{line:31,column:89}},{start:{line:31,column:92},end:{line:31,column:149}}],line:31}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},f:{0:0,1:0},b:{0:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/services/RoleplayService.ts"],names:[],mappings:"AACA,SAAS,+BAA+B;AAEjC,aAAM,gBAAgB;AAAA,EACnB;AAAA,EAER,YAAY,cAA4B;AACtC,SAAK,eAAe;AAAA,EACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,MAAM,mBACJ,iBACA,gBACA,iBACA,UACiB;AACjB,YAAQ;AAAA,MACN,4CAA4C,cAAc,iBAAiB,QAAQ;AAAA,IACrF;AACA,QAAI;AACF,YAAM,kBAAkB,MAAM;AAAA,QAC5B,KAAK;AAAA,QACL;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACF;AACA,aAAO;AAAA,IACT,SAAS,OAAO;AACd,cAAQ,MAAM,oDAAoD,KAAK;AAEvE,aAAO,aAAa,OAChB,2DACA;AAAA,IACN;AAAA,EACF;AAAA;AAGF;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"361666f79fa4e6c3b1d36e8f7527b14f2fc6ca84"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return je=function(){return i},i}je();class eC{openaiClient;constructor(n){je().f[0]++,je().s[0]++,this.openaiClient=n}async getTeacherResponse(n,t,l,o){je().f[1]++,je().s[1]++,console.log(`Generating teacher response for persona: ${t} in language: ${o}`),je().s[2]++;try{const r=(je().s[3]++,await Jg(this.openaiClient,n,t,l,o));return je().s[4]++,r}catch(r){return je().s[5]++,console.error("RoleplayService: Error getting teacher response:",r),je().s[6]++,o==="es"?(je().b[0][0]++,"Ese es un punto interesante. Puedes dar ms detalles?"):(je().b[0][1]++,"That's an interesting point. Can you elaborate further?")}}}function we(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/BlackboardDisplay.tsx",n="6d0d8e1b6b312c6063f16e08debec3e82f058f06",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/BlackboardDisplay.tsx",statementMap:{0:{start:{line:2,column:26},end:{line:16,column:1}},1:{start:{line:7,column:2},end:{line:15,column:10}},2:{start:{line:18,column:0},end:{line:24,column:50}},3:{start:{line:20,column:4},end:{line:20,column:56}},4:{start:{line:22,column:4},end:{line:22,column:508}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:2,column:26},end:{line:2,column:27}},loc:{start:{line:6,column:6},end:{line:16,column:1}},line:6}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:8,column:127}},type:"binary-expr",locations:[{start:{line:8,column:4},end:{line:8,column:9}},{start:{line:8,column:29},end:{line:8,column:127}}],line:8},1:{loc:{start:{line:9,column:4},end:{line:9,column:196}},type:"binary-expr",locations:[{start:{line:9,column:4},end:{line:9,column:19}},{start:{line:9,column:24},end:{line:9,column:40}},{start:{line:9,column:44},end:{line:9,column:88}},{start:{line:9,column:109},end:{line:9,column:196}}],line:9},2:{loc:{start:{line:10,column:4},end:{line:13,column:8}},type:"binary-expr",locations:[{start:{line:10,column:4},end:{line:10,column:19}},{start:{line:10,column:23},end:{line:10,column:67}},{start:{line:10,column:87},end:{line:13,column:8}}],line:10},3:{loc:{start:{line:14,column:4},end:{line:14,column:153}},type:"binary-expr",locations:[{start:{line:14,column:4},end:{line:14,column:20}},{start:{line:14,column:24},end:{line:14,column:30}},{start:{line:14,column:34},end:{line:14,column:50}},{start:{line:14,column:70},end:{line:14,column:153}}],line:14}},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0},b:{0:[0,0],1:[0,0,0,0],2:[0,0,0],3:[0,0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/BlackboardDisplay.tsx"],names:[],mappings:"AAoBU;AAVV;AAA6D;AAC3D;AACA;AAEF;AACE;AAIO;AAGC;AASE;AAMA;AAA+D;AAC3C;AACtB;AAK0D;AAKpE;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6d0d8e1b6b312c6063f16e08debec3e82f058f06"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return we=function(){return i},i}we();we().s[0]++;const Yi=({title:e,currentQuestion:n,scenarioContext:t})=>(we().f[0]++,we().s[1]++,m.jsx("div",{className:"relative mb-6 min-h-[150px] rounded-lg border border-gray-700 bg-black p-6 shadow-inner shadow-black/30 sm:min-h-[200px] sm:p-8",children:m.jsxs("div",{className:"whitespace-pre-line font-sans text-base leading-relaxed text-gray-200 sm:text-lg",children:[(we().b[0][0]++,e&&(we().b[0][1]++,m.jsx("h3",{className:"mb-3 text-lg font-semibold text-indigo-400 sm:text-xl",children:e}))),(we().b[1][0]++,t&&(we().b[1][1]++,!n||(we().b[1][2]++,n==="Initial Summary Prompt"))&&(we().b[1][3]++,m.jsx("p",{className:"mb-4 text-sm italic text-gray-400",children:t}))),(we().b[2][0]++,n&&(we().b[2][1]++,n!=="Initial Summary Prompt")&&(we().b[2][2]++,m.jsxs(m.Fragment,{children:[m.jsx("p",{className:"mb-2 font-semibold text-indigo-300",children:"Teacher Asks:"}),m.jsx("p",{children:n})]}))),(we().b[3][0]++,!n&&(we().b[3][1]++,!e)&&(we().b[3][2]++,!t)&&(we().b[3][3]++,m.jsx("p",{className:"italic text-gray-500",children:"Blackboard is empty..."})))]})}));we().s[2]++;try{we().s[3]++,Yi.displayName="BlackboardDisplay",we().s[4]++,Yi.__docgenInfo={description:"",displayName:"BlackboardDisplay",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},currentQuestion:{defaultValue:null,description:"",name:"currentQuestion",required:!1,type:{name:"string"}},scenarioContext:{defaultValue:null,description:"",name:"scenarioContext",required:!1,type:{name:"string"}}}}}catch{}function me(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/StudentCard.tsx",n="6a82984aa0009480d23efd429a1074f8e6e0b44b",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/StudentCard.tsx",statementMap:{0:{start:{line:3,column:20},end:{line:65,column:1}},1:{start:{line:4,column:24},end:{line:11,column:3}},2:{start:{line:12,column:21},end:{line:19,column:3}},3:{start:{line:13,column:20},end:{line:13,column:48}},4:{start:{line:14,column:4},end:{line:18,column:5}},5:{start:{line:15,column:6},end:{line:15,column:137}},6:{start:{line:17,column:6},end:{line:17,column:81}},7:{start:{line:20,column:26},end:{line:23,column:3}},8:{start:{line:21,column:26},end:{line:21,column:58}},9:{start:{line:22,column:4},end:{line:22,column:72}},10:{start:{line:24,column:2},end:{line:64,column:4}},11:{start:{line:27,column:21},end:{line:27,column:39}},12:{start:{line:39,column:88},end:{line:42,column:25}},13:{start:{line:52,column:141},end:{line:55,column:23}},14:{start:{line:67,column:0},end:{line:73,column:50}},15:{start:{line:69,column:4},end:{line:69,column:44}},16:{start:{line:71,column:4},end:{line:71,column:519}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:20},end:{line:3,column:21}},loc:{start:{line:3,column:73},end:{line:65,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:12,column:21},end:{line:12,column:22}},loc:{start:{line:12,column:27},end:{line:19,column:3}},line:12},2:{name:"(anonymous_2)",decl:{start:{line:20,column:26},end:{line:20,column:27}},loc:{start:{line:20,column:39},end:{line:23,column:3}},line:20},3:{name:"(anonymous_3)",decl:{start:{line:27,column:15},end:{line:27,column:16}},loc:{start:{line:27,column:21},end:{line:27,column:39}},line:27},4:{name:"(anonymous_4)",decl:{start:{line:39,column:52},end:{line:39,column:53}},loc:{start:{line:39,column:88},end:{line:42,column:25}},line:39},5:{name:"(anonymous_5)",decl:{start:{line:52,column:105},end:{line:52,column:106}},loc:{start:{line:52,column:141},end:{line:55,column:23}},line:52}},branchMap:{0:{loc:{start:{line:3,column:38},end:{line:3,column:66}},type:"default-arg",locations:[{start:{line:3,column:61},end:{line:3,column:66}}],line:3},1:{loc:{start:{line:14,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:14,column:4},end:{line:18,column:5}},{start:{line:16,column:11},end:{line:18,column:5}}],line:14},2:{loc:{start:{line:21,column:26},end:{line:21,column:58}},type:"binary-expr",locations:[{start:{line:21,column:26},end:{line:21,column:48}},{start:{line:21,column:52},end:{line:21,column:58}}],line:21},3:{loc:{start:{line:36,column:10},end:{line:49,column:14}},type:"binary-expr",locations:[{start:{line:36,column:10},end:{line:36,column:30}},{start:{line:36,column:34},end:{line:36,column:55}},{start:{line:36,column:59},end:{line:36,column:91}},{start:{line:36,column:111},end:{line:49,column:14}}],line:36},4:{loc:{start:{line:43,column:14},end:{line:47,column:18}},type:"binary-expr",locations:[{start:{line:43,column:14},end:{line:43,column:46}},{start:{line:43,column:66},end:{line:47,column:18}}],line:43},5:{loc:{start:{line:50,column:10},end:{line:56,column:14}},type:"binary-expr",locations:[{start:{line:50,column:10},end:{line:50,column:23}},{start:{line:50,column:27},end:{line:50,column:51}},{start:{line:50,column:71},end:{line:56,column:14}}],line:50}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0,0,0],4:[0,0],5:[0,0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/StudentCard.tsx"],names:[],mappings:"AAkCQ;AAjCR;AAkBA;AACE;AAAsB;AACH;AACG;AACF;AACC;AACE;AACI;AAG3B;AACE;AAEA;AACE;AAGE;AAGF;AAAiD;AACnD;AAGF;AACE;AACA;AAA0C;AAG5C;AACE;AAAC;AAAA;AACiC;AACtB;AAEV;AACE;AACE;AAEA;AAC4D;AAC9D;AACyE;AAKrE;AAA8E;AAE3E;AAEI;AAAuB;AACT;AAElB;AAEwC;AAAA;AACJ;AAAE;AACrC;AAEJ;AACF;AAME;AAAmE;AAI7D;AAAmD;AACpC;AAGrB;AACF;AAEJ;AAGE;AAAiC;AAAE;AAErC;AAAA;AAAA;AAGN;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6a82984aa0009480d23efd429a1074f8e6e0b44b"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return me=function(){return i},i}me();me().s[0]++;const Wi=({role:e,onClick:n,showPracticeFeatures:t=(me().b[0][0]++,!1)})=>{me().f[0]++;const l=(me().s[1]++,{"Adaptive Quiz":Nr,"Smart Flashcards":jd,"Speed Training":Qd,"Challenge Arena":Ld,"Progress Tracking":po,"Personalized Learning":Nr});me().s[2]++;const o=()=>{me().f[1]++;const i=(me().s[3]++,new RegExp("\\p{Emoji}","u").test(e.icon));return me().s[4]++,i?(me().b[1][0]++,me().s[5]++,m.jsx("span",{className:"text-2xl",role:"img","aria-label":`${e.name} icon`,children:e.icon})):(me().b[1][1]++,me().s[6]++,m.jsx(Ua,{className:"h-6 w-6 text-indigo-300"}))};me().s[7]++;const r=i=>{me().f[2]++;const a=(me().s[8]++,me().b[2][0]++,l[i]||(me().b[2][1]++,po));return me().s[9]++,m.jsx(a,{className:"h-3 w-3"})};return me().s[10]++,m.jsxs("button",{onClick:()=>(me().f[3]++,me().s[11]++,n(e.name)),className:"flex h-full w-full flex-col justify-between rounded-lg border border-gray-600 bg-gray-700 p-4 text-left transition-colors hover:border-indigo-500 hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"mb-3 flex items-center gap-3",children:[m.jsx("div",{className:"flex items-center justify-center rounded-full bg-gray-800 p-2",children:o()}),m.jsx("h5",{className:"text-lg font-semibold text-white",children:e.name})]}),m.jsx("p",{className:"line-clamp-3 text-sm text-gray-300 mb-3",children:e.description}),(me().b[3][0]++,t&&(me().b[3][1]++,e.practiceFeatures)&&(me().b[3][2]++,e.practiceFeatures.length>0)&&(me().b[3][3]++,m.jsxs("div",{className:"mb-3",children:[m.jsx("h6",{className:"text-xs font-medium text-indigo-400 mb-2",children:" Practice Features:"}),m.jsxs("div",{className:"space-y-1",children:[e.practiceFeatures.slice(0,3).map((i,a)=>(me().f[4]++,me().s[12]++,m.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[r(i),m.jsx("span",{children:i})]},a))),(me().b[4][0]++,e.practiceFeatures.length>3&&(me().b[4][1]++,m.jsxs("div",{className:"text-xs text-gray-500",children:["+",e.practiceFeatures.length-3," more features"]})))]})]}))),(me().b[5][0]++,e.benefits&&(me().b[5][1]++,e.benefits.length>0)&&(me().b[5][2]++,m.jsxs("div",{className:"mb-3",children:[m.jsx("h6",{className:"text-xs font-medium text-green-400 mb-2",children:" Benefits:"}),m.jsx("div",{className:"space-y-1",children:e.benefits.slice(0,2).map((i,a)=>(me().f[5]++,me().s[13]++,m.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[m.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400"}),m.jsx("span",{children:i})]},a)))})]})))]}),m.jsxs("div",{className:"text-xs text-indigo-400 mt-3 self-end flex items-center",children:[m.jsx(po,{className:"h-3 w-3 mr-1"}),"Select Role"]})]})};me().s[14]++;try{me().s[15]++,Wi.displayName="StudentCard",me().s[16]++,Wi.__docgenInfo={description:"",displayName:"StudentCard",props:{role:{defaultValue:null,description:"",name:"role",required:!0,type:{name:"Role"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(roleName: string) => void"}},showPracticeFeatures:{defaultValue:{value:"false"},description:"",name:"showPracticeFeatures",required:!1,type:{name:"boolean"}}}}}catch{}function M(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/RoleplayComponent.tsx",n="fe83e51b23782a798f3189bd0ab86aabb7e1f536",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/RoleplayComponent.tsx",statementMap:{0:{start:{line:16,column:27},end:{line:16,column:28}},1:{start:{line:17,column:26},end:{line:451,column:1}},2:{start:{line:25,column:2},end:{line:30,column:4}},3:{start:{line:31,column:56},end:{line:31,column:67}},4:{start:{line:32,column:58},end:{line:32,column:72}},5:{start:{line:33,column:54},end:{line:33,column:68}},6:{start:{line:34,column:21},end:{line:34,column:33}},7:{start:{line:35,column:34},end:{line:43,column:4}},8:{start:{line:35,column:41},end:{line:43,column:3}},9:{start:{line:44,column:44},end:{line:46,column:3}},10:{start:{line:47,column:23},end:{line:50,column:3}},11:{start:{line:48,column:10},end:{line:48,column:41}},12:{start:{line:51,column:26},end:{line:54,column:3}},13:{start:{line:52,column:10},end:{line:52,column:43}},14:{start:{line:55,column:25},end:{line:55,column:55}},15:{start:{line:56,column:19},end:{line:56,column:65}},16:{start:{line:57,column:2},end:{line:59,column:32}},17:{start:{line:58,column:4},end:{line:58,column:63}},18:{start:{line:60,column:2},end:{line:65,column:63}},19:{start:{line:61,column:4},end:{line:61,column:66}},20:{start:{line:62,column:4},end:{line:62,column:48}},21:{start:{line:63,column:4},end:{line:63,column:34}},22:{start:{line:64,column:4},end:{line:64,column:32}},23:{start:{line:66,column:23},end:{line:70,column:3}},24:{start:{line:67,column:4},end:{line:69,column:5}},25:{start:{line:68,column:6},end:{line:68,column:54}},26:{start:{line:71,column:23},end:{line:75,column:3}},27:{start:{line:72,column:4},end:{line:74,column:5}},28:{start:{line:73,column:6},end:{line:73,column:54}},29:{start:{line:76,column:31},end:{line:122,column:3}},30:{start:{line:77,column:4},end:{line:77,column:48}},31:{start:{line:78,column:4},end:{line:78,column:41}},32:{start:{line:79,column:4},end:{line:79,column:33}},33:{start:{line:80,column:28},end:{line:82,column:5}},34:{start:{line:81,column:13},end:{line:81,column:35}},35:{start:{line:83,column:4},end:{line:93,column:5}},36:{start:{line:84,column:6},end:{line:92,column:10}},37:{start:{line:84,column:39},end:{line:92,column:7}},38:{start:{line:94,column:4},end:{line:121,column:5}},39:{start:{line:95,column:6},end:{line:120,column:7}},40:{start:{line:96,column:24},end:{line:96,column:71}},41:{start:{line:97,column:8},end:{line:117,column:9}},42:{start:{line:98,column:10},end:{line:101,column:14}},43:{start:{line:98,column:43},end:{line:101,column:11}},44:{start:{line:102,column:10},end:{line:102,column:64}},45:{start:{line:103,column:10},end:{line:114,column:13}},46:{start:{line:116,column:10},end:{line:116,column:76}},47:{start:{line:119,column:8},end:{line:119,column:66}},48:{start:{line:123,column:26},end:{line:134,column:3}},49:{start:{line:124,column:4},end:{line:130,column:5}},50:{start:{line:125,column:6},end:{line:128,column:8}},51:{start:{line:129,column:6},end:{line:129,column:69}},52:{start:{line:131,column:4},end:{line:131,column:32}},53:{start:{line:132,column:4},end:{line:132,column:34}},54:{start:{line:133,column:4},end:{line:133,column:48}},55:{start:{line:135,column:36},end:{line:140,column:3}},56:{start:{line:136,column:4},end:{line:136,column:62}},57:{start:{line:136,column:50},end:{line:136,column:62}},58:{start:{line:137,column:29},end:{line:137,column:59}},59:{start:{line:138,column:4},end:{line:138,column:81}},60:{start:{line:138,column:69},end:{line:138,column:81}},61:{start:{line:139,column:4},end:{line:139,column:87}},62:{start:{line:139,column:46},end:{line:139,column:77}},63:{start:{line:141,column:28},end:{line:146,column:3}},64:{start:{line:142,column:4},end:{line:145,column:8}},65:{start:{line:142,column:37},end:{line:145,column:5}},66:{start:{line:147,column:23},end:{line:149,column:3}},67:{start:{line:148,column:4},end:{line:148,column:35}},68:{start:{line:150,column:30},end:{line:245,column:3}},69:{start:{line:151,column:28},end:{line:151,column:55}},70:{start:{line:152,column:4},end:{line:157,column:5}},71:{start:{line:153,column:6},end:{line:155,column:8}},72:{start:{line:156,column:6},end:{line:156,column:13}},73:{start:{line:158,column:25},end:{line:158,column:51}},74:{start:{line:159,column:17},end:{line:159,column:42}},75:{start:{line:160,column:29},end:{line:160,column:52}},76:{start:{line:161,column:4},end:{line:169,column:8}},77:{start:{line:161,column:37},end:{line:169,column:5}},78:{start:{line:170,column:4},end:{line:244,column:5}},79:{start:{line:171,column:30},end:{line:176,column:7}},80:{start:{line:177,column:23},end:{line:177,column:31}},81:{start:{line:178,column:25},end:{line:178,column:45}},82:{start:{line:179,column:6},end:{line:193,column:9}},83:{start:{line:194,column:6},end:{line:212,column:7}},84:{start:{line:195,column:8},end:{line:195,column:42}},85:{start:{line:196,column:8},end:{line:207,column:11}},86:{start:{line:208,column:8},end:{line:208,column:81}},87:{start:{line:209,column:8},end:{line:211,column:9}},88:{start:{line:210,column:10},end:{line:210,column:66}},89:{start:{line:213,column:6},end:{line:222,column:10}},90:{start:{line:213,column:39},end:{line:222,column:7}},91:{start:{line:224,column:6},end:{line:227,column:8}},92:{start:{line:228,column:6},end:{line:231,column:7}},93:{start:{line:229,column:8},end:{line:229,column:81}},94:{start:{line:230,column:8},end:{line:230,column:64}},95:{start:{line:232,column:6},end:{line:243,column:10}},96:{start:{line:232,column:39},end:{line:243,column:7}},97:{start:{line:246,column:29},end:{line:336,column:3}},98:{start:{line:247,column:4},end:{line:250,column:5}},99:{start:{line:248,column:6},end:{line:248,column:76}},100:{start:{line:249,column:6},end:{line:249,column:125}},101:{start:{line:251,column:4},end:{line:256,column:5}},102:{start:{line:252,column:6},end:{line:254,column:8}},103:{start:{line:255,column:6},end:{line:255,column:131}},104:{start:{line:257,column:28},end:{line:257,column:58}},105:{start:{line:258,column:4},end:{line:264,column:5}},106:{start:{line:259,column:6},end:{line:262,column:8}},107:{start:{line:263,column:6},end:{line:263,column:129}},108:{start:{line:265,column:4},end:{line:270,column:5}},109:{start:{line:266,column:6},end:{line:268,column:8}},110:{start:{line:269,column:6},end:{line:269,column:148}},111:{start:{line:271,column:4},end:{line:335,column:9}},112:{start:{line:310,column:171},end:{line:317,column:11}},113:{start:{line:337,column:28},end:{line:344,column:3}},114:{start:{line:338,column:20},end:{line:338,column:43}},115:{start:{line:339,column:4},end:{line:343,column:5}},116:{start:{line:340,column:6},end:{line:340,column:96}},117:{start:{line:342,column:6},end:{line:342,column:81}},118:{start:{line:345,column:32},end:{line:449,column:3}},119:{start:{line:346,column:28},end:{line:346,column:55}},120:{start:{line:347,column:4},end:{line:347,column:57}},121:{start:{line:347,column:45},end:{line:347,column:57}},122:{start:{line:348,column:34},end:{line:348,column:256}},123:{start:{line:349,column:25},end:{line:349,column:148}},124:{start:{line:350,column:23},end:{line:350,column:60}},125:{start:{line:351,column:4},end:{line:448,column:9}},126:{start:{line:384,column:70},end:{line:400,column:11}},127:{start:{line:419,column:14},end:{line:422,column:15}},128:{start:{line:420,column:16},end:{line:420,column:35}},129:{start:{line:421,column:16},end:{line:421,column:38}},130:{start:{line:450,column:2},end:{line:450,column:203}},131:{start:{line:453,column:0},end:{line:459,column:50}},132:{start:{line:455,column:4},end:{line:455,column:56}},133:{start:{line:457,column:4},end:{line:457,column:913}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:17,column:26},end:{line:17,column:27}},loc:{start:{line:24,column:6},end:{line:451,column:1}},line:24},1:{name:"(anonymous_1)",decl:{start:{line:35,column:34},end:{line:35,column:35}},loc:{start:{line:35,column:41},end:{line:43,column:3}},line:35},2:{name:"(anonymous_2)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:10},end:{line:48,column:41}},line:48},3:{name:"(anonymous_3)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:10},end:{line:52,column:43}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:57,column:12},end:{line:57,column:13}},loc:{start:{line:57,column:18},end:{line:59,column:3}},line:57},5:{name:"(anonymous_5)",decl:{start:{line:60,column:12},end:{line:60,column:13}},loc:{start:{line:60,column:18},end:{line:65,column:3}},line:60},6:{name:"(anonymous_6)",decl:{start:{line:66,column:23},end:{line:66,column:24}},loc:{start:{line:66,column:29},end:{line:70,column:3}},line:66},7:{name:"(anonymous_7)",decl:{start:{line:71,column:23},end:{line:71,column:24}},loc:{start:{line:71,column:29},end:{line:75,column:3}},line:71},8:{name:"(anonymous_8)",decl:{start:{line:76,column:31},end:{line:76,column:32}},loc:{start:{line:76,column:54},end:{line:122,column:3}},line:76},9:{name:"(anonymous_9)",decl:{start:{line:81,column:6},end:{line:81,column:7}},loc:{start:{line:81,column:13},end:{line:81,column:35}},line:81},10:{name:"(anonymous_10)",decl:{start:{line:84,column:23},end:{line:84,column:24}},loc:{start:{line:84,column:39},end:{line:92,column:7}},line:84},11:{name:"(anonymous_11)",decl:{start:{line:98,column:27},end:{line:98,column:28}},loc:{start:{line:98,column:43},end:{line:101,column:11}},line:98},12:{name:"(anonymous_12)",decl:{start:{line:123,column:26},end:{line:123,column:27}},loc:{start:{line:123,column:38},end:{line:134,column:3}},line:123},13:{name:"(anonymous_13)",decl:{start:{line:135,column:36},end:{line:135,column:37}},loc:{start:{line:135,column:42},end:{line:140,column:3}},line:135},14:{name:"(anonymous_14)",decl:{start:{line:139,column:39},end:{line:139,column:40}},loc:{start:{line:139,column:46},end:{line:139,column:77}},line:139},15:{name:"(anonymous_15)",decl:{start:{line:141,column:28},end:{line:141,column:29}},loc:{start:{line:141,column:39},end:{line:146,column:3}},line:141},16:{name:"(anonymous_16)",decl:{start:{line:142,column:21},end:{line:142,column:22}},loc:{start:{line:142,column:37},end:{line:145,column:5}},line:142},17:{name:"(anonymous_17)",decl:{start:{line:147,column:23},end:{line:147,column:24}},loc:{start:{line:147,column:34},end:{line:149,column:3}},line:147},18:{name:"(anonymous_18)",decl:{start:{line:150,column:30},end:{line:150,column:31}},loc:{start:{line:150,column:42},end:{line:245,column:3}},line:150},19:{name:"(anonymous_19)",decl:{start:{line:161,column:21},end:{line:161,column:22}},loc:{start:{line:161,column:37},end:{line:169,column:5}},line:161},20:{name:"(anonymous_20)",decl:{start:{line:213,column:23},end:{line:213,column:24}},loc:{start:{line:213,column:39},end:{line:222,column:7}},line:213},21:{name:"(anonymous_21)",decl:{start:{line:232,column:23},end:{line:232,column:24}},loc:{start:{line:232,column:39},end:{line:243,column:7}},line:232},22:{name:"(anonymous_22)",decl:{start:{line:246,column:29},end:{line:246,column:30}},loc:{start:{line:246,column:35},end:{line:336,column:3}},line:246},23:{name:"(anonymous_23)",decl:{start:{line:310,column:142},end:{line:310,column:143}},loc:{start:{line:310,column:171},end:{line:317,column:11}},line:310},24:{name:"(anonymous_24)",decl:{start:{line:337,column:28},end:{line:337,column:29}},loc:{start:{line:337,column:38},end:{line:344,column:3}},line:337},25:{name:"(anonymous_25)",decl:{start:{line:345,column:32},end:{line:345,column:33}},loc:{start:{line:345,column:38},end:{line:449,column:3}},line:345},26:{name:"(anonymous_26)",decl:{start:{line:384,column:38},end:{line:384,column:39}},loc:{start:{line:384,column:70},end:{line:400,column:11}},line:384},27:{name:"(anonymous_27)",decl:{start:{line:418,column:23},end:{line:418,column:24}},loc:{start:{line:418,column:30},end:{line:423,column:13}},line:418}},branchMap:{0:{loc:{start:{line:20,column:2},end:{line:20,column:22}},type:"default-arg",locations:[{start:{line:20,column:17},end:{line:20,column:22}}],line:20},1:{loc:{start:{line:56,column:19},end:{line:56,column:65}},type:"binary-expr",locations:[{start:{line:56,column:19},end:{line:56,column:43}},{start:{line:56,column:47},end:{line:56,column:65}}],line:56},2:{loc:{start:{line:67,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:69,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:67},3:{loc:{start:{line:72,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:72,column:4},end:{line:74,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:72},4:{loc:{start:{line:83,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:83,column:4},end:{line:93,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:83},5:{loc:{start:{line:94,column:4},end:{line:121,column:5}},type:"if",locations:[{start:{line:94,column:4},end:{line:121,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:94},6:{loc:{start:{line:94,column:8},end:{line:94,column:32}},type:"binary-expr",locations:[{start:{line:94,column:8},end:{line:94,column:14}},{start:{line:94,column:18},end:{line:94,column:32}}],line:94},7:{loc:{start:{line:97,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:97,column:8},end:{line:117,column:9}},{start:{line:115,column:15},end:{line:117,column:9}}],line:97},8:{loc:{start:{line:97,column:12},end:{line:97,column:33}},type:"binary-expr",locations:[{start:{line:97,column:12},end:{line:97,column:19}},{start:{line:97,column:23},end:{line:97,column:33}}],line:97},9:{loc:{start:{line:124,column:4},end:{line:130,column:5}},type:"if",locations:[{start:{line:124,column:4},end:{line:130,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:124},10:{loc:{start:{line:136,column:4},end:{line:136,column:62}},type:"if",locations:[{start:{line:136,column:4},end:{line:136,column:62}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:136},11:{loc:{start:{line:136,column:8},end:{line:136,column:48}},type:"binary-expr",locations:[{start:{line:136,column:8},end:{line:136,column:23}},{start:{line:136,column:27},end:{line:136,column:48}}],line:136},12:{loc:{start:{line:138,column:4},end:{line:138,column:81}},type:"if",locations:[{start:{line:138,column:4},end:{line:138,column:81}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:138},13:{loc:{start:{line:138,column:8},end:{line:138,column:67}},type:"binary-expr",locations:[{start:{line:138,column:8},end:{line:138,column:25}},{start:{line:138,column:29},end:{line:138,column:67}}],line:138},14:{loc:{start:{line:139,column:11},end:{line:139,column:86}},type:"binary-expr",locations:[{start:{line:139,column:11},end:{line:139,column:78}},{start:{line:139,column:82},end:{line:139,column:86}}],line:139},15:{loc:{start:{line:152,column:4},end:{line:157,column:5}},type:"if",locations:[{start:{line:152,column:4},end:{line:157,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:152},16:{loc:{start:{line:152,column:8},end:{line:152,column:128}},type:"binary-expr",locations:[{start:{line:152,column:8},end:{line:152,column:49}},{start:{line:152,column:53},end:{line:152,column:76}},{start:{line:152,column:80},end:{line:152,column:96}},{start:{line:152,column:100},end:{line:152,column:115}},{start:{line:152,column:119},end:{line:152,column:128}}],line:152},17:{loc:{start:{line:186,column:19},end:{line:186,column:41}},type:"binary-expr",locations:[{start:{line:186,column:19},end:{line:186,column:35}},{start:{line:186,column:39},end:{line:186,column:41}}],line:186},18:{loc:{start:{line:194,column:6},end:{line:212,column:7}},type:"if",locations:[{start:{line:194,column:6},end:{line:212,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:194},19:{loc:{start:{line:203,column:21},end:{line:203,column:43}},type:"binary-expr",locations:[{start:{line:203,column:21},end:{line:203,column:37}},{start:{line:203,column:41},end:{line:203,column:43}}],line:203},20:{loc:{start:{line:209,column:8},end:{line:211,column:9}},type:"if",locations:[{start:{line:209,column:8},end:{line:211,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:209},21:{loc:{start:{line:221,column:19},end:{line:221,column:58}},type:"cond-expr",locations:[{start:{line:221,column:32},end:{line:221,column:36}},{start:{line:221,column:39},end:{line:221,column:58}}],line:221},22:{loc:{start:{line:228,column:6},end:{line:231,column:7}},type:"if",locations:[{start:{line:228,column:6},end:{line:231,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:228},23:{loc:{start:{line:247,column:4},end:{line:250,column:5}},type:"if",locations:[{start:{line:247,column:4},end:{line:250,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:247},24:{loc:{start:{line:247,column:8},end:{line:247,column:44}},type:"binary-expr",locations:[{start:{line:247,column:8},end:{line:247,column:18}},{start:{line:247,column:22},end:{line:247,column:44}}],line:247},25:{loc:{start:{line:251,column:4},end:{line:256,column:5}},type:"if",locations:[{start:{line:251,column:4},end:{line:256,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:251},26:{loc:{start:{line:251,column:8},end:{line:251,column:74}},type:"binary-expr",locations:[{start:{line:251,column:8},end:{line:251,column:31}},{start:{line:251,column:35},end:{line:251,column:74}}],line:251},27:{loc:{start:{line:258,column:4},end:{line:264,column:5}},type:"if",locations:[{start:{line:258,column:4},end:{line:264,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:258},28:{loc:{start:{line:258,column:8},end:{line:258,column:65}},type:"binary-expr",locations:[{start:{line:258,column:8},end:{line:258,column:24}},{start:{line:258,column:28},end:{line:258,column:65}}],line:258},29:{loc:{start:{line:265,column:4},end:{line:270,column:5}},type:"if",locations:[{start:{line:265,column:4},end:{line:270,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:265},30:{loc:{start:{line:320,column:6},end:{line:334,column:10}},type:"binary-expr",locations:[{start:{line:320,column:6},end:{line:320,column:18}},{start:{line:320,column:38},end:{line:334,column:10}}],line:320},31:{loc:{start:{line:326,column:20},end:{line:332,column:14}},type:"cond-expr",locations:[{start:{line:326,column:51},end:{line:329,column:14}},{start:{line:329,column:33},end:{line:332,column:14}}],line:326},32:{loc:{start:{line:339,column:4},end:{line:343,column:5}},type:"if",locations:[{start:{line:339,column:4},end:{line:343,column:5}},{start:{line:341,column:11},end:{line:343,column:5}}],line:339},33:{loc:{start:{line:347,column:4},end:{line:347,column:57}},type:"if",locations:[{start:{line:347,column:4},end:{line:347,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:347},34:{loc:{start:{line:347,column:8},end:{line:347,column:43}},type:"binary-expr",locations:[{start:{line:347,column:8},end:{line:347,column:24}},{start:{line:347,column:28},end:{line:347,column:43}}],line:347},35:{loc:{start:{line:348,column:34},end:{line:348,column:256}},type:"cond-expr",locations:[{start:{line:348,column:71},end:{line:348,column:251}},{start:{line:348,column:254},end:{line:348,column:256}}],line:348},36:{loc:{start:{line:348,column:71},end:{line:348,column:251}},type:"cond-expr",locations:[{start:{line:348,column:153},end:{line:348,column:221}},{start:{line:348,column:224},end:{line:348,column:251}}],line:348},37:{loc:{start:{line:349,column:25},end:{line:349,column:148}},type:"cond-expr",locations:[{start:{line:349,column:65},end:{line:349,column:84}},{start:{line:349,column:87},end:{line:349,column:148}}],line:349},38:{loc:{start:{line:378,column:15},end:{line:380,column:13}},type:"binary-expr",locations:[{start:{line:378,column:15},end:{line:378,column:36}},{start:{line:378,column:40},end:{line:380,column:13}}],line:378},39:{loc:{start:{line:387,column:49},end:{line:387,column:105}},type:"cond-expr",locations:[{start:{line:387,column:74},end:{line:387,column:87}},{start:{line:387,column:90},end:{line:387,column:105}}],line:387},40:{loc:{start:{line:389,column:16},end:{line:389,column:222}},type:"binary-expr",locations:[{start:{line:389,column:16},end:{line:389,column:38}},{start:{line:389,column:58},end:{line:389,column:222}}],line:389},41:{loc:{start:{line:393,column:70},end:{line:393,column:151}},type:"cond-expr",locations:[{start:{line:393,column:95},end:{line:393,column:121}},{start:{line:393,column:124},end:{line:393,column:151}}],line:393},42:{loc:{start:{line:403,column:8},end:{line:406,column:12}},type:"binary-expr",locations:[{start:{line:403,column:8},end:{line:403,column:31}},{start:{line:403,column:51},end:{line:406,column:12}}],line:403},43:{loc:{start:{line:408,column:6},end:{line:436,column:13}},type:"binary-expr",locations:[{start:{line:408,column:6},end:{line:408,column:17}},{start:{line:408,column:37},end:{line:436,column:13}}],line:408},44:{loc:{start:{line:419,column:14},end:{line:422,column:15}},type:"if",locations:[{start:{line:419,column:14},end:{line:422,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:419},45:{loc:{start:{line:419,column:18},end:{line:419,column:50}},type:"binary-expr",locations:[{start:{line:419,column:18},end:{line:419,column:35}},{start:{line:419,column:39},end:{line:419,column:50}}],line:419},46:{loc:{start:{line:430,column:22},end:{line:430,column:90}},type:"binary-expr",locations:[{start:{line:430,column:22},end:{line:430,column:63}},{start:{line:430,column:67},end:{line:430,column:90}}],line:430},47:{loc:{start:{line:433,column:22},end:{line:433,column:171}},type:"cond-expr",locations:[{start:{line:433,column:64},end:{line:433,column:117}},{start:{line:433,column:136},end:{line:433,column:171}}],line:433},48:{loc:{start:{line:437,column:6},end:{line:447,column:10}},type:"binary-expr",locations:[{start:{line:437,column:6},end:{line:437,column:16}},{start:{line:437,column:36},end:{line:447,column:10}}],line:437},49:{loc:{start:{line:450,column:132},end:{line:450,column:199}},type:"cond-expr",locations:[{start:{line:450,column:153},end:{line:450,column:173}},{start:{line:450,column:176},end:{line:450,column:199}}],line:450}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0},b:{0:[0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0,0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/RoleplayComponent.tsx"],names:[],mappings:"AAuUQ;AAvUR;AACA;AAAA;AAEE;AACA;AACA;AACA;AACA;AACA;AAMF;AACA;AAEA;AAEA;AACA;AAkCA;AAEA;AAA6D;AAC3D;AACA;AACe;AACf;AACA;AAEF;AACE;AAAQ;AACN;AACA;AACA;AACA;AAGF;AACA;AAGA;AACA;AAEA;AAAsD;AACtC;AACF;AACC;AACF;AACA;AACE;AACD;AAGd;AAA0C;AAChB;AAG1B;AAAqB;AACiB;AACvB;AAEf;AAAwB;AACgB;AACzB;AAGf;AACA;AAEA;AACE;AAAyD;AAG3D;AACE;AACA;AACA;AACA;AAA0B;AAG5B;AACE;AACE;AAA8C;AAChD;AAGF;AACE;AACE;AAA8C;AAChD;AAGF;AACE;AACA;AACA;AAEA;AAA8C;AAC5B;AAElB;AACE;AAA+B;AAC1B;AACQ;AACT;AACQ;AACsI;AAC9I;AACF;AACA;AAGJ;AACE;AACE;AACA;AACE;AAA+B;AAC1B;AACgB;AAErB;AAEA;AAAkC;AACpB;AACe;AAC3B;AACW;AACe;AACN;AACD;AACW;AACN;AACP;AAClB;AAED;AAAgE;AAClE;AAEA;AAAwD;AAC1D;AACF;AAGF;AACE;AACE;AAAQ;AACN;AACc;AAEhB;AAA6D;AAE/D;AACA;AACA;AAA0C;AAG5C;AACE;AACA;AACA;AACA;AACuE;AAIzE;AACE;AAA+B;AAC1B;AACwB;AAC3B;AAGJ;AACE;AAA6B;AAG/B;AACE;AACA;AAOE;AAAQ;AACN;AAEF;AAAA;AAGF;AACA;AACA;AAEA;AAA+B;AAC1B;AACQ;AACG;AACH;AACI;AAC4B;AAC3C;AAGF;AACE;AAA8C;AAC5C;AACgB;AACD;AACf;AAGF;AACA;AAEA;AAAkC;AACpB;AACe;AAC3B;AACW;AACe;AACN;AACW;AACzB;AAC0B;AACf;AACjB;AACA;AACiB;AAGnB;AACE;AACA;AAAkC;AACpB;AACe;AAC3B;AACW;AACe;AACN;AACW;AACnB;AACZ;AACiB;AAGnB;AACA;AACE;AAAsD;AACxD;AAGF;AAA+B;AAC1B;AACQ;AACI;AAC+B;AAC9C;AACa;AACF;AAC8B;AACzC;AAEF;AAAQ;AACN;AACA;AAEF;AACE;AACA;AAAsD;AAExD;AAA+B;AAC1B;AACQ;AACA;AACA;AACI;AACb;AACQ;AAEJ;AACJ;AACF;AACA;AACJ;AAGF;AACE;AACE;AACA;AAGE;AAIJ;AACE;AAAQ;AACwG;AAEhH;AAGE;AAIJ;AAEA;AACE;AAAQ;AAC+E;AACrF;AAEF;AAGE;AAIJ;AACE;AAAQ;AACwE;AAEhF;AAGE;AAIJ;AAEI;AACE;AAEA;AAEE;AAAA;AAAC;AAAA;AACU;AACyB;AACxB;AACC;AAEsB;AAAA;AACnC;AAEG;AAAsB;AAAE;AAAe;AAC1C;AACA;AAAC;AAAA;AACU;AAC4C;AAC3C;AACC;AAEuB;AAAA;AACpC;AACF;AACF;AAII;AAEA;AAC2D;AAGzD;AACE;AAA2C;AACZ;AACjC;AAGI;AAAC;AAAA;AAEO;AACG;AAAA;AAFI;AAKnB;AACF;AAEJ;AAII;AAAC;AAAA;AACU;AACC;AACA;AAIN;AAA4C;AACX;AAIjC;AAA+B;AACH;AAC9B;AAAA;AAGN;AAEJ;AAIJ;AACE;AACA;AACE;AAGE;AAGF;AAAiD;AACnD;AAGF;AACE;AACA;AAEA;AAQA;AAKA;AAEA;AAEI;AACE;AACE;AAAA;AAAC;AAAA;AACU;AACC;AACC;AAEsB;AAAA;AACnC;AAEE;AAEA;AACiD;AAAA;AACrB;AAC5B;AACF;AACF;AAGA;AACF;AAGE;AAAA;AAAC;AAAA;AACyC;AACV;AACX;AACnB;AAAA;AACF;AAGG;AACC;AAAC;AAAA;AAE4F;AAE1F;AAGC;AAEF;AAAC;AAAA;AACoI;AAE9H;AAAA;AACP;AAAA;AAAA;AAZK;AAcR;AACqB;AACxB;AAII;AAA4D;AAG5D;AACF;AAEJ;AAKM;AAAA;AAAC;AAAA;AACO;AACe;AACX;AACE;AACF;AACc;AAEtB;AACE;AACA;AAAoB;AACtB;AACF;AAAA;AACF;AACA;AAAC;AAAA;AACU;AAGO;AAEN;AACC;AAKiB;AAAA;AAE9B;AAEJ;AAGoF;AAAA;AAElF;AAAC;AAAA;AACU;AACC;AACX;AAAA;AAED;AACF;AAEJ;AAIJ;AAKF;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fe83e51b23782a798f3189bd0ab86aabb7e1f536"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return M=function(){return i},i}M();const nC=(M().s[0]++,5);M().s[1]++;const Ki=({scenarios:e,onRegenerate:n,isGenerating:t=(M().b[0][0]++,!1),openaiApiKey:l,userId:o,language:r})=>{M().f[0]++,M().s[2]++,console.log("RoleplayComponent received scenarios:",e,"Language:",r);const[i,a]=(M().s[3]++,O.useState(0)),[s,c]=(M().s[4]++,O.useState(null)),[u,A]=(M().s[5]++,O.useState(!0)),d=(M().s[6]++,O.useRef(null));M().s[7]++;const f=()=>(M().f[1]++,M().s[8]++,{studentInput:"",responses:[],currentStep:0,isLoading:!1,sessionId:null,isListening:!1,isSpeaking:!1}),[p,C]=(M().s[9]++,O.useState(f())),y=(M().s[10]++,O.useMemo(()=>(M().f[2]++,M().s[11]++,new Ga(l)),[l])),b=(M().s[12]++,O.useMemo(()=>(M().f[3]++,M().s[13]++,new eC(y)),[y])),E=(M().s[14]++,e[i]),g=(M().s[15]++,M().b[1][0]++,E?.maxSteps??(M().b[1][1]++,nC));M().s[16]++,O.useEffect(()=>{M().f[4]++,M().s[17]++,d.current?.scrollIntoView({behavior:"smooth"})},[p.responses]),M().s[18]++,O.useEffect(()=>{M().f[5]++,M().s[19]++,console.log("Resetting Roleplay state due to prop change..."),M().s[20]++,C(f()),M().s[21]++,c(null),M().s[22]++,A(!0)},[l,i,r,e]),M().s[23]++;const x=()=>{M().f[6]++,M().s[24]++,i<e.length-1?(M().b[2][0]++,M().s[25]++,a(i+1)):M().b[2][1]++};M().s[26]++;const N=()=>{M().f[7]++,M().s[27]++,i>0?(M().b[3][0]++,M().s[28]++,a(i-1)):M().b[3][1]++};M().s[29]++;const B=async T=>{M().f[8]++,M().s[30]++,C(f()),M().s[31]++,c(T),M().s[32]++,A(!1);const F=(M().s[33]++,E?.roles.find(G=>(M().f[9]++,M().s[34]++,G.name===T)));if(M().s[35]++,F?(M().b[4][0]++,M().s[36]++,C(G=>(M().f[10]++,M().s[37]++,{...G,responses:[{type:"teacher",content:`Hello! I am ${F.name}. ${F.description} How can I help you with the scenario: '${E?.title}'?`}]}))):M().b[4][1]++,M().s[38]++,M().b[6][0]++,o&&(M().b[6][1]++,E)){M().b[5][0]++,M().s[39]++;try{const G=(M().s[40]++,await In.startUserSession(o));M().s[41]++,M().b[8][0]++,G&&(M().b[8][1]++,G.id)?(M().b[7][0]++,M().s[42]++,C($=>(M().f[11]++,M().s[43]++,{...$,sessionId:G.id})),M().s[44]++,console.log("Analytics session started:",G.id),M().s[45]++,await In.trackEvent({event_type:"roleplay_start",content_id:E.title,userId:o,eventType:"roleplay_start",contentId:E.title,timestamp:Date.now(),sessionId:G.id,scenarioTitle:E.title,selectedTeacherPersona:T,interactionType:"scenario_selection"})):(M().b[7][1]++,M().s[46]++,console.warn("Failed to start analytics session or retrieve ID."))}catch(G){M().s[47]++,console.error("Error starting analytics session:",G)}}else M().b[5][1]++};M().s[48]++;const R=async()=>{M().f[12]++,M().s[49]++,p.sessionId?(M().b[9][0]++,M().s[50]++,console.log("Ending analytics session due to backing out:",p.sessionId),M().s[51]++,await In.endUserSession(p.sessionId)):M().b[9][1]++,M().s[52]++,A(!0),M().s[53]++,c(null),M().s[54]++,C(f())};M().s[55]++;const v=()=>{if(M().f[13]++,M().s[56]++,M().b[11][0]++,!E||(M().b[11][1]++,!s))return M().b[10][0]++,M().s[57]++,null;M().b[10][1]++;const T=(M().s[58]++,e[i]);return M().s[59]++,M().b[13][0]++,!T||(M().b[13][1]++,!Array.isArray(T.roles))?(M().b[12][0]++,M().s[60]++,null):(M().b[12][1]++,M().s[61]++,M().b[14][0]++,T.roles.find(F=>(M().f[14]++,M().s[62]++,F.name===s))||(M().b[14][1]++,null))};M().s[63]++;const I=T=>{M().f[15]++,M().s[64]++,C(F=>(M().f[16]++,M().s[65]++,{...F,studentInput:T.target.value}))};M().s[66]++;const w=T=>(M().f[17]++,M().s[67]++,T.trim().length>0);M().s[68]++;const k=async()=>{M().f[18]++;const T=(M().s[69]++,v());if(M().s[70]++,M().b[16][0]++,!w(p.studentInput)||(M().b[16][1]++,p.isLoading)||(M().b[16][2]++,!T)||(M().b[16][3]++,!E)||(M().b[16][4]++,!r)){M().b[15][0]++,M().s[71]++,console.warn("Submission blocked: Invalid input, loading, no persona, no session, no scenario, or no language."),M().s[72]++;return}else M().b[15][1]++;const F=(M().s[73]++,p.studentInput),G=(M().s[74]++,p.currentStep),$=(M().s[75]++,p.sessionId);M().s[76]++,C(H=>(M().f[19]++,M().s[77]++,{...H,isLoading:!0,studentInput:"",responses:[...H.responses,{type:"student",content:F}]})),M().s[78]++;try{const H=(M().s[79]++,await b.getTeacherResponse(F,T.name,E.context,r)),Y=(M().s[80]++,G+1),U=(M().s[81]++,Y>=g);M().s[82]++,await In.trackEvent({event_type:"roleplay_student_response",content_id:E.title,userId:o,eventType:"roleplay_student_response",contentId:E.title,timestamp:Date.now(),sessionId:(M().b[17][0]++,$||(M().b[17][1]++,"")),step:Y,teacherPersona:T.name,studentResponse:F,teacherResponse:H,language:r,interactionType:"student_response"}),M().s[83]++,U?(M().b[18][0]++,M().s[84]++,console.log("Roleplay Complete."),M().s[85]++,await In.trackEvent({event_type:"roleplay_complete",content_id:E.title,userId:o,eventType:"roleplay_complete",contentId:E.title,timestamp:Date.now(),sessionId:(M().b[19][0]++,$||(M().b[19][1]++,"")),totalSteps:Y,language:r,interactionType:"completion"}),M().s[86]++,console.log("Ending analytics session on completion:",$),M().s[87]++,$?(M().b[20][0]++,M().s[88]++,await In.endUserSession($)):M().b[20][1]++):M().b[18][1]++,M().s[89]++,C(W=>(M().f[20]++,M().s[90]++,{...W,responses:[...W.responses,{type:"teacher",content:H}],currentStep:Y,isLoading:!1,sessionId:U?(M().b[21][0]++,null):(M().b[21][1]++,W.sessionId)}))}catch(H){M().s[91]++,console.error("Error during student submission/teacher response flow:",H),M().s[92]++,$?(M().b[22][0]++,M().s[93]++,console.warn("Ending analytics session due to error:",$),M().s[94]++,await In.endUserSession($)):M().b[22][1]++,M().s[95]++,C(Y=>(M().f[21]++,M().s[96]++,{...Y,sessionId:null,isLoading:!1,responses:[...Y.responses,{type:"teacher",content:"Sorry, I encountered an error generating my response. Please try again."}]}))}};M().s[97]++;const D=()=>{if(M().f[22]++,M().s[98]++,M().b[24][0]++,!e||(M().b[24][1]++,e.length===0))return M().b[23][0]++,M().s[99]++,console.warn("Render blocked: scenarios prop is empty or undefined."),M().s[100]++,m.jsx("div",{className:"p-4 text-center text-gray-400",children:"No scenarios available."});if(M().b[23][1]++,M().s[101]++,M().b[26][0]++,i<0||(M().b[26][1]++,i>=e.length))return M().b[25][0]++,M().s[102]++,console.error(`Render blocked: Invalid activeScenarioIndex (${i}) for scenarios length (${e.length}).`),M().s[103]++,m.jsx("div",{className:"p-4 text-center text-gray-400",children:"Error loading scenario index."});M().b[25][1]++;const T=(M().s[104]++,e[i]);return M().s[105]++,M().b[28][0]++,!T||(M().b[28][1]++,!Array.isArray(T.roles))?(M().b[27][0]++,M().s[106]++,console.warn(`Render blocked: Scenario data or roles array missing for index ${i}. Scenario data:`,T),M().s[107]++,m.jsx("div",{className:"p-4 text-center text-gray-400",children:"Loading scenario details..."})):(M().b[27][1]++,M().s[108]++,T.roles.length===0?(M().b[29][0]++,M().s[109]++,console.warn(`Render blocked: Scenario roles array is empty for index ${i}.`),M().s[110]++,m.jsx("div",{className:"p-4 text-center text-gray-400",children:"No teacher personas defined for this scenario."})):(M().b[29][1]++,M().s[111]++,m.jsxs("div",{className:"flex h-full flex-col",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 bg-gray-800 p-4",children:[m.jsx("h2",{className:"text-xl font-semibold text-white",children:"Roleplay Scenarios"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:N,disabled:i===0,className:"rounded-full p-1 text-gray-400 hover:bg-gray-700 hover:text-white disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Previous scenario",children:m.jsx(Bt,{className:"h-5 w-5"})}),m.jsxs("span",{className:"text-sm text-gray-400",children:[i+1," of ",e.length]}),m.jsx("button",{onClick:x,disabled:i===e.length-1,className:"rounded-full p-1 text-gray-400 hover:bg-gray-700 hover:text-white disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Next scenario",children:m.jsx(Ji,{className:"h-5 w-5"})})]})]}),m.jsx("div",{className:"flex-grow overflow-auto p-4",children:m.jsxs("div",{className:"mb-6",children:[m.jsx("h3",{className:"mb-2 text-xl font-semibold text-indigo-400",children:T.title}),m.jsx("p",{className:"mb-4 text-gray-300",children:T.context}),m.jsxs("div",{className:"mt-6",children:[m.jsxs("h4",{className:"mb-3 flex items-center gap-2 text-lg font-medium",children:[m.jsx(zd,{className:"h-5 w-5 text-indigo-400"}),m.jsx("span",{children:"Select AI Teacher Persona"})]}),m.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:T.roles.map(F=>(M().f[23]++,M().s[112]++,m.jsx(Wi,{role:F,onClick:B},F.name)))})]})]})}),(M().b[30][0]++,n&&(M().b[30][1]++,m.jsx("div",{className:"border-t border-gray-700 bg-gray-800 p-4",children:m.jsx("button",{onClick:n,disabled:t,className:"flex w-full items-center justify-center gap-2 rounded-md bg-indigo-600 px-4 py-2 text-white transition-colors hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-50",children:t?(M().b[31][0]++,m.jsxs(m.Fragment,{children:[m.jsx(ll,{className:"h-4 w-4 animate-spin"}),m.jsx("span",{children:"Generating New Scenarios..."})]})):(M().b[31][1]++,m.jsxs(m.Fragment,{children:[m.jsx(ll,{className:"h-4 w-4"}),m.jsx("span",{children:"Generate New Scenarios"})]}))})})))]})))};M().s[113]++;const z=T=>{M().f[24]++;const F=(M().s[114]++,new RegExp("\\p{Emoji}","u").test(T));return M().s[115]++,F?(M().b[32][0]++,M().s[116]++,m.jsx("span",{className:"text-xl",role:"img",children:T})):(M().b[32][1]++,M().s[117]++,m.jsx(Ua,{className:"h-5 w-5 text-indigo-300"}))};M().s[118]++;const S=()=>{M().f[25]++;const T=(M().s[119]++,v());if(M().s[120]++,M().b[34][0]++,!T||(M().b[34][1]++,!E))return M().b[33][0]++,M().s[121]++,null;M().b[33][1]++;const F=(M().s[122]++,p.responses.length>0?(M().b[35][0]++,p.responses[p.responses.length-1]?.type==="teacher"?(M().b[36][0]++,p.responses[p.responses.length-1]?.content):(M().b[36][1]++,"Waiting for your input...")):(M().b[35][1]++,"")),G=(M().s[123]++,p.currentStep>=g?(M().b[37][0]++,"Roleplay Complete"):(M().b[37][1]++,`Interaction: ${p.currentStep+1} / ${g}`)),$=(M().s[124]++,p.currentStep>=g);return M().s[125]++,m.jsxs("div",{className:"flex h-full flex-col bg-gray-900",children:[m.jsxs("div",{className:"flex items-center justify-between border-b border-gray-700 bg-gray-800 p-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:R,className:"rounded-full p-1 text-gray-400 hover:bg-gray-700 hover:text-white","aria-label":"Back to scenarios",children:m.jsx(Bt,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"flex items-center justify-center rounded-full bg-gray-700 p-1.5",children:z(T.icon)}),m.jsxs("h2",{className:"text-lg font-semibold text-white",children:["Teacher: ",T.name]})]})]}),m.jsx("span",{className:"text-sm font-medium text-indigo-400",children:G})]}),m.jsxs("div",{className:"flex-grow space-y-4 overflow-y-auto p-4",children:[m.jsx(Yi,{title:`Scenario: ${E.title}`,...(M().b[38][0]++,F&&(M().b[38][1]++,{currentQuestion:F}))}),m.jsxs("div",{className:"space-y-4",children:[p.responses.map((H,Y)=>(M().f[26]++,M().s[126]++,m.jsxs("div",{className:`flex items-end gap-2 ${H.type==="student"?(M().b[39][0]++,"justify-end"):(M().b[39][1]++,"justify-start")}`,children:[(M().b[40][0]++,H.type==="teacher"&&(M().b[40][1]++,m.jsx("div",{className:"mb-1 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gray-700",children:z(T.icon)}))),m.jsx("div",{className:`max-w-md rounded-lg p-3 sm:max-w-lg ${H.type==="student"?(M().b[41][0]++,"bg-indigo-600 text-white"):(M().b[41][1]++,"bg-gray-700 text-gray-200")}`,children:H.content})]},Y))),m.jsx("div",{ref:d})]}),(M().b[42][0]++,p.isLoading&&(M().b[42][1]++,m.jsxs("div",{className:"flex items-center justify-center py-2",children:[m.jsx(ll,{className:"h-5 w-5 animate-spin text-indigo-400"}),m.jsx("span",{className:"ml-2 text-indigo-400",children:"Teacher is thinking..."})]})))]}),(M().b[43][0]++,!$&&(M().b[43][1]++,m.jsx("div",{className:"border-t border-gray-700 bg-gray-800 p-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("textarea",{rows:2,value:p.studentInput,onChange:I,placeholder:"Your response or question...",className:"flex-grow resize-none rounded-md border border-gray-600 bg-gray-700 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-50",disabled:p.isLoading,onKeyDown:H=>{M().f[27]++,M().s[127]++,M().b[45][0]++,H.key==="Enter"&&(M().b[45][1]++,!H.shiftKey)?(M().b[44][0]++,M().s[128]++,H.preventDefault(),M().s[129]++,k()):M().b[44][1]++}}),m.jsx("button",{onClick:k,disabled:(M().b[46][0]++,!w(p.studentInput)||(M().b[46][1]++,p.isLoading)),className:"rounded-md bg-indigo-600 p-2 text-white transition-colors hover:bg-indigo-700 disabled:cursor-not-allowed disabled:opacity-50","aria-label":"Send response",children:p.isLoading?(M().b[47][0]++,m.jsx(ll,{className:"h-5 w-5 animate-spin"})):(M().b[47][1]++,m.jsx(pd,{className:"h-5 w-5"}))})]})}))),(M().b[48][0]++,$&&(M().b[48][1]++,m.jsxs("div",{className:"border-t border-gray-700 bg-gray-800 p-4 text-center text-gray-400",children:["Roleplay finished.",m.jsx("button",{onClick:R,className:"ml-4 text-indigo-400 hover:underline",children:"Select New Scenario"})]})))]})};return M().s[130]++,m.jsx("div",{className:"flex h-full flex-col overflow-hidden rounded-lg bg-gray-900 shadow-lg",children:u?(M().b[49][0]++,D()):(M().b[49][1]++,S())})};M().s[131]++;try{M().s[132]++,Ki.displayName="RoleplayComponent",M().s[133]++,Ki.__docgenInfo={description:"",displayName:"RoleplayComponent",props:{scenarios:{defaultValue:null,description:"",name:"scenarios",required:!0,type:{name:"RoleplayScenario[]"}},onRegenerate:{defaultValue:null,description:"",name:"onRegenerate",required:!1,type:{name:"() => void"}},isGenerating:{defaultValue:{value:"false"},description:"",name:"isGenerating",required:!1,type:{name:"boolean"}},openaiApiKey:{defaultValue:null,description:"",name:"openaiApiKey",required:!0,type:{name:"string"}},userId:{defaultValue:null,description:"",name:"userId",required:!0,type:{name:"string"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}}}}}catch{}function Er(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/interactive/index.ts",n="456aa5710d9af01f6cc178dead4bfef691b363b0",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/interactive/index.ts",statementMap:{0:{start:{line:2,column:41},end:{line:6,column:1}}},fnMap:{},branchMap:{},s:{0:0},f:{},b:{},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/interactive/index.ts"],names:[],mappings:"AAIA,SAAS,WAAW,oBAAoB;AAMjC,aAAM,4BAA4B;AAAA,EACvC,cAAc;AAAA,EACd,iBAAiB;AAAA,EACjB,eAAe;AACjB;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"456aa5710d9af01f6cc178dead4bfef691b363b0"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return Er=function(){return i},i}Er();Er().s[0]++;function h(){var e="/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/course/CourseContentRenderer.tsx",n="904a074beb87c97ea3e4e2ef2bcda89ac0873c53",t=globalThis,l="__coverage__",o={path:"/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/course/CourseContentRenderer.tsx",statementMap:{0:{start:{line:14,column:27},end:{line:28,column:1}},1:{start:{line:15,column:2},end:{line:17,column:3}},2:{start:{line:16,column:4},end:{line:16,column:16}},3:{start:{line:18,column:2},end:{line:27,column:3}},4:{start:{line:19,column:19},end:{line:19,column:35}},5:{start:{line:20,column:4},end:{line:22,column:5}},6:{start:{line:21,column:6},end:{line:21,column:40}},7:{start:{line:23,column:4},end:{line:23,column:18}},8:{start:{line:25,column:4},end:{line:25,column:53}},9:{start:{line:26,column:4},end:{line:26,column:16}},10:{start:{line:29,column:22},end:{line:55,column:1}},11:{start:{line:30,column:2},end:{line:32,column:3}},12:{start:{line:31,column:4},end:{line:31,column:16}},13:{start:{line:33,column:2},end:{line:54,column:3}},14:{start:{line:34,column:4},end:{line:50,column:6}},15:{start:{line:38,column:91},end:{line:44,column:7}},16:{start:{line:44,column:80},end:{line:49,column:7}},17:{start:{line:52,column:4},end:{line:52,column:52}},18:{start:{line:53,column:4},end:{line:53,column:16}},19:{start:{line:56,column:29},end:{line:64,column:1}},20:{start:{line:57,column:2},end:{line:61,column:3}},21:{start:{line:58,column:4},end:{line:60,column:5}},22:{start:{line:59,column:6},end:{line:59,column:18}},23:{start:{line:62,column:2},end:{line:62,column:58}},24:{start:{line:63,column:2},end:{line:63,column:12}},25:{start:{line:65,column:33},end:{line:100,column:1}},26:{start:{line:66,column:2},end:{line:66,column:42}},27:{start:{line:67,column:2},end:{line:99,column:3}},28:{start:{line:68,column:23},end:{line:68,column:47}},29:{start:{line:69,column:4},end:{line:69,column:53}},30:{start:{line:70,column:23},end:{line:70,column:25}},31:{start:{line:71,column:4},end:{line:79,column:5}},32:{start:{line:72,column:6},end:{line:72,column:32}},33:{start:{line:73,column:11},end:{line:79,column:5}},34:{start:{line:74,column:6},end:{line:78,column:7}},35:{start:{line:75,column:8},end:{line:75,column:44}},36:{start:{line:76,column:13},end:{line:78,column:7}},37:{start:{line:77,column:8},end:{line:77,column:36}},38:{start:{line:80,column:22},end:{line:93,column:6}},39:{start:{line:81,column:6},end:{line:81,column:34}},40:{start:{line:81,column:21},end:{line:81,column:34}},41:{start:{line:82,column:22},end:{line:85,column:7}},42:{start:{line:83,column:18},end:{line:83,column:207}},43:{start:{line:86,column:6},end:{line:91,column:7}},44:{start:{line:87,column:8},end:{line:90,column:10}},45:{start:{line:92,column:6},end:{line:92,column:21}},46:{start:{line:94,column:4},end:{line:94,column:60}},47:{start:{line:95,column:4},end:{line:95,column:21}},48:{start:{line:97,column:4},end:{line:97,column:60}},49:{start:{line:98,column:4},end:{line:98,column:14}},50:{start:{line:102,column:2},end:{line:114,column:3}},51:{start:{line:103,column:4},end:{line:103,column:58}},52:{start:{line:104,column:4},end:{line:106,column:5}},53:{start:{line:105,column:6},end:{line:105,column:47}},54:{start:{line:107,column:4},end:{line:109,column:5}},55:{start:{line:108,column:6},end:{line:108,column:22}},56:{start:{line:110,column:4},end:{line:110,column:20}},57:{start:{line:112,column:4},end:{line:112,column:56}},58:{start:{line:113,column:4},end:{line:113,column:16}},59:{start:{line:116,column:19},end:{line:120,column:1}},60:{start:{line:117,column:15},end:{line:117,column:39}},61:{start:{line:118,column:15},end:{line:118,column:39}},62:{start:{line:119,column:2},end:{line:119,column:83}},63:{start:{line:121,column:30},end:{line:266,column:1}},64:{start:{line:129,column:28},end:{line:129,column:40}},65:{start:{line:130,column:2},end:{line:132,column:21}},66:{start:{line:131,column:4},end:{line:131,column:71}},67:{start:{line:133,column:32},end:{line:160,column:3}},68:{start:{line:135,column:6},end:{line:135,column:53}},69:{start:{line:136,column:30},end:{line:145,column:8}},70:{start:{line:137,column:22},end:{line:137,column:59}},71:{start:{line:138,column:20},end:{line:138,column:62}},72:{start:{line:139,column:8},end:{line:143,column:11}},73:{start:{line:144,column:8},end:{line:144,column:57}},74:{start:{line:146,column:6},end:{line:157,column:7}},75:{start:{line:147,column:8},end:{line:147,column:77}},76:{start:{line:148,column:8},end:{line:154,column:9}},77:{start:{line:149,column:10},end:{line:149,column:50}},78:{start:{line:150,column:33},end:{line:152,column:11}},79:{start:{line:153,column:10},end:{line:153,column:81}},80:{start:{line:156,column:8},end:{line:156,column:72}},81:{start:{line:161,column:23},end:{line:175,column:20}},82:{start:{line:162,column:4},end:{line:165,column:5}},83:{start:{line:163,column:6},end:{line:163,column:61}},84:{start:{line:164,column:6},end:{line:164,column:16}},85:{start:{line:166,column:20},end:{line:172,column:44}},86:{start:{line:166,column:55},end:{line:172,column:5}},87:{start:{line:172,column:27},end:{line:172,column:43}},88:{start:{line:173,column:4},end:{line:173,column:51}},89:{start:{line:174,column:4},end:{line:174,column:19}},90:{start:{line:176,column:2},end:{line:181,column:3}},91:{start:{line:177,column:4},end:{line:180,column:12}},92:{start:{line:182,column:2},end:{line:265,column:7}},93:{start:{line:193,column:34},end:{line:195,column:11}},94:{start:{line:194,column:19},end:{line:194,column:48}},95:{start:{line:196,column:10},end:{line:198,column:11}},96:{start:{line:197,column:12},end:{line:197,column:52}},97:{start:{line:203,column:27},end:{line:206,column:11}},98:{start:{line:207,column:10},end:{line:209,column:11}},99:{start:{line:208,column:12},end:{line:208,column:73}},100:{start:{line:210,column:10},end:{line:210,column:26}},101:{start:{line:220,column:35},end:{line:220,column:77}},102:{start:{line:221,column:29},end:{line:221,column:33}},103:{start:{line:222,column:10},end:{line:228,column:11}},104:{start:{line:223,column:12},end:{line:227,column:13}},105:{start:{line:224,column:14},end:{line:224,column:67}},106:{start:{line:226,column:14},end:{line:226,column:43}},107:{start:{line:229,column:10},end:{line:261,column:12}},108:{start:{line:267,column:30},end:{line:770,column:1}},109:{start:{line:282,column:22},end:{line:282,column:45}},110:{start:{line:283,column:17},end:{line:283,column:102}},111:{start:{line:284,column:2},end:{line:291,column:50}},112:{start:{line:285,column:4},end:{line:290,column:7}},113:{start:{line:292,column:56},end:{line:292,column:70}},114:{start:{line:293,column:34},end:{line:295,column:3}},115:{start:{line:296,column:46},end:{line:296,column:60}},116:{start:{line:297,column:42},end:{line:297,column:57}},117:{start:{line:298,column:42},end:{line:298,column:56}},118:{start:{line:299,column:28},end:{line:299,column:40}},119:{start:{line:300,column:31},end:{line:309,column:8}},120:{start:{line:301,column:4},end:{line:308,column:5}},121:{start:{line:302,column:29},end:{line:304,column:7}},122:{start:{line:305,column:6},end:{line:307,column:7}},123:{start:{line:306,column:8},end:{line:306,column:78}},124:{start:{line:310,column:32},end:{line:337,column:3}},125:{start:{line:312,column:6},end:{line:312,column:53}},126:{start:{line:313,column:29},end:{line:322,column:8}},127:{start:{line:314,column:22},end:{line:314,column:51}},128:{start:{line:315,column:20},end:{line:315,column:54}},129:{start:{line:316,column:8},end:{line:320,column:11}},130:{start:{line:321,column:8},end:{line:321,column:57}},131:{start:{line:323,column:6},end:{line:334,column:7}},132:{start:{line:324,column:8},end:{line:324,column:75}},133:{start:{line:325,column:8},end:{line:331,column:9}},134:{start:{line:326,column:10},end:{line:326,column:64}},135:{start:{line:327,column:10},end:{line:327,column:49}},136:{start:{line:328,column:10},end:{line:330,column:11}},137:{start:{line:329,column:12},end:{line:329,column:63}},138:{start:{line:333,column:8},end:{line:333,column:72}},139:{start:{line:338,column:2},end:{line:376,column:37}},140:{start:{line:339,column:4},end:{line:375,column:5}},141:{start:{line:340,column:6},end:{line:340,column:67}},142:{start:{line:341,column:22},end:{line:341,column:26}},143:{start:{line:342,column:28},end:{line:364,column:7}},144:{start:{line:343,column:8},end:{line:343,column:30}},145:{start:{line:344,column:8},end:{line:344,column:30}},146:{start:{line:345,column:8},end:{line:345,column:32}},147:{start:{line:346,column:8},end:{line:363,column:9}},148:{start:{line:347,column:22},end:{line:347,column:66}},149:{start:{line:348,column:10},end:{line:348,column:48}},150:{start:{line:349,column:10},end:{line:351,column:11}},151:{start:{line:350,column:12},end:{line:350,column:35}},152:{start:{line:353,column:10},end:{line:353,column:62}},153:{start:{line:354,column:10},end:{line:358,column:11}},154:{start:{line:355,column:12},end:{line:357,column:14}},155:{start:{line:360,column:10},end:{line:362,column:11}},156:{start:{line:361,column:12},end:{line:361,column:35}},157:{start:{line:365,column:6},end:{line:365,column:22}},158:{start:{line:366,column:6},end:{line:368,column:8}},159:{start:{line:367,column:8},end:{line:367,column:26}},160:{start:{line:370,column:6},end:{line:370,column:30}},161:{start:{line:371,column:6},end:{line:371,column:29}},162:{start:{line:372,column:6},end:{line:372,column:28}},163:{start:{line:373,column:6},end:{line:374,column:8}},164:{start:{line:377,column:2},end:{line:379,column:3}},165:{start:{line:378,column:4},end:{line:378,column:154}},166:{start:{line:380,column:2},end:{line:392,column:3}},167:{start:{line:381,column:4},end:{line:391,column:12}},168:{start:{line:393,column:2},end:{line:525,column:3}},169:{start:{line:394,column:4},end:{line:399,column:5}},170:{start:{line:395,column:6},end:{line:398,column:14}},171:{start:{line:400,column:4},end:{line:416,column:5}},172:{start:{line:401,column:6},end:{line:415,column:11}},173:{start:{line:407,column:14},end:{line:407,column:36}},174:{start:{line:408,column:14},end:{line:408,column:36}},175:{start:{line:409,column:14},end:{line:409,column:180}},176:{start:{line:409,column:73},end:{line:409,column:95}},177:{start:{line:409,column:112},end:{line:409,column:140}},178:{start:{line:409,column:156},end:{line:409,column:178}},179:{start:{line:417,column:4},end:{line:524,column:5}},180:{start:{line:418,column:6},end:{line:523,column:11}},181:{start:{line:423,column:29},end:{line:423,column:49}},182:{start:{line:431,column:29},end:{line:431,column:49}},183:{start:{line:439,column:29},end:{line:439,column:52}},184:{start:{line:463,column:47},end:{line:469,column:13}},185:{start:{line:478,column:39},end:{line:478,column:81}},186:{start:{line:479,column:33},end:{line:479,column:37}},187:{start:{line:480,column:14},end:{line:486,column:15}},188:{start:{line:481,column:16},end:{line:485,column:17}},189:{start:{line:482,column:18},end:{line:482,column:71}},190:{start:{line:484,column:18},end:{line:484,column:47}},191:{start:{line:487,column:14},end:{line:519,column:16}},192:{start:{line:526,column:2},end:{line:534,column:3}},193:{start:{line:527,column:4},end:{line:533,column:169}},194:{start:{line:535,column:2},end:{line:594,column:3}},195:{start:{line:536,column:4},end:{line:536,column:68}},196:{start:{line:537,column:4},end:{line:537,column:63}},197:{start:{line:538,column:4},end:{line:593,column:6}},198:{start:{line:544,column:35},end:{line:544,column:77}},199:{start:{line:545,column:29},end:{line:545,column:33}},200:{start:{line:546,column:10},end:{line:552,column:11}},201:{start:{line:547,column:12},end:{line:551,column:13}},202:{start:{line:548,column:14},end:{line:548,column:67}},203:{start:{line:550,column:14},end:{line:550,column:43}},204:{start:{line:553,column:10},end:{line:557,column:13}},205:{start:{line:558,column:10},end:{line:590,column:12}},206:{start:{line:595,column:2},end:{line:613,column:3}},207:{start:{line:596,column:4},end:{line:612,column:15}},208:{start:{line:614,column:2},end:{line:619,column:3}},209:{start:{line:615,column:35},end:{line:615,column:69}},210:{start:{line:616,column:4},end:{line:618,column:5}},211:{start:{line:617,column:6},end:{line:617,column:168}},212:{start:{line:620,column:2},end:{line:646,column:3}},213:{start:{line:621,column:4},end:{line:645,column:6}},214:{start:{line:647,column:2},end:{line:687,column:3}},215:{start:{line:648,column:4},end:{line:661,column:5}},216:{start:{line:649,column:6},end:{line:660,column:14}},217:{start:{line:662,column:31},end:{line:662,column:73}},218:{start:{line:663,column:4},end:{line:676,column:5}},219:{start:{line:664,column:6},end:{line:675,column:14}},220:{start:{line:677,column:4},end:{line:686,column:9}},221:{start:{line:688,column:2},end:{line:752,column:3}},222:{start:{line:689,column:35},end:{line:738,column:5}},223:{start:{line:739,column:31},end:{line:739,column:77}},224:{start:{line:740,column:4},end:{line:751,column:9}},225:{start:{line:748,column:10},end:{line:748,column:53}},226:{start:{line:753,column:2},end:{line:769,column:10}},227:{start:{line:772,column:0},end:{line:778,column:50}},228:{start:{line:774,column:4},end:{line:774,column:64}},229:{start:{line:776,column:4},end:{line:776,column:1911}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:27},end:{line:14,column:28}},loc:{start:{line:14,column:37},end:{line:28,column:1}},line:14},1:{name:"(anonymous_1)",decl:{start:{line:29,column:22},end:{line:29,column:23}},loc:{start:{line:29,column:39},end:{line:55,column:1}},line:29},2:{name:"(anonymous_2)",decl:{start:{line:38,column:80},end:{line:38,column:81}},loc:{start:{line:38,column:91},end:{line:44,column:7}},line:38},3:{name:"(anonymous_3)",decl:{start:{line:44,column:69},end:{line:44,column:70}},loc:{start:{line:44,column:80},end:{line:49,column:7}},line:44},4:{name:"(anonymous_4)",decl:{start:{line:56,column:29},end:{line:56,column:30}},loc:{start:{line:56,column:39},end:{line:64,column:1}},line:56},5:{name:"(anonymous_5)",decl:{start:{line:65,column:33},end:{line:65,column:34}},loc:{start:{line:65,column:43},end:{line:100,column:1}},line:65},6:{name:"(anonymous_6)",decl:{start:{line:80,column:61},end:{line:80,column:62}},loc:{start:{line:80,column:75},end:{line:93,column:5}},line:80},7:{name:"(anonymous_7)",decl:{start:{line:83,column:8},end:{line:83,column:9}},loc:{start:{line:83,column:18},end:{line:83,column:207}},line:83},8:{name:"fetchPublicVideoUrl",decl:{start:{line:101,column:15},end:{line:101,column:34}},loc:{start:{line:101,column:45},end:{line:115,column:1}},line:101},9:{name:"(anonymous_9)",decl:{start:{line:116,column:19},end:{line:116,column:20}},loc:{start:{line:116,column:32},end:{line:120,column:1}},line:116},10:{name:"(anonymous_10)",decl:{start:{line:121,column:30},end:{line:121,column:31}},loc:{start:{line:128,column:6},end:{line:266,column:1}},line:128},11:{name:"(anonymous_11)",decl:{start:{line:130,column:12},end:{line:130,column:13}},loc:{start:{line:130,column:18},end:{line:132,column:3}},line:130},12:{name:"(anonymous_12)",decl:{start:{line:134,column:4},end:{line:134,column:5}},loc:{start:{line:134,column:21},end:{line:158,column:5}},line:134},13:{name:"(anonymous_13)",decl:{start:{line:136,column:49},end:{line:136,column:50}},loc:{start:{line:136,column:63},end:{line:145,column:7}},line:136},14:{name:"(anonymous_14)",decl:{start:{line:161,column:31},end:{line:161,column:32}},loc:{start:{line:161,column:37},end:{line:175,column:3}},line:161},15:{name:"(anonymous_15)",decl:{start:{line:166,column:37},end:{line:166,column:38}},loc:{start:{line:166,column:55},end:{line:172,column:5}},line:166},16:{name:"(anonymous_16)",decl:{start:{line:172,column:15},end:{line:172,column:16}},loc:{start:{line:172,column:27},end:{line:172,column:43}},line:172},17:{name:"(anonymous_17)",decl:{start:{line:192,column:23},end:{line:192,column:24}},loc:{start:{line:192,column:35},end:{line:199,column:9}},line:192},18:{name:"(anonymous_18)",decl:{start:{line:194,column:12},end:{line:194,column:13}},loc:{start:{line:194,column:19},end:{line:194,column:48}},line:194},19:{name:"(anonymous_19)",decl:{start:{line:202,column:47},end:{line:202,column:48}},loc:{start:{line:202,column:53},end:{line:211,column:9}},line:202},20:{name:"(anonymous_20)",decl:{start:{line:219,column:35},end:{line:219,column:36}},loc:{start:{line:219,column:52},end:{line:262,column:9}},line:219},21:{name:"(anonymous_21)",decl:{start:{line:267,column:30},end:{line:267,column:31}},loc:{start:{line:281,column:6},end:{line:770,column:1}},line:281},22:{name:"(anonymous_22)",decl:{start:{line:284,column:12},end:{line:284,column:13}},loc:{start:{line:284,column:18},end:{line:291,column:3}},line:284},23:{name:"(anonymous_23)",decl:{start:{line:300,column:43},end:{line:300,column:44}},loc:{start:{line:300,column:58},end:{line:309,column:3}},line:300},24:{name:"(anonymous_24)",decl:{start:{line:311,column:4},end:{line:311,column:5}},loc:{start:{line:311,column:21},end:{line:335,column:5}},line:311},25:{name:"(anonymous_25)",decl:{start:{line:313,column:47},end:{line:313,column:48}},loc:{start:{line:313,column:61},end:{line:322,column:7}},line:313},26:{name:"(anonymous_26)",decl:{start:{line:338,column:12},end:{line:338,column:13}},loc:{start:{line:338,column:18},end:{line:376,column:3}},line:338},27:{name:"(anonymous_27)",decl:{start:{line:342,column:28},end:{line:342,column:29}},loc:{start:{line:342,column:40},end:{line:364,column:7}},line:342},28:{name:"(anonymous_28)",decl:{start:{line:366,column:13},end:{line:366,column:14}},loc:{start:{line:366,column:19},end:{line:368,column:7}},line:366},29:{name:"(anonymous_29)",decl:{start:{line:373,column:13},end:{line:373,column:14}},loc:{start:{line:373,column:19},end:{line:374,column:7}},line:373},30:{name:"(anonymous_30)",decl:{start:{line:406,column:21},end:{line:406,column:22}},loc:{start:{line:406,column:27},end:{line:410,column:13}},line:406},31:{name:"(anonymous_31)",decl:{start:{line:409,column:64},end:{line:409,column:65}},loc:{start:{line:409,column:73},end:{line:409,column:95}},line:409},32:{name:"(anonymous_32)",decl:{start:{line:409,column:103},end:{line:409,column:104}},loc:{start:{line:409,column:112},end:{line:409,column:140}},line:409},33:{name:"(anonymous_33)",decl:{start:{line:409,column:150},end:{line:409,column:151}},loc:{start:{line:409,column:156},end:{line:409,column:178}},line:409},34:{name:"(anonymous_34)",decl:{start:{line:423,column:23},end:{line:423,column:24}},loc:{start:{line:423,column:29},end:{line:423,column:49}},line:423},35:{name:"(anonymous_35)",decl:{start:{line:431,column:23},end:{line:431,column:24}},loc:{start:{line:431,column:29},end:{line:431,column:49}},line:431},36:{name:"(anonymous_36)",decl:{start:{line:439,column:23},end:{line:439,column:24}},loc:{start:{line:439,column:29},end:{line:439,column:52}},line:439},37:{name:"(anonymous_37)",decl:{start:{line:463,column:38},end:{line:463,column:39}},loc:{start:{line:463,column:47},end:{line:469,column:13}},line:463},38:{name:"(anonymous_38)",decl:{start:{line:477,column:39},end:{line:477,column:40}},loc:{start:{line:477,column:56},end:{line:520,column:13}},line:477},39:{name:"(anonymous_39)",decl:{start:{line:543,column:35},end:{line:543,column:36}},loc:{start:{line:543,column:52},end:{line:591,column:9}},line:543},40:{name:"(anonymous_40)",decl:{start:{line:747,column:26},end:{line:747,column:27}},loc:{start:{line:747,column:40},end:{line:749,column:9}},line:747}},branchMap:{0:{loc:{start:{line:15,column:2},end:{line:17,column:3}},type:"if",locations:[{start:{line:15,column:2},end:{line:17,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:15},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:20},2:{loc:{start:{line:30,column:2},end:{line:32,column:3}},type:"if",locations:[{start:{line:30,column:2},end:{line:32,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:30},3:{loc:{start:{line:30,column:6},end:{line:30,column:53}},type:"binary-expr",locations:[{start:{line:30,column:6},end:{line:30,column:18}},{start:{line:30,column:22},end:{line:30,column:53}}],line:30},4:{loc:{start:{line:35,column:13},end:{line:35,column:36}},type:"binary-expr",locations:[{start:{line:35,column:13},end:{line:35,column:30}},{start:{line:35,column:34},end:{line:35,column:36}}],line:35},5:{loc:{start:{line:36,column:15},end:{line:36,column:96}},type:"binary-expr",locations:[{start:{line:36,column:15},end:{line:36,column:38}},{start:{line:36,column:42},end:{line:36,column:67}},{start:{line:36,column:71},end:{line:36,column:90}},{start:{line:36,column:94},end:{line:36,column:96}}],line:36},6:{loc:{start:{line:38,column:13},end:{line:49,column:14}},type:"cond-expr",locations:[{start:{line:38,column:53},end:{line:44,column:9}},{start:{line:44,column:12},end:{line:49,column:14}}],line:38},7:{loc:{start:{line:39,column:14},end:{line:39,column:29}},type:"binary-expr",locations:[{start:{line:39,column:14},end:{line:39,column:23}},{start:{line:39,column:27},end:{line:39,column:29}}],line:39},8:{loc:{start:{line:40,column:21},end:{line:40,column:43}},type:"binary-expr",locations:[{start:{line:40,column:21},end:{line:40,column:37}},{start:{line:40,column:41},end:{line:40,column:43}}],line:40},9:{loc:{start:{line:42,column:14},end:{line:42,column:34}},type:"binary-expr",locations:[{start:{line:42,column:14},end:{line:42,column:23}},{start:{line:42,column:27},end:{line:42,column:34}}],line:42},10:{loc:{start:{line:44,column:12},end:{line:49,column:14}},type:"cond-expr",locations:[{start:{line:44,column:47},end:{line:49,column:9}},{start:{line:49,column:12},end:{line:49,column:14}}],line:44},11:{loc:{start:{line:45,column:14},end:{line:45,column:29}},type:"binary-expr",locations:[{start:{line:45,column:14},end:{line:45,column:23}},{start:{line:45,column:27},end:{line:45,column:29}}],line:45},12:{loc:{start:{line:46,column:21},end:{line:46,column:43}},type:"binary-expr",locations:[{start:{line:46,column:21},end:{line:46,column:37}},{start:{line:46,column:41},end:{line:46,column:43}}],line:46},13:{loc:{start:{line:47,column:14},end:{line:47,column:34}},type:"binary-expr",locations:[{start:{line:47,column:14},end:{line:47,column:23}},{start:{line:47,column:27},end:{line:47,column:34}}],line:47},14:{loc:{start:{line:57,column:2},end:{line:61,column:3}},type:"if",locations:[{start:{line:57,column:2},end:{line:61,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:57},15:{loc:{start:{line:58,column:4},end:{line:60,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:60,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:58},16:{loc:{start:{line:58,column:8},end:{line:58,column:110}},type:"binary-expr",locations:[{start:{line:58,column:8},end:{line:58,column:23}},{start:{line:58,column:27},end:{line:58,column:34}},{start:{line:58,column:38},end:{line:58,column:54}},{start:{line:58,column:58},end:{line:58,column:73}},{start:{line:58,column:77},end:{line:58,column:110}}],line:58},17:{loc:{start:{line:71,column:4},end:{line:79,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:79,column:5}},{start:{line:73,column:11},end:{line:79,column:5}}],line:71},18:{loc:{start:{line:73,column:11},end:{line:79,column:5}},type:"if",locations:[{start:{line:73,column:11},end:{line:79,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:73},19:{loc:{start:{line:73,column:15},end:{line:73,column:59}},type:"binary-expr",locations:[{start:{line:73,column:15},end:{line:73,column:25}},{start:{line:73,column:29},end:{line:73,column:59}}],line:73},20:{loc:{start:{line:74,column:6},end:{line:78,column:7}},type:"if",locations:[{start:{line:74,column:6},end:{line:78,column:7}},{start:{line:76,column:13},end:{line:78,column:7}}],line:74},21:{loc:{start:{line:76,column:13},end:{line:78,column:7}},type:"if",locations:[{start:{line:76,column:13},end:{line:78,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:76},22:{loc:{start:{line:76,column:17},end:{line:76,column:75}},type:"binary-expr",locations:[{start:{line:76,column:17},end:{line:76,column:33}},{start:{line:76,column:37},end:{line:76,column:55}},{start:{line:76,column:59},end:{line:76,column:75}}],line:76},23:{loc:{start:{line:81,column:6},end:{line:81,column:34}},type:"if",locations:[{start:{line:81,column:6},end:{line:81,column:34}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:81},24:{loc:{start:{line:82,column:22},end:{line:85,column:7}},type:"binary-expr",locations:[{start:{line:82,column:22},end:{line:82,column:56}},{start:{line:82,column:60},end:{line:82,column:85}},{start:{line:82,column:89},end:{line:82,column:125}},{start:{line:82,column:129},end:{line:82,column:156}},{start:{line:82,column:160},end:{line:82,column:189}},{start:{line:82,column:193},end:{line:82,column:218}},{start:{line:82,column:222},end:{line:85,column:7}}],line:82},25:{loc:{start:{line:83,column:18},end:{line:83,column:207}},type:"binary-expr",locations:[{start:{line:83,column:18},end:{line:83,column:22}},{start:{line:83,column:26},end:{line:83,column:55}},{start:{line:83,column:59},end:{line:83,column:79}},{start:{line:83,column:83},end:{line:83,column:119}},{start:{line:83,column:123},end:{line:83,column:150}},{start:{line:83,column:154},end:{line:83,column:183}},{start:{line:83,column:187},end:{line:83,column:207}}],line:83},26:{loc:{start:{line:86,column:6},end:{line:91,column:7}},type:"if",locations:[{start:{line:86,column:6},end:{line:91,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:86},27:{loc:{start:{line:104,column:4},end:{line:106,column:5}},type:"if",locations:[{start:{line:104,column:4},end:{line:106,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:104},28:{loc:{start:{line:107,column:4},end:{line:109,column:5}},type:"if",locations:[{start:{line:107,column:4},end:{line:109,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:107},29:{loc:{start:{line:124,column:2},end:{line:124,column:19}},type:"default-arg",locations:[{start:{line:124,column:17},end:{line:124,column:19}}],line:124},30:{loc:{start:{line:137,column:22},end:{line:137,column:59}},type:"binary-expr",locations:[{start:{line:137,column:22},end:{line:137,column:54}},{start:{line:137,column:58},end:{line:137,column:59}}],line:137},31:{loc:{start:{line:138,column:20},end:{line:138,column:62}},type:"binary-expr",locations:[{start:{line:138,column:20},end:{line:138,column:50}},{start:{line:138,column:54},end:{line:138,column:62}}],line:138},32:{loc:{start:{line:144,column:15},end:{line:144,column:56}},type:"binary-expr",locations:[{start:{line:144,column:15},end:{line:144,column:35}},{start:{line:144,column:39},end:{line:144,column:56}}],line:144},33:{loc:{start:{line:146,column:6},end:{line:157,column:7}},type:"if",locations:[{start:{line:146,column:6},end:{line:157,column:7}},{start:{line:155,column:13},end:{line:157,column:7}}],line:146},34:{loc:{start:{line:148,column:8},end:{line:154,column:9}},type:"if",locations:[{start:{line:148,column:8},end:{line:154,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:148},35:{loc:{start:{line:148,column:12},end:{line:148,column:81}},type:"binary-expr",locations:[{start:{line:148,column:12},end:{line:148,column:32}},{start:{line:148,column:36},end:{line:148,column:81}}],line:148},36:{loc:{start:{line:162,column:4},end:{line:165,column:5}},type:"if",locations:[{start:{line:162,column:4},end:{line:165,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:162},37:{loc:{start:{line:168,column:12},end:{line:168,column:52}},type:"binary-expr",locations:[{start:{line:168,column:12},end:{line:168,column:47}},{start:{line:168,column:51},end:{line:168,column:52}}],line:168},38:{loc:{start:{line:176,column:2},end:{line:181,column:3}},type:"if",locations:[{start:{line:176,column:2},end:{line:181,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:176},39:{loc:{start:{line:196,column:10},end:{line:198,column:11}},type:"if",locations:[{start:{line:196,column:10},end:{line:198,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:196},40:{loc:{start:{line:202,column:24},end:{line:211,column:21}},type:"cond-expr",locations:[{start:{line:202,column:46},end:{line:211,column:12}},{start:{line:211,column:15},end:{line:211,column:21}}],line:202},41:{loc:{start:{line:205,column:23},end:{line:205,column:71}},type:"binary-expr",locations:[{start:{line:205,column:23},end:{line:205,column:66}},{start:{line:205,column:70},end:{line:205,column:71}}],line:205},42:{loc:{start:{line:207,column:10},end:{line:209,column:11}},type:"if",locations:[{start:{line:207,column:10},end:{line:209,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:207},43:{loc:{start:{line:222,column:10},end:{line:228,column:11}},type:"if",locations:[{start:{line:222,column:10},end:{line:228,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:222},44:{loc:{start:{line:223,column:12},end:{line:227,column:13}},type:"if",locations:[{start:{line:223,column:12},end:{line:227,column:13}},{start:{line:225,column:19},end:{line:227,column:13}}],line:223},45:{loc:{start:{line:223,column:16},end:{line:223,column:82}},type:"binary-expr",locations:[{start:{line:223,column:16},end:{line:223,column:49}},{start:{line:223,column:53},end:{line:223,column:82}}],line:223},46:{loc:{start:{line:224,column:29},end:{line:224,column:66}},type:"binary-expr",locations:[{start:{line:224,column:29},end:{line:224,column:58}},{start:{line:224,column:62},end:{line:224,column:66}}],line:224},47:{loc:{start:{line:233,column:66},end:{line:233,column:142}},type:"cond-expr",locations:[{start:{line:233,column:85},end:{line:233,column:126}},{start:{line:233,column:129},end:{line:233,column:142}}],line:233},48:{loc:{start:{line:237,column:18},end:{line:237,column:174}},type:"binary-expr",locations:[{start:{line:237,column:18},end:{line:237,column:34}},{start:{line:237,column:54},end:{line:237,column:174}}],line:237},49:{loc:{start:{line:240,column:29},end:{line:240,column:69}},type:"binary-expr",locations:[{start:{line:240,column:29},end:{line:240,column:64}},{start:{line:240,column:68},end:{line:240,column:69}}],line:240},50:{loc:{start:{line:243,column:29},end:{line:243,column:67}},type:"binary-expr",locations:[{start:{line:243,column:29},end:{line:243,column:62}},{start:{line:243,column:66},end:{line:243,column:67}}],line:243},51:{loc:{start:{line:245,column:16},end:{line:257,column:126}},type:"cond-expr",locations:[{start:{line:245,column:47},end:{line:257,column:17}},{start:{line:257,column:36},end:{line:257,column:126}}],line:245},52:{loc:{start:{line:248,column:64},end:{line:248,column:100}},type:"cond-expr",locations:[{start:{line:248,column:83},end:{line:248,column:95}},{start:{line:248,column:98},end:{line:248,column:100}}],line:248},53:{loc:{start:{line:252,column:33},end:{line:252,column:92}},type:"cond-expr",locations:[{start:{line:252,column:63},end:{line:252,column:75}},{start:{line:252,column:78},end:{line:252,column:92}}],line:252},54:{loc:{start:{line:271,column:2},end:{line:271,column:19}},type:"default-arg",locations:[{start:{line:271,column:17},end:{line:271,column:19}}],line:271},55:{loc:{start:{line:283,column:17},end:{line:283,column:102}},type:"cond-expr",locations:[{start:{line:283,column:65},end:{line:283,column:88}},{start:{line:283,column:91},end:{line:283,column:102}}],line:283},56:{loc:{start:{line:301,column:4},end:{line:308,column:5}},type:"if",locations:[{start:{line:301,column:4},end:{line:308,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:301},57:{loc:{start:{line:305,column:6},end:{line:307,column:7}},type:"if",locations:[{start:{line:305,column:6},end:{line:307,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:305},58:{loc:{start:{line:314,column:22},end:{line:314,column:51}},type:"binary-expr",locations:[{start:{line:314,column:22},end:{line:314,column:46}},{start:{line:314,column:50},end:{line:314,column:51}}],line:314},59:{loc:{start:{line:315,column:20},end:{line:315,column:54}},type:"binary-expr",locations:[{start:{line:315,column:20},end:{line:315,column:42}},{start:{line:315,column:46},end:{line:315,column:54}}],line:315},60:{loc:{start:{line:321,column:15},end:{line:321,column:56}},type:"binary-expr",locations:[{start:{line:321,column:15},end:{line:321,column:35}},{start:{line:321,column:39},end:{line:321,column:56}}],line:321},61:{loc:{start:{line:323,column:6},end:{line:334,column:7}},type:"if",locations:[{start:{line:323,column:6},end:{line:334,column:7}},{start:{line:332,column:13},end:{line:334,column:7}}],line:323},62:{loc:{start:{line:325,column:8},end:{line:331,column:9}},type:"if",locations:[{start:{line:325,column:8},end:{line:331,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:325},63:{loc:{start:{line:325,column:12},end:{line:325,column:80}},type:"binary-expr",locations:[{start:{line:325,column:12},end:{line:325,column:32}},{start:{line:325,column:36},end:{line:325,column:80}}],line:325},64:{loc:{start:{line:328,column:10},end:{line:330,column:11}},type:"if",locations:[{start:{line:328,column:10},end:{line:330,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:328},65:{loc:{start:{line:339,column:4},end:{line:375,column:5}},type:"if",locations:[{start:{line:339,column:4},end:{line:375,column:5}},{start:{line:369,column:11},end:{line:375,column:5}}],line:339},66:{loc:{start:{line:339,column:8},end:{line:339,column:50}},type:"binary-expr",locations:[{start:{line:339,column:8},end:{line:339,column:29}},{start:{line:339,column:33},end:{line:339,column:50}}],line:339},67:{loc:{start:{line:349,column:10},end:{line:351,column:11}},type:"if",locations:[{start:{line:349,column:10},end:{line:351,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:349},68:{loc:{start:{line:354,column:10},end:{line:358,column:11}},type:"if",locations:[{start:{line:354,column:10},end:{line:358,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:354},69:{loc:{start:{line:356,column:39},end:{line:356,column:95}},type:"cond-expr",locations:[{start:{line:356,column:64},end:{line:356,column:77}},{start:{line:356,column:80},end:{line:356,column:95}}],line:356},70:{loc:{start:{line:360,column:10},end:{line:362,column:11}},type:"if",locations:[{start:{line:360,column:10},end:{line:362,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:360},71:{loc:{start:{line:377,column:2},end:{line:379,column:3}},type:"if",locations:[{start:{line:377,column:2},end:{line:379,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:377},72:{loc:{start:{line:380,column:2},end:{line:392,column:3}},type:"if",locations:[{start:{line:380,column:2},end:{line:392,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:380},73:{loc:{start:{line:381,column:252},end:{line:391,column:5}},type:"cond-expr",locations:[{start:{line:381,column:302},end:{line:388,column:5}},{start:{line:390,column:22},end:{line:390,column:167}}],line:381},74:{loc:{start:{line:381,column:252},end:{line:381,column:283}},type:"binary-expr",locations:[{start:{line:381,column:252},end:{line:381,column:258}},{start:{line:381,column:262},end:{line:381,column:283}}],line:381},75:{loc:{start:{line:393,column:2},end:{line:525,column:3}},type:"if",locations:[{start:{line:393,column:2},end:{line:525,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:393},76:{loc:{start:{line:393,column:6},end:{line:393,column:48}},type:"binary-expr",locations:[{start:{line:393,column:6},end:{line:393,column:27}},{start:{line:393,column:31},end:{line:393,column:48}}],line:393},77:{loc:{start:{line:394,column:4},end:{line:399,column:5}},type:"if",locations:[{start:{line:394,column:4},end:{line:399,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:394},78:{loc:{start:{line:400,column:4},end:{line:416,column:5}},type:"if",locations:[{start:{line:400,column:4},end:{line:416,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:400},79:{loc:{start:{line:409,column:34},end:{line:409,column:57}},type:"binary-expr",locations:[{start:{line:409,column:34},end:{line:409,column:51}},{start:{line:409,column:55},end:{line:409,column:57}}],line:409},80:{loc:{start:{line:417,column:4},end:{line:524,column:5}},type:"if",locations:[{start:{line:417,column:4},end:{line:524,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:417},81:{loc:{start:{line:424,column:46},end:{line:424,column:98}},type:"cond-expr",locations:[{start:{line:424,column:69},end:{line:424,column:82}},{start:{line:424,column:85},end:{line:424,column:98}}],line:424},82:{loc:{start:{line:432,column:46},end:{line:432,column:98}},type:"cond-expr",locations:[{start:{line:432,column:69},end:{line:432,column:82}},{start:{line:432,column:85},end:{line:432,column:98}}],line:432},83:{loc:{start:{line:440,column:46},end:{line:440,column:101}},type:"cond-expr",locations:[{start:{line:440,column:72},end:{line:440,column:85}},{start:{line:440,column:88},end:{line:440,column:101}}],line:440},84:{loc:{start:{line:445,column:84},end:{line:522,column:9}},type:"cond-expr",locations:[{start:{line:445,column:126},end:{line:455,column:9}},{start:{line:455,column:12},end:{line:522,column:9}}],line:445},85:{loc:{start:{line:455,column:12},end:{line:522,column:9}},type:"cond-expr",locations:[{start:{line:455,column:51},end:{line:472,column:12}},{start:{line:472,column:31},end:{line:522,column:9}}],line:455},86:{loc:{start:{line:465,column:20},end:{line:465,column:51}},type:"binary-expr",locations:[{start:{line:465,column:20},end:{line:465,column:46}},{start:{line:465,column:50},end:{line:465,column:51}}],line:465},87:{loc:{start:{line:480,column:14},end:{line:486,column:15}},type:"if",locations:[{start:{line:480,column:14},end:{line:486,column:15}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:480},88:{loc:{start:{line:481,column:16},end:{line:485,column:17}},type:"if",locations:[{start:{line:481,column:16},end:{line:485,column:17}},{start:{line:483,column:23},end:{line:485,column:17}}],line:481},89:{loc:{start:{line:481,column:20},end:{line:481,column:86}},type:"binary-expr",locations:[{start:{line:481,column:20},end:{line:481,column:53}},{start:{line:481,column:57},end:{line:481,column:86}}],line:481},90:{loc:{start:{line:482,column:33},end:{line:482,column:70}},type:"binary-expr",locations:[{start:{line:482,column:33},end:{line:482,column:62}},{start:{line:482,column:66},end:{line:482,column:70}}],line:482},91:{loc:{start:{line:491,column:70},end:{line:491,column:146}},type:"cond-expr",locations:[{start:{line:491,column:89},end:{line:491,column:130}},{start:{line:491,column:133},end:{line:491,column:146}}],line:491},92:{loc:{start:{line:495,column:22},end:{line:495,column:178}},type:"binary-expr",locations:[{start:{line:495,column:22},end:{line:495,column:38}},{start:{line:495,column:58},end:{line:495,column:178}}],line:495},93:{loc:{start:{line:498,column:33},end:{line:498,column:73}},type:"binary-expr",locations:[{start:{line:498,column:33},end:{line:498,column:68}},{start:{line:498,column:72},end:{line:498,column:73}}],line:498},94:{loc:{start:{line:501,column:33},end:{line:501,column:71}},type:"binary-expr",locations:[{start:{line:501,column:33},end:{line:501,column:66}},{start:{line:501,column:70},end:{line:501,column:71}}],line:501},95:{loc:{start:{line:503,column:20},end:{line:515,column:130}},type:"cond-expr",locations:[{start:{line:503,column:51},end:{line:515,column:21}},{start:{line:515,column:40},end:{line:515,column:130}}],line:503},96:{loc:{start:{line:506,column:68},end:{line:506,column:104}},type:"cond-expr",locations:[{start:{line:506,column:87},end:{line:506,column:99}},{start:{line:506,column:102},end:{line:506,column:104}}],line:506},97:{loc:{start:{line:510,column:37},end:{line:510,column:96}},type:"cond-expr",locations:[{start:{line:510,column:67},end:{line:510,column:79}},{start:{line:510,column:82},end:{line:510,column:96}}],line:510},98:{loc:{start:{line:526,column:2},end:{line:534,column:3}},type:"if",locations:[{start:{line:526,column:2},end:{line:534,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:526},99:{loc:{start:{line:527,column:213},end:{line:533,column:162}},type:"cond-expr",locations:[{start:{line:527,column:248},end:{line:533,column:5}},{start:{line:533,column:24},end:{line:533,column:162}}],line:527},100:{loc:{start:{line:535,column:2},end:{line:594,column:3}},type:"if",locations:[{start:{line:535,column:2},end:{line:594,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:535},101:{loc:{start:{line:546,column:10},end:{line:552,column:11}},type:"if",locations:[{start:{line:546,column:10},end:{line:552,column:11}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:546},102:{loc:{start:{line:547,column:12},end:{line:551,column:13}},type:"if",locations:[{start:{line:547,column:12},end:{line:551,column:13}},{start:{line:549,column:19},end:{line:551,column:13}}],line:547},103:{loc:{start:{line:547,column:16},end:{line:547,column:82}},type:"binary-expr",locations:[{start:{line:547,column:16},end:{line:547,column:49}},{start:{line:547,column:53},end:{line:547,column:82}}],line:547},104:{loc:{start:{line:548,column:29},end:{line:548,column:66}},type:"binary-expr",locations:[{start:{line:548,column:29},end:{line:548,column:58}},{start:{line:548,column:62},end:{line:548,column:66}}],line:548},105:{loc:{start:{line:562,column:66},end:{line:562,column:142}},type:"cond-expr",locations:[{start:{line:562,column:85},end:{line:562,column:126}},{start:{line:562,column:129},end:{line:562,column:142}}],line:562},106:{loc:{start:{line:566,column:18},end:{line:566,column:174}},type:"binary-expr",locations:[{start:{line:566,column:18},end:{line:566,column:34}},{start:{line:566,column:54},end:{line:566,column:174}}],line:566},107:{loc:{start:{line:569,column:29},end:{line:569,column:69}},type:"binary-expr",locations:[{start:{line:569,column:29},end:{line:569,column:64}},{start:{line:569,column:68},end:{line:569,column:69}}],line:569},108:{loc:{start:{line:572,column:29},end:{line:572,column:67}},type:"binary-expr",locations:[{start:{line:572,column:29},end:{line:572,column:62}},{start:{line:572,column:66},end:{line:572,column:67}}],line:572},109:{loc:{start:{line:574,column:16},end:{line:586,column:126}},type:"cond-expr",locations:[{start:{line:574,column:47},end:{line:586,column:17}},{start:{line:586,column:36},end:{line:586,column:126}}],line:574},110:{loc:{start:{line:577,column:64},end:{line:577,column:100}},type:"cond-expr",locations:[{start:{line:577,column:83},end:{line:577,column:95}},{start:{line:577,column:98},end:{line:577,column:100}}],line:577},111:{loc:{start:{line:581,column:33},end:{line:581,column:92}},type:"cond-expr",locations:[{start:{line:581,column:63},end:{line:581,column:75}},{start:{line:581,column:78},end:{line:581,column:92}}],line:581},112:{loc:{start:{line:595,column:2},end:{line:613,column:3}},type:"if",locations:[{start:{line:595,column:2},end:{line:613,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:595},113:{loc:{start:{line:596,column:213},end:{line:612,column:8}},type:"cond-expr",locations:[{start:{line:596,column:247},end:{line:602,column:5}},{start:{line:602,column:24},end:{line:612,column:8}}],line:596},114:{loc:{start:{line:599,column:17},end:{line:599,column:85}},type:"cond-expr",locations:[{start:{line:599,column:50},end:{line:599,column:65}},{start:{line:599,column:68},end:{line:599,column:85}}],line:599},115:{loc:{start:{line:614,column:2},end:{line:619,column:3}},type:"if",locations:[{start:{line:614,column:2},end:{line:619,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:614},116:{loc:{start:{line:614,column:6},end:{line:614,column:42}},type:"binary-expr",locations:[{start:{line:614,column:6},end:{line:614,column:26}},{start:{line:614,column:30},end:{line:614,column:42}}],line:614},117:{loc:{start:{line:616,column:4},end:{line:618,column:5}},type:"if",locations:[{start:{line:616,column:4},end:{line:618,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:616},118:{loc:{start:{line:620,column:2},end:{line:646,column:3}},type:"if",locations:[{start:{line:620,column:2},end:{line:646,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:620},119:{loc:{start:{line:620,column:6},end:{line:620,column:48}},type:"binary-expr",locations:[{start:{line:620,column:6},end:{line:620,column:29}},{start:{line:620,column:33},end:{line:620,column:48}}],line:620},120:{loc:{start:{line:624,column:29},end:{line:624,column:96}},type:"cond-expr",locations:[{start:{line:624,column:51},end:{line:624,column:83}},{start:{line:624,column:86},end:{line:624,column:96}}],line:624},121:{loc:{start:{line:626,column:10},end:{line:634,column:11}},type:"binary-expr",locations:[{start:{line:626,column:10},end:{line:626,column:29}},{start:{line:626,column:49},end:{line:634,column:11}}],line:626},122:{loc:{start:{line:647,column:2},end:{line:687,column:3}},type:"if",locations:[{start:{line:647,column:2},end:{line:687,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:647},123:{loc:{start:{line:648,column:4},end:{line:661,column:5}},type:"if",locations:[{start:{line:648,column:4},end:{line:661,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:648},124:{loc:{start:{line:663,column:4},end:{line:676,column:5}},type:"if",locations:[{start:{line:663,column:4},end:{line:676,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:663},125:{loc:{start:{line:688,column:2},end:{line:752,column:3}},type:"if",locations:[{start:{line:688,column:2},end:{line:752,column:3}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:688},126:{loc:{start:{line:739,column:31},end:{line:739,column:77}},type:"binary-expr",locations:[{start:{line:739,column:31},end:{line:739,column:51}},{start:{line:739,column:55},end:{line:739,column:77}}],line:739}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0,68:0,69:0,70:0,71:0,72:0,73:0,74:0,75:0,76:0,77:0,78:0,79:0,80:0,81:0,82:0,83:0,84:0,85:0,86:0,87:0,88:0,89:0,90:0,91:0,92:0,93:0,94:0,95:0,96:0,97:0,98:0,99:0,100:0,101:0,102:0,103:0,104:0,105:0,106:0,107:0,108:0,109:0,110:0,111:0,112:0,113:0,114:0,115:0,116:0,117:0,118:0,119:0,120:0,121:0,122:0,123:0,124:0,125:0,126:0,127:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:0,136:0,137:0,138:0,139:0,140:0,141:0,142:0,143:0,144:0,145:0,146:0,147:0,148:0,149:0,150:0,151:0,152:0,153:0,154:0,155:0,156:0,157:0,158:0,159:0,160:0,161:0,162:0,163:0,164:0,165:0,166:0,167:0,168:0,169:0,170:0,171:0,172:0,173:0,174:0,175:0,176:0,177:0,178:0,179:0,180:0,181:0,182:0,183:0,184:0,185:0,186:0,187:0,188:0,189:0,190:0,191:0,192:0,193:0,194:0,195:0,196:0,197:0,198:0,199:0,200:0,201:0,202:0,203:0,204:0,205:0,206:0,207:0,208:0,209:0,210:0,211:0,212:0,213:0,214:0,215:0,216:0,217:0,218:0,219:0,220:0,221:0,222:0,223:0,224:0,225:0,226:0,227:0,228:0,229:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0,0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0,0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0,0],23:[0,0],24:[0,0,0,0,0,0,0],25:[0,0,0,0,0,0,0],26:[0,0],27:[0,0],28:[0,0],29:[0],30:[0,0],31:[0,0],32:[0,0],33:[0,0],34:[0,0],35:[0,0],36:[0,0],37:[0,0],38:[0,0],39:[0,0],40:[0,0],41:[0,0],42:[0,0],43:[0,0],44:[0,0],45:[0,0],46:[0,0],47:[0,0],48:[0,0],49:[0,0],50:[0,0],51:[0,0],52:[0,0],53:[0,0],54:[0],55:[0,0],56:[0,0],57:[0,0],58:[0,0],59:[0,0],60:[0,0],61:[0,0],62:[0,0],63:[0,0],64:[0,0],65:[0,0],66:[0,0],67:[0,0],68:[0,0],69:[0,0],70:[0,0],71:[0,0],72:[0,0],73:[0,0],74:[0,0],75:[0,0],76:[0,0],77:[0,0],78:[0,0],79:[0,0],80:[0,0],81:[0,0],82:[0,0],83:[0,0],84:[0,0],85:[0,0],86:[0,0],87:[0,0],88:[0,0],89:[0,0],90:[0,0],91:[0,0],92:[0,0],93:[0,0],94:[0,0],95:[0,0],96:[0,0],97:[0,0],98:[0,0],99:[0,0],100:[0,0],101:[0,0],102:[0,0],103:[0,0],104:[0,0],105:[0,0],106:[0,0],107:[0,0],108:[0,0],109:[0,0],110:[0,0],111:[0,0],112:[0,0],113:[0,0],114:[0,0],115:[0,0],116:[0,0],117:[0,0],118:[0,0],119:[0,0],120:[0,0],121:[0,0],122:[0,0],123:[0,0],124:[0,0],125:[0,0],126:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/pronit/workspace/tardis/edtech-platform/tardis-ui/src/components/course/CourseContentRenderer.tsx"],names:[],mappings:";AAySQ;AAvSR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AA0BA;AACE;AACE;AAAO;AAET;AACE;AACA;AACE;AAAgC;AAElC;AAAO;AAEP;AACA;AAAO;AAEX;AAGA;AACE;AACE;AAAO;AAET;AACE;AAAO;AACuB;AAK1B;AAAA;AAG6C;AACtB;AACc;AAAA;AAEd;AAAA;AAGmB;AACjB;AACc;AACd;AAAA;AAEpB;AACT;AAEA;AACA;AAAO;AAEX;AAGA;AAEE;AAEE;AAOE;AAAO;AACT;AAEF;AACA;AACF;AAGA;AACE;AAEA;AAEE;AACA;AAGA;AAEA;AACE;AAAe;AAEf;AACE;AAA0B;AAE1B;AAA0B;AAC5B;AAIF;AAGI;AACA;AAOiB;AAQQ;AAAA;AAEzB;AACE;AAAQ;AACN;AACA;AACF;AAEF;AAAO;AAGX;AACA;AAAO;AAEP;AACA;AAAQ;AAEZ;AAGA;AACE;AACE;AAEA;AACE;AAAuC;AAIzC;AACE;AAAO;AAIT;AAAO;AAEP;AACA;AAAM;AAEV;AAkBA;AACE;AACA;AACA;AACF;AAGA;AAOM;AACJ;AACA;AACgB;AAChB;AACA;AAEF;AACE;AAGA;AACE;AAAiE;AAGnE;AAA8B;AAE1B;AAEA;AACE;AACA;AACA;AAAyD;AACvD;AACA;AACA;AAEF;AAA6C;AAG/C;AACE;AACA;AAIE;AACA;AAAkD;AACT;AAEzC;AAAqE;AACvE;AAEA;AAA8D;AAChE;AACF;AAC0D;AAI5D;AACE;AACE;AACA;AAAQ;AAGV;AACuB;AACS;AACiB;AAC1B;AACM;AACnB;AAIV;AACA;AAAO;AAIT;AACE;AAGM;AAA2D;AAG3D;AAEJ;AAIJ;AAGI;AACE;AAAC;AAAA;AACM;AACU;AACgB;AACY;AACjC;AACD;AAEP;AAAqC;AACH;AAElC;AACE;AAAsC;AACxC;AACF;AACc;AACM;AAIZ;AAAqB;AACQ;AAC+B;AAE5D;AACE;AAA0D;AAE5D;AAAO;AAET;AAAA;AAGV;AAIE;AAAC;AAAA;AACM;AACK;AAGR;AAGA;AACA;AACE;AAIE;AAAgD;AAEhD;AAAuB;AACzB;AAGF;AACE;AAAC;AAAA;AAE8B;AAK7B;AAEA;AACE;AAAgC;AAI9B;AAEJ;AAEG;AAAmD;AAAE;AAAG;AACP;AACpD;AAEE;AAAC;AAAA;AAGC;AAEA;AAAC;AAAA;AAIoB;AAEyB;AAAA;AAC9C;AAAA;AAKF;AAAA;AAAA;AAtCe;AAwCnB;AAEH;AAAA;AAEL;AAGN;AAEA;AAAqE;AACnE;AACA;AACA;AACgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEF;AACE;AACA;AAMA;AACE;AAA8C;AAC5C;AACA;AACA;AACA;AACD;AAGH;AAEA;AAAgC;AAC9B;AAIF;AACA;AACA;AAEA;AAGA;AACE;AACE;AAAiD;AACjB;AAEhC;AACE;AAAoE;AACtE;AACF;AAIF;AAA8B;AAE1B;AACA;AACE;AACA;AACA;AAAyD;AACvD;AACA;AACA;AAEF;AAA6C;AAG/C;AACE;AACA;AAIE;AACA;AACA;AACE;AAAiD;AACnD;AACF;AAEA;AAA8D;AAChE;AACF;AACmE;AAIrE;AACE;AACE;AACA;AAEA;AACE;AACA;AACA;AACA;AACE;AACA;AACA;AACE;AAAqB;AACvB;AAEA;AACA;AACE;AAAA;AACmF;AACnF;AACF;AAEA;AACE;AAAqB;AACvB;AACF;AAGF;AAEA;AACE;AAAY;AACd;AAEA;AACA;AACA;AACA;AAAa;AAAC;AAChB;AAGF;AACE;AAGE;AAMJ;AAEE;AAIQ;AAAC;AAAA;AACC;AACwC;AAC/B;AAAA;AACX;AAAA;AAMA;AAGN;AAOJ;AACE;AACE;AAGM;AAAsB;AAC4B;AAEtD;AAIJ;AACE;AAEI;AAAiD;AACjD;AAAC;AAAA;AAEG;AACA;AACA;AAGuC;AACzC;AACU;AACX;AAAA;AAED;AACF;AAIJ;AACE;AAGI;AACE;AAAA;AAAC;AAAA;AACmC;AACkD;AACrF;AAAA;AAED;AACA;AAAC;AAAA;AACmC;AACkD;AACrF;AAAA;AAED;AACA;AAAC;AAAA;AACsC;AACkD;AACxF;AAAA;AAED;AACF;AAKI;AAAC;AAAA;AACW;AACV;AACA;AACA;AACA;AACA;AAAA;AAIA;AAAC;AAAA;AACM;AACU;AACgB;AACY;AACjC;AACuB;AACZ;AACiB;AAC1B;AACM;AACV;AACN;AACkB;AAAA;AAIxB;AAAC;AAAA;AACM;AACK;AAGR;AAIA;AACA;AACE;AAIE;AAAgD;AAEhD;AAAuB;AACzB;AAGF;AACE;AAAC;AAAA;AAE8B;AAK7B;AAEA;AACE;AAAgC;AAI9B;AAEJ;AAEG;AAAmD;AAAE;AAAG;AACP;AACpD;AAEE;AAAC;AAAA;AAGC;AAEA;AAAC;AAAA;AAIoB;AAEyB;AAAA;AAC9C;AAAA;AAKF;AAAA;AAAA;AAtCe;AAwCnB;AAEH;AAAA;AAGP;AACF;AAEJ;AAIF;AACE;AAIQ;AAAC;AAAA;AAC0B;AACmB;AAAA;AAQpD;AAKJ;AACE;AACA;AAEA;AACE;AAAC;AAAA;AACM;AACK;AAGR;AAGA;AACA;AACE;AAIE;AAAgD;AAEhD;AAAuB;AACzB;AAGF;AAAoD;AAClD;AACY;AACL;AAGT;AACE;AAAC;AAAA;AAE8B;AAK7B;AAEA;AACE;AAAgC;AAI9B;AAEJ;AAEG;AAAmD;AAAE;AAAG;AACP;AACpD;AAEE;AAAC;AAAA;AAGC;AAEA;AAAC;AAAA;AAIoB;AAEyB;AAAA;AAC9C;AAAA;AAKF;AAAA;AAAA;AAtCe;AAwCnB;AAEH;AAAA;AACH;AAKJ;AACE;AAIQ;AAAC;AAAA;AAIuB;AAEsB;AAAA;AAI5C;AAA6C;AAC7C;AAAC;AAAA;AACU;AACC;AACX;AAAA;AAED;AAIR;AAKJ;AAEE;AACA;AACE;AAGE;AAEJ;AAKF;AACE;AACE;AAAC;AAAA;AACyF;AAEvF;AACC;AAAC;AAAA;AACU;AACC;AACC;AAEsB;AAAA;AACnC;AAEF;AAAC;AAAA;AACe;AACA;AACM;AAAA;AACtB;AAAA;AAAA;AACF;AAKJ;AACE;AACE;AAGM;AAEA;AAGA;AACA;AAAC;AAAA;AACU;AACC;AAEuB;AAAA;AACnC;AAEJ;AAIJ;AACA;AACE;AAGM;AAEA;AAIA;AACA;AAAC;AAAA;AACU;AACC;AAEyB;AAAA;AACrC;AAEJ;AAIJ;AAEI;AAAC;AAAA;AACY;AACG;AACA;AACd;AACA;AAAA;AAEJ;AAKJ;AAEE;AAA+B;AACvB;AACI;AACR;AACM;AACM;AACE;AACL;AACL;AACA;AACF;AACU;AACsB;AAClC;AACA;AACM;AACM;AACE;AACL;AACL;AACA;AACF;AACU;AACuB;AACnC;AACA;AACM;AACM;AACE;AACL;AACL;AACA;AACF;AACU;AACZ;AACF;AACqB;AACnB;AACM;AACG;AAEL;AACQ;AACR;AACM;AAEF;AACJ;AACF;AACF;AACF;AAIF;AAEA;AAEI;AAAC;AAAA;AACC;AACA;AAC4C;AAC5C;AAEE;AAAyC;AAE3C;AAAA;AAEJ;AAQJ;AAGM;AAEA;AACkC;AAAA;AAC2B;AAAQ;AAAI;AAEzE;AAEA;AAAC;AAAA;AACU;AACC;AAGY;AAAA;AACxB;AAIR;AAEA;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"904a074beb87c97ea3e4e2ef2bcda89ac0873c53"},r=t[l]||(t[l]={});(!r[e]||r[e].hash!==n)&&(r[e]=o);var i=r[e];return h=function(){return i},i}h();h().s[0]++;const Nu=e=>{if(h().f[0]++,h().s[1]++,typeof e!="string")return h().b[0][0]++,h().s[2]++,e;h().b[0][1]++,h().s[3]++;try{const n=(h().s[4]++,JSON.parse(e));return h().s[5]++,typeof n=="string"?(h().b[1][0]++,h().s[6]++,Nu(n)):(h().b[1][1]++,h().s[7]++,n)}catch(n){return h().s[8]++,console.error("Failed to parse JSON string:",n),h().s[9]++,e}};h().s[10]++;const tC=e=>{if(h().f[1]++,h().s[11]++,h().b[3][0]++,!e||(h().b[3][1]++,typeof e!="object"))return h().b[2][0]++,h().s[12]++,null;h().b[2][1]++,h().s[13]++;try{return h().s[14]++,{title:(h().b[4][0]++,e.title||(h().b[4][1]++,"")),context:(h().b[5][0]++,e.description||(h().b[5][1]++,e.initialPrompt)||(h().b[5][2]++,e.context)||(h().b[5][3]++,"")),roles:Array.isArray(e.characters)?(h().b[6][0]++,e.characters.map(n=>(h().f[2]++,h().s[15]++,{name:(h().b[7][0]++,n.name||(h().b[7][1]++,"")),description:(h().b[8][0]++,n.description||(h().b[8][1]++,"")),icon:(h().b[9][0]++,n.icon||(h().b[9][1]++,""))}))):(h().b[6][1]++,Array.isArray(e.roles)?(h().b[10][0]++,e.roles.map(n=>(h().f[3]++,h().s[16]++,{name:(h().b[11][0]++,n.name||(h().b[11][1]++,"")),description:(h().b[12][0]++,n.description||(h().b[12][1]++,"")),icon:(h().b[13][0]++,n.icon||(h().b[13][1]++,""))}))):(h().b[10][1]++,[]))}}catch(n){return h().s[17]++,console.error("Error mapping scenario:",n),h().s[18]++,null}};h().s[19]++;const lC=e=>{if(h().f[4]++,h().s[20]++,Array.isArray(e)){if(h().b[14][0]++,h().s[21]++,h().b[16][0]++,e.length>0||(h().b[16][1]++,e[0]&&(h().b[16][2]++,e[0].question)&&(h().b[16][3]++,e[0].options)&&(h().b[16][4]++,e[0].correct_option!==void 0)))return h().b[15][0]++,h().s[22]++,e;h().b[15][1]++}else h().b[14][1]++;return h().s[23]++,console.warn("Invalid quiz data format received",e),h().s[24]++,[]};h().s[25]++;const oC=e=>{h().f[5]++,h().s[26]++,console.log("Raw roleplay data:",e),h().s[27]++;try{const n=(h().s[28]++,Nu(e));h().s[29]++,console.log("Parsed roleplay data:",n);let t=(h().s[30]++,[]);h().s[31]++,Array.isArray(n)?(h().b[17][0]++,h().s[32]++,t=n):(h().b[17][1]++,h().s[33]++,h().b[19][0]++,n&&(h().b[19][1]++,typeof n=="object")?(h().b[18][0]++,h().s[34]++,Array.isArray(n.scenarios)?(h().b[20][0]++,h().s[35]++,t=n.scenarios):(h().b[20][1]++,h().s[36]++,h().b[22][0]++,n.title||(h().b[22][1]++,n.context)||(h().b[22][2]++,n.roles)?(h().b[21][0]++,h().s[37]++,t=[n]):h().b[21][1]++)):h().b[18][1]++);const l=(h().s[38]++,t.map(tC).filter(o=>{if(h().f[6]++,h().s[39]++,o)h().b[23][1]++;else return h().b[23][0]++,h().s[40]++,!1;const r=(h().s[41]++,h().b[24][0]++,typeof o.title=="string"&&(h().b[24][1]++,o.title.length>0)&&(h().b[24][2]++,typeof o.context=="string")&&(h().b[24][3]++,o.context.length>0)&&(h().b[24][4]++,Array.isArray(o.roles))&&(h().b[24][5]++,o.roles.length>0)&&(h().b[24][6]++,o.roles.every(i=>(h().f[7]++,h().s[42]++,h().b[25][0]++,i&&(h().b[25][1]++,typeof i.name=="string")&&(h().b[25][2]++,i.name.length>0)&&(h().b[25][3]++,typeof i.description=="string")&&(h().b[25][4]++,i.description.length>0)&&(h().b[25][5]++,typeof i.icon=="string")&&(h().b[25][6]++,i.icon.length>0)))));return h().s[43]++,r?h().b[26][1]++:(h().b[26][0]++,h().s[44]++,console.warn("Invalid scenario structure (might be missing icon):",o)),h().s[45]++,r}));return h().s[46]++,console.log("Validated roleplay scenarios:",l),h().s[47]++,l}catch(n){return h().s[48]++,console.error("Error processing roleplay data:",n),h().s[49]++,[]}};async function Oa(e){h().f[8]++,h().s[50]++;try{if(h().s[51]++,console.log("Using direct public URL for:",e),h().s[52]++,e)h().b[27][1]++;else throw h().b[27][0]++,h().s[53]++,new Error("No video URL provided");return h().s[54]++,e.startsWith("http")?(h().b[28][0]++,h().s[55]++,e):(h().b[28][1]++,h().s[56]++,e)}catch(n){throw h().s[57]++,console.error("Error processing video URL:",n),h().s[58]++,n}}h().s[59]++;const Kn=e=>{h().f[9]++;const n=(h().s[60]++,Math.floor(e/60)),t=(h().s[61]++,Math.floor(e%60));return h().s[62]++,`${n.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`};h().s[63]++;const iC=({videoUrl:e,chapter:n,chaptersMeta:t=(h().b[29][0]++,[]),content:l,currentVideoChapter:o,setCurrentVideoChapter:r})=>{h().f[10]++;const i=(h().s[64]++,O.useRef(null));h().s[65]++,O.useEffect(()=>{h().f[11]++,h().s[66]++,console.log("CombinedVideoAndNotes - chaptersMeta:",t)},[t]);const a=(h().s[67]++,O.useCallback(c=>{h().f[12]++,h().s[68]++,console.log("Video time update:",c);const u=(h().s[69]++,t?.find(A=>{h().f[13]++;const d=(h().s[70]++,h().b[30][0]++,Number(A.timestamp_start)||(h().b[30][1]++,0)),f=(h().s[71]++,h().b[31][0]++,Number(A.timestamp_end)||(h().b[31][1]++,1/0));return h().s[72]++,console.log(`Checking chapter ${A.chaptertitle}:`,{start:d,end:f,currentTime:c}),h().s[73]++,h().b[32][0]++,c>=d&&(h().b[32][1]++,c<f)}));if(h().s[74]++,u)if(h().b[33][0]++,h().s[75]++,console.log("Found matching chapter:",u.chaptertitle),h().s[76]++,h().b[35][0]++,!o||(h().b[35][1]++,u.id!==o.id)){h().b[34][0]++,h().s[77]++,r(u);const A=(h().s[78]++,i.current?.querySelector(`[data-chapter-id="${u.id}"]`));h().s[79]++,A?.scrollIntoView({behavior:"smooth",block:"start"})}else h().b[34][1]++;else h().b[33][1]++,h().s[80]++,console.log("No matching chapter found for time:",c)},[t,o,r])),s=(h().s[81]++,O.useMemo(()=>{if(h().f[14]++,h().s[82]++,t?.length)h().b[36][1]++;else return h().b[36][0]++,h().s[83]++,console.log("No chapters available for video markers"),h().s[84]++,[];const c=(h().s[85]++,t.map(u=>(h().f[15]++,h().s[86]++,{id:u.id.toString(),time:(h().b[37][0]++,Number(u.timestamp_start)||(h().b[37][1]++,0)),title:u.chaptertitle,description:u.subtopic,type:"chapter"})).filter(u=>(h().f[16]++,h().s[87]++,u.time>=0)));return h().s[88]++,console.log("Created video markers:",c),h().s[89]++,c},[t]));if(h().s[90]++,t?.length)h().b[38][1]++;else return h().b[38][0]++,h().s[91]++,m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsxs("div",{className:"text-center text-gray-400",children:[m.jsx("p",{className:"mb-2",children:"No chapters available for this content."}),m.jsx("p",{className:"text-sm",children:"Please make sure chapters are properly configured."})]})});return h().s[92]++,m.jsxs("div",{className:"flex h-full gap-4",children:[m.jsx("div",{className:"h-full w-1/2",children:m.jsx(wl,{src:e,title:n.chaptertitle,chapterId:n.id.toString(),knowledgeId:n.knowledge_id.toString(),className:"h-full w-full",markers:s,onMarkerClick:c=>{h().f[17]++;const u=(h().s[93]++,t.find(A=>(h().f[18]++,h().s[94]++,A.id.toString()===c.id)));h().s[95]++,u?(h().b[39][0]++,h().s[96]++,r(u)):h().b[39][1]++},onTimeUpdate:a,showChapterOverlay:!0,currentChapter:o?(h().b[40][0]++,(()=>{h().f[19]++;const c=(h().s[97]++,{title:o.chaptertitle,startTime:(h().b[41][0]++,Number(o.timestamp_start)||(h().b[41][1]++,0))});return h().s[98]++,o.timestamp_end?(h().b[42][0]++,h().s[99]++,c.endTime=Number(o.timestamp_end)):h().b[42][1]++,h().s[100]++,c})()):(h().b[40][1]++,void 0)})}),m.jsx("div",{className:"h-full w-1/2",children:m.jsx("div",{ref:i,className:"h-full overflow-y-auto rounded-lg bg-gray-900 p-4",children:t.map(c=>{h().f[20]++;const u=(h().s[101]++,o?.id===c.id);let A=(h().s[102]++,null);return h().s[103]++,l.notes?(h().b[43][0]++,h().s[104]++,h().b[45][0]++,typeof l.notes=="object"&&(h().b[45][1]++,!Array.isArray(l.notes))?(h().b[44][0]++,h().s[105]++,A=(h().b[46][0]++,l.notes[c.id]||(h().b[46][1]++,null))):(h().b[44][1]++,h().s[106]++,A=l.notes)):h().b[43][1]++,h().s[107]++,m.jsxs("div",{"data-chapter-id":c.id,className:`mb-8 rounded-lg p-4 transition-colors ${u?(h().b[47][0]++,"border-2 border-blue-500 bg-blue-900/20"):(h().b[47][1]++,"bg-gray-800")}`,children:[m.jsxs("h3",{className:"mb-2 flex items-center justify-between text-lg font-semibold text-white",children:[m.jsx("span",{children:c.chaptertitle}),(h().b[48][0]++,u&&(h().b[48][1]++,m.jsx("span",{className:"rounded-full bg-blue-900/40 px-3 py-1 text-sm text-blue-400",children:"Currently Playing"})))]}),m.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[Kn((h().b[49][0]++,Number(c.timestamp_start)||(h().b[49][1]++,0)))," -"," ",Kn((h().b[50][0]++,Number(c.timestamp_end)||(h().b[50][1]++,0)))]}),A?(h().b[51][0]++,m.jsx("div",{className:`prose prose-invert max-w-none ${u?(h().b[52][0]++,"prose-blue"):(h().b[52][1]++,"")}`,children:m.jsx(jn,{content:Array.isArray(A)?(h().b[53][0]++,A):(h().b[53][1]++,[A]),knowledge_id:n.knowledge_id.toString()})})):(h().b[51][1]++,m.jsx("p",{className:"text-gray-400",children:"No notes available for this chapter."}))]},c.id)})})})]})};h().s[108]++;const ja=({activeTab:e,content:n,chapter:t,chaptersMeta:l=(h().b[54][0]++,[]),isLoading:o,showReport:r,isFullscreenMindmap:i,sidebarOpen:a,language:s,onMindmapBack:c,onToggleMindmapFullscreen:u,onCloseReport:A,onGenerateContentRequest:d})=>{h().f[21]++;const{session:f}=(h().s[109]++,za()),p=(h().s[110]++,typeof f?.metadata?.userId=="string"?(h().b[55][0]++,f.metadata.userId):(h().b[55][1]++,"anonymous"));h().s[111]++,O.useEffect(()=>{h().f[22]++,h().s[112]++,console.log("CourseContentRenderer - Props:",{activeTab:e,chapter:t,chaptersMeta:l,content:n})},[e,t,l,n]);const[C,y]=(h().s[113]++,O.useState(null)),[b,E]=(h().s[114]++,O.useState("combined")),[g,x]=(h().s[115]++,O.useState(null)),[N,B]=(h().s[116]++,O.useState(!1)),[R,v]=(h().s[117]++,O.useState(null)),I=(h().s[118]++,O.useRef(null)),w=(h().s[119]++,O.useCallback(k=>{if(h().f[23]++,h().s[120]++,I.current){h().b[56][0]++;const D=(h().s[121]++,I.current.querySelector(`[data-chapter-id="${k}"]`));h().s[122]++,D?(h().b[57][0]++,h().s[123]++,D.scrollIntoView({behavior:"smooth",block:"start"})):h().b[57][1]++}else h().b[56][1]++},[]));if(h().s[124]++,O.useCallback(k=>{h().f[24]++,h().s[125]++,console.log("Video time update:",k);const D=(h().s[126]++,l.find(z=>{h().f[25]++;const S=(h().s[127]++,h().b[58][0]++,z.timestamp_start||(h().b[58][1]++,0)),T=(h().s[128]++,h().b[59][0]++,z.timestamp_end||(h().b[59][1]++,1/0));return h().s[129]++,console.log(`Checking chapter ${z.chaptertitle}:`,{start:S,end:T,currentTime:k}),h().s[130]++,h().b[60][0]++,k>=S&&(h().b[60][1]++,k<T)}));h().s[131]++,D?(h().b[61][0]++,h().s[132]++,console.log("Found current chapter:",D.chaptertitle),h().s[133]++,h().b[63][0]++,!C||(h().b[63][1]++,D.id!==C.id)?(h().b[62][0]++,h().s[134]++,console.log("Updating current chapter and scrolling"),h().s[135]++,y(D),h().s[136]++,e==="notes"?(h().b[64][0]++,h().s[137]++,w(D.id.toString())):h().b[64][1]++):h().b[62][1]++):(h().b[61][1]++,h().s[138]++,console.log("No matching chapter found for time:",k))},[l,C,e,w]),h().s[139]++,O.useEffect(()=>{if(h().f[26]++,h().s[140]++,h().b[66][0]++,e==="video"&&(h().b[66][1]++,n.video_url)){h().b[65][0]++,h().s[141]++,console.log("Setting up video with URL:",n.video_url);let k=(h().s[142]++,!0);h().s[143]++;const D=async()=>{h().f[27]++,h().s[144]++,B(!0),h().s[145]++,v(null),h().s[146]++,x(null),h().s[147]++;try{const z=(h().s[148]++,await Oa(n.video_url));h().s[149]++,console.log("Ready to use URL:",z),h().s[150]++,k?(h().b[67][0]++,h().s[151]++,x(z)):h().b[67][1]++}catch(z){h().s[152]++,console.error("Error processing video URL:",z),h().s[153]++,k?(h().b[68][0]++,h().s[154]++,v(`Could not load video: ${z instanceof Error?(h().b[69][0]++,z.message):(h().b[69][1]++,"Unknown error")}`)):h().b[68][1]++}finally{h().s[155]++,k?(h().b[70][0]++,h().s[156]++,B(!1)):h().b[70][1]++}};return h().s[157]++,D(),h().s[158]++,()=>{h().f[28]++,h().s[159]++,k=!1}}else return h().b[65][1]++,h().s[160]++,x(null),h().s[161]++,B(!1),h().s[162]++,v(null),h().s[163]++,()=>{h().f[29]++}},[e,n.video_url]),h().s[164]++,o)return h().b[71][0]++,h().s[165]++,m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsx(vl,{size:"large"})});if(h().b[71][1]++,h().s[166]++,r)return h().b[72][0]++,h().s[167]++,m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:m.jsx("div",{className:"max-h-[90vh] w-full max-w-3xl overflow-auto rounded-lg bg-gray-800",children:(h().b[74][0]++,p&&(h().b[74][1]++,t?.knowledge_id)?(h().b[73][0]++,m.jsx($u,{userId:p,knowledgeId:String(t.knowledge_id),onClose:A})):(h().b[73][1]++,m.jsx("div",{className:"p-6 text-center text-red-500",children:"Required information (User or Knowledge ID) is missing to load the report."})))})});if(h().b[72][1]++,h().s[168]++,h().b[76][0]++,e==="video"&&(h().b[76][1]++,n.video_url)){if(h().b[75][0]++,h().s[169]++,N)return h().b[77][0]++,h().s[170]++,m.jsx("div",{className:"flex h-full items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx(vl,{size:"medium"}),m.jsx("p",{className:"mt-4 text-gray-400",children:"Loading video..."})]})});if(h().b[77][1]++,h().s[171]++,R)return h().b[78][0]++,h().s[172]++,m.jsxs("div",{className:"flex h-full flex-col items-center justify-center p-4 text-center",children:[m.jsx("div",{className:"mb-4 text-red-400",children:R}),m.jsx("button",{onClick:()=>{h().f[30]++,h().s[173]++,v(null),h().s[174]++,B(!0),h().s[175]++,Oa((h().b[79][0]++,n.video_url||(h().b[79][1]++,""))).then(k=>(h().f[31]++,h().s[176]++,x(k))).catch(k=>(h().f[32]++,h().s[177]++,v(k.message))).finally(()=>(h().f[33]++,h().s[178]++,B(!1)))},className:"rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700",children:"Retry Loading"})]});if(h().b[78][1]++,h().s[179]++,g)return h().b[80][0]++,h().s[180]++,m.jsxs("div",{className:"flex h-full flex-col",children:[m.jsxs("div",{className:"flex items-center gap-4 border-b border-gray-700 bg-gray-800 p-4",children:[m.jsx("button",{onClick:()=>(h().f[34]++,h().s[181]++,E("video")),className:`rounded px-4 py-2 ${b==="video"?(h().b[81][0]++,"bg-blue-600"):(h().b[81][1]++,"bg-gray-700")}`,children:"Video Only"}),m.jsx("button",{onClick:()=>(h().f[35]++,h().s[182]++,E("notes")),className:`rounded px-4 py-2 ${b==="notes"?(h().b[82][0]++,"bg-blue-600"):(h().b[82][1]++,"bg-gray-700")}`,children:"Notes Only"}),m.jsx("button",{onClick:()=>(h().f[36]++,h().s[183]++,E("combined")),className:`rounded px-4 py-2 ${b==="combined"?(h().b[83][0]++,"bg-blue-600"):(h().b[83][1]++,"bg-gray-700")}`,children:"Side by Side"})]}),m.jsx("div",{className:"flex-1 overflow-hidden",children:b==="combined"?(h().b[84][0]++,m.jsx(iC,{videoUrl:g,chapter:t,chaptersMeta:l,content:n,currentVideoChapter:C,setCurrentVideoChapter:y})):(h().b[84][1]++,b==="video"?(h().b[85][0]++,m.jsx("div",{className:"h-full",children:m.jsx(wl,{src:g,title:t.chaptertitle,chapterId:t.id.toString(),knowledgeId:t.knowledge_id.toString(),className:"h-full w-full",markers:l.map(k=>(h().f[37]++,h().s[184]++,{id:k.id.toString(),time:(h().b[86][0]++,Number(k.timestamp_start)||(h().b[86][1]++,0)),title:k.chaptertitle,description:k.subtopic,type:"chapter"})),showChapterOverlay:!0})})):(h().b[85][1]++,m.jsx("div",{ref:I,className:"h-full overflow-y-auto p-4",children:l.map(k=>{h().f[38]++;const D=(h().s[185]++,C?.id===k.id);let z=(h().s[186]++,null);return h().s[187]++,n.notes?(h().b[87][0]++,h().s[188]++,h().b[89][0]++,typeof n.notes=="object"&&(h().b[89][1]++,!Array.isArray(n.notes))?(h().b[88][0]++,h().s[189]++,z=(h().b[90][0]++,n.notes[k.id]||(h().b[90][1]++,null))):(h().b[88][1]++,h().s[190]++,z=n.notes)):h().b[87][1]++,h().s[191]++,m.jsxs("div",{"data-chapter-id":k.id,className:`mb-8 rounded-lg p-4 transition-colors ${D?(h().b[91][0]++,"border-2 border-blue-500 bg-blue-900/20"):(h().b[91][1]++,"bg-gray-800")}`,children:[m.jsxs("h3",{className:"mb-2 flex items-center justify-between text-lg font-semibold text-white",children:[m.jsx("span",{children:k.chaptertitle}),(h().b[92][0]++,D&&(h().b[92][1]++,m.jsx("span",{className:"rounded-full bg-blue-900/40 px-3 py-1 text-sm text-blue-400",children:"Currently Playing"})))]}),m.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[Kn((h().b[93][0]++,Number(k.timestamp_start)||(h().b[93][1]++,0)))," -"," ",Kn((h().b[94][0]++,Number(k.timestamp_end)||(h().b[94][1]++,0)))]}),z?(h().b[95][0]++,m.jsx("div",{className:`prose prose-invert max-w-none ${D?(h().b[96][0]++,"prose-blue"):(h().b[96][1]++,"")}`,children:m.jsx(jn,{content:Array.isArray(z)?(h().b[97][0]++,z):(h().b[97][1]++,[z]),knowledge_id:t.knowledge_id.toString()})})):(h().b[95][1]++,m.jsx("p",{className:"text-gray-400",children:"No notes available for this chapter."}))]},k.id)})})))})]});h().b[80][1]++}else h().b[75][1]++;if(h().s[192]++,e==="og")return h().b[98][0]++,h().s[193]++,m.jsx("div",{className:"h-full overflow-y-auto bg-gray-900 p-4 text-white md:p-6",children:m.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:t?.chapter?(h().b[99][0]++,m.jsx(jn,{content:[t.chapter],knowledge_id:t.knowledge_id.toString()})):(h().b[99][1]++,m.jsx("div",{className:"text-center text-gray-400",children:m.jsx("p",{children:"No original content available."})}))})});if(h().b[98][1]++,h().s[194]++,e==="notes")return h().b[100][0]++,h().s[195]++,console.log("Rendering notes tab with chapters:",l),h().s[196]++,console.log("Current video chapter:",C),h().s[197]++,m.jsx("div",{ref:I,className:"h-full overflow-y-auto p-4 md:p-6",children:l.map(k=>{h().f[39]++;const D=(h().s[198]++,C?.id===k.id);let z=(h().s[199]++,null);return h().s[200]++,n.notes?(h().b[101][0]++,h().s[201]++,h().b[103][0]++,typeof n.notes=="object"&&(h().b[103][1]++,!Array.isArray(n.notes))?(h().b[102][0]++,h().s[202]++,z=(h().b[104][0]++,n.notes[k.id]||(h().b[104][1]++,null))):(h().b[102][1]++,h().s[203]++,z=n.notes)):h().b[101][1]++,h().s[204]++,console.log(`Chapter ${k.chaptertitle}:`,{isCurrentChapter:D,hasNotes:!!z,notes:z}),h().s[205]++,m.jsxs("div",{"data-chapter-id":k.id,className:`mb-8 rounded-lg p-4 transition-colors ${D?(h().b[105][0]++,"border-2 border-blue-500 bg-blue-900/20"):(h().b[105][1]++,"bg-gray-800")}`,children:[m.jsxs("h3",{className:"mb-2 flex items-center justify-between text-lg font-semibold text-white",children:[m.jsx("span",{children:k.chaptertitle}),(h().b[106][0]++,D&&(h().b[106][1]++,m.jsx("span",{className:"rounded-full bg-blue-900/40 px-3 py-1 text-sm text-blue-400",children:"Currently Playing"})))]}),m.jsxs("div",{className:"mb-4 text-sm text-gray-400",children:[Kn((h().b[107][0]++,Number(k.timestamp_start)||(h().b[107][1]++,0)))," -"," ",Kn((h().b[108][0]++,Number(k.timestamp_end)||(h().b[108][1]++,0)))]}),z?(h().b[109][0]++,m.jsx("div",{className:`prose prose-invert max-w-none ${D?(h().b[110][0]++,"prose-blue"):(h().b[110][1]++,"")}`,children:m.jsx(jn,{content:Array.isArray(z)?(h().b[111][0]++,z):(h().b[111][1]++,[z]),knowledge_id:t.knowledge_id.toString()})})):(h().b[109][1]++,m.jsx("p",{className:"text-gray-400",children:"No notes available for this chapter."}))]},k.id)})});if(h().b[100][1]++,h().s[206]++,e==="summary")return h().b[112][0]++,h().s[207]++,m.jsx("div",{className:"h-full overflow-y-auto bg-gray-900 p-4 text-white md:p-6",children:m.jsx("div",{className:"prose prose-invert prose-lg max-w-none",children:n.summary?(h().b[113][0]++,m.jsx(jn,{content:Array.isArray(n.summary)?(h().b[114][0]++,n.summary):(h().b[114][1]++,[n.summary]),knowledge_id:t.knowledge_id.toString()})):(h().b[113][1]++,m.jsxs("div",{className:"text-center text-gray-400",children:[m.jsx("p",{children:"Summary is not available for this content."}),m.jsx("button",{onClick:d,className:"mt-4 rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700",children:"Generate Summary"})]}))})});if(h().b[112][1]++,h().s[208]++,h().b[116][0]++,e==="quiz"&&(h().b[116][1]++,n.quiz)){h().b[115][0]++;const k=(h().s[209]++,lC(n.quiz));if(h().s[210]++,k.length>0)return h().b[117][0]++,h().s[211]++,m.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6",children:m.jsx(Bi,{questions:k})});h().b[117][1]++}else h().b[115][1]++;if(h().s[212]++,h().b[119][0]++,e==="mindmap"&&(h().b[119][1]++,n.mindmap))return h().b[118][0]++,h().s[213]++,m.jsxs("div",{className:`h-full ${i?(h().b[120][0]++,"fixed inset-0 z-20 bg-gray-900"):(h().b[120][1]++,"relative")}`,children:[(h().b[121][0]++,i&&(h().b[121][1]++,m.jsx("button",{onClick:c,className:"absolute left-4 top-4 z-30 rounded-full bg-gray-800 p-2 text-white shadow-lg hover:bg-gray-700","aria-label":"Exit fullscreen mindmap",children:m.jsx(Bt,{className:"h-5 w-5"})}))),m.jsx(qi,{data:n.mindmap,isFullscreen:i,onToggleFullscreen:u})]});if(h().b[118][1]++,h().s[214]++,e==="roleplay"){if(h().b[122][0]++,h().s[215]++,n.roleplay)h().b[123][1]++;else return h().b[123][0]++,h().s[216]++,m.jsx("div",{className:"flex h-full flex-col items-center justify-center p-8 text-center",children:m.jsxs("div",{className:"max-w-md rounded-lg bg-gray-800 p-6 shadow-lg",children:[m.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-200",children:"No Roleplay Scenarios Available"}),m.jsx("p",{className:"mb-6 text-gray-400",children:"There are no roleplay scenarios available for this chapter yet."}),m.jsx("button",{onClick:d,className:"flex items-center justify-center gap-2 rounded-md bg-indigo-600 px-4 py-2 text-white shadow-md transition-colors hover:bg-indigo-700",children:m.jsx("span",{children:"Generate Roleplay Scenarios"})})]})});const k=(h().s[217]++,oC(n.roleplay));return h().s[218]++,k.length===0?(h().b[124][0]++,h().s[219]++,m.jsx("div",{className:"flex h-full flex-col items-center justify-center p-8 text-center",children:m.jsxs("div",{className:"max-w-md rounded-lg bg-gray-800 p-6 shadow-lg",children:[m.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-200",children:"Invalid Roleplay Data"}),m.jsx("p",{className:"mb-6 text-gray-400",children:"The roleplay scenarios could not be loaded due to invalid data format."}),m.jsx("button",{onClick:d,className:"flex items-center justify-center gap-2 rounded-md bg-indigo-600 px-4 py-2 text-white shadow-md transition-colors hover:bg-indigo-700",children:m.jsx("span",{children:"Regenerate Roleplay Scenarios"})})]})})):(h().b[124][1]++,h().s[220]++,m.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6",children:m.jsx(Ki,{scenarios:k,onRegenerate:d,openaiApiKey:"",userId:p,language:s})}))}else h().b[122][1]++;if(h().s[221]++,e==="interactive"){h().b[125][0]++;const k=(h().s[222]++,{type:"slope-drawer",problems:[{id:"p1",question:"Draw a line with slope 2 and y-intercept 3",difficulty:"easy",hints:["Remember slope is rise over run","Try plotting (0,3) first"],solution:"y = 2x + 3",data:{slope:2,yIntercept:3}},{id:"p2",question:"Draw a line with slope -1 and y-intercept 5",difficulty:"medium",hints:["Negative slope means the line goes down as x increases","Try plotting (0,5) first"],solution:"y = -1x + 5",data:{slope:-1,yIntercept:5}},{id:"p3",question:"Draw a vertical line at x = 4",difficulty:"hard",hints:["Vertical lines have undefined slope","All points on the line have the same x-value"],solution:"Vertical line: x = 4"}],conceptExplanations:[{id:"c1",title:"Understanding Slope",content:"Slope measures the steepness of a line. It is calculated as the ratio of vertical change (rise) to horizontal change (run).",examples:[{id:"e1",description:"A line with slope 2 rises 2 units for every 1 unit it runs horizontally."}]}]}),D=(h().s[223]++,h().b[126][0]++,n?.interactive||(h().b[126][1]++,k));return h().s[224]++,m.jsx("div",{className:"h-full overflow-y-auto p-4 md:p-6",children:m.jsx(bd,{interactiveContent:D,userId:p,knowledgeId:t.knowledge_id?.toString(),language:s,onUpdateProgress:z=>{h().f[40]++,h().s[225]++,console.log("Progress updated:",z)}})})}else h().b[125][1]++;return h().s[226]++,m.jsx("div",{className:"flex h-full flex-col items-center justify-center p-8 text-center",children:m.jsxs("div",{className:"max-w-md rounded-lg bg-gray-800 p-6 shadow-lg",children:[m.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-200",children:"Content Not Available"}),m.jsxs("p",{className:"mb-6 text-gray-400",children:["The ",m.jsx("span",{className:"font-medium text-gray-300",children:e})," ","content for this chapter isn't available right now."]}),m.jsx("button",{onClick:d,className:"flex items-center justify-center gap-2 rounded-md bg-indigo-600 px-4 py-2 text-white shadow-md transition-colors hover:bg-indigo-700",children:m.jsx("span",{children:"Generate Content"})})]})})};h().s[227]++;try{h().s[228]++,ja.displayName="CourseContentRenderer",h().s[229]++,ja.__docgenInfo={description:"",displayName:"CourseContentRenderer",props:{activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"string"}},content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"ChapterContent"}},chapter:{defaultValue:null,description:"",name:"chapter",required:!0,type:{name:"Chapter"}},chaptersMeta:{defaultValue:{value:"[]"},description:"",name:"chaptersMeta",required:!1,type:{name:"Chapter[]"}},isLoading:{defaultValue:null,description:"",name:"isLoading",required:!0,type:{name:"boolean"}},showReport:{defaultValue:null,description:"",name:"showReport",required:!0,type:{name:"boolean"}},isFullscreenMindmap:{defaultValue:null,description:"",name:"isFullscreenMindmap",required:!0,type:{name:"boolean"}},sidebarOpen:{defaultValue:null,description:"",name:"sidebarOpen",required:!0,type:{name:"boolean"}},language:{defaultValue:null,description:"",name:"language",required:!0,type:{name:"string"}},onMindmapBack:{defaultValue:null,description:"",name:"onMindmapBack",required:!0,type:{name:"() => void"}},onToggleMindmapFullscreen:{defaultValue:null,description:"",name:"onToggleMindmapFullscreen",required:!0,type:{name:"() => void"}},onCloseReport:{defaultValue:null,description:"",name:"onCloseReport",required:!0,type:{name:"() => void"}},onGenerateContentRequest:{defaultValue:null,description:"",name:"onGenerateContentRequest",required:!0,type:{name:"() => void"}}}}}catch{}export{ja as C,vl as L};
//# sourceMappingURL=CourseContentRenderer-DFEeEg3u.js.map
