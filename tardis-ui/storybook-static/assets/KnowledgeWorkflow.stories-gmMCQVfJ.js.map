{"version":3,"file":"KnowledgeWorkflow.stories-gmMCQVfJ.js","sources":["../../src/stories/KnowledgeWorkflow.stories.tsx"],"sourcesContent":["/**\n * Knowledge Management Workflow Stories\n * Demonstrates complete knowledge processing pipeline with real API calls\n */\n\nimport type { Meta, StoryObj } from '@storybook/react'\nimport React, { useState, useEffect } from 'react'\nimport { unifiedApiService } from '../services/unified-api-service'\n\ninterface WorkflowStep {\n  id: string\n  title: string\n  description: string\n  status: 'pending' | 'running' | 'completed' | 'error'\n  result?: any\n  error?: string\n  duration?: number\n}\n\nconst KnowledgeWorkflowDemo: React.FC = () => {\n  const [initialized, setInitialized] = useState(false)\n  const [currentStep, setCurrentStep] = useState(0)\n  const [knowledgeId, setKnowledgeId] = useState<number | null>(null)\n  const [isRunning, setIsRunning] = useState(false)\n  const [steps, setSteps] = useState<WorkflowStep[]>([\n    {\n      id: 'upload',\n      title: 'Upload Knowledge File',\n      description: 'Upload educational content files to create a knowledge base',\n      status: 'pending'\n    },\n    {\n      id: 'verify',\n      title: 'Verify Upload',\n      description: 'Confirm files were uploaded and knowledge entry was created',\n      status: 'pending'\n    },\n    {\n      id: 'process',\n      title: 'Start Processing',\n      description: 'Begin AI processing to extract content and generate structure',\n      status: 'pending'\n    },\n    {\n      id: 'monitor',\n      title: 'Monitor Processing',\n      description: 'Track processing status and wait for completion',\n      status: 'pending'\n    },\n    {\n      id: 'generate',\n      title: 'Generate Content',\n      description: 'Create educational materials (notes, summaries, quizzes)',\n      status: 'pending'\n    },\n    {\n      id: 'retrieve',\n      title: 'Retrieve Chapters',\n      description: 'Get processed chapter data and generated content',\n      status: 'pending'\n    },\n    {\n      id: 'analytics',\n      title: 'View Analytics',\n      description: 'Check content generation analytics and metrics',\n      status: 'pending'\n    },\n    {\n      id: 'graph',\n      title: 'Knowledge Graph',\n      description: 'Sync to knowledge graph and view relationships',\n      status: 'pending'\n    }\n  ])\n\n  useEffect(() => {\n    const initializeApi = async () => {\n      try {\n        await unifiedApiService.initialize('http://localhost:8000')\n        setInitialized(true)\n      } catch (error) {\n        console.error('Failed to initialize API service:', error)\n      }\n    }\n    initializeApi()\n  }, [])\n\n  const updateStep = (stepIndex: number, updates: Partial<WorkflowStep>) => {\n    setSteps(prev => prev.map((step, index) => \n      index === stepIndex ? { ...step, ...updates } : step\n    ))\n  }\n\n  const runWorkflowStep = async (stepIndex: number): Promise<any> => {\n    const step = steps[stepIndex]\n    const startTime = Date.now()\n\n    updateStep(stepIndex, { status: 'running' })\n\n    try {\n      let result: any\n\n      switch (step.id) {\n        case 'upload':\n          result = await uploadKnowledgeFile()\n          if (result?.knowledge_id) {\n            setKnowledgeId(result.knowledge_id)\n          }\n          break\n\n        case 'verify':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          result = await unifiedApiService.getKnowledgeFiles(knowledgeId)\n          break\n\n        case 'process':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          result = await unifiedApiService.startProcessing(knowledgeId, {\n            generateContent: true,\n            contentTypes: ['notes', 'summary', 'quiz'],\n            contentLanguage: 'English'\n          })\n          break\n\n        case 'monitor':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          result = await monitorProcessing(knowledgeId)\n          break\n\n        case 'generate':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          result = await unifiedApiService.generateContent(knowledgeId, {\n            types: ['notes', 'summary', 'quiz'],\n            language: 'English'\n          })\n          break\n\n        case 'retrieve':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          result = await unifiedApiService.getChapterData(knowledgeId, {\n            language: 'English'\n          })\n          break\n\n        case 'analytics':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          result = await unifiedApiService.getContentAnalytics(knowledgeId)\n          break\n\n        case 'graph':\n          if (!knowledgeId) throw new Error('No knowledge ID available')\n          await unifiedApiService.syncKnowledgeGraph(knowledgeId)\n          result = await unifiedApiService.getKnowledgeGraph(knowledgeId)\n          break\n\n        default:\n          throw new Error(`Unknown step: ${step.id}`)\n      }\n\n      const duration = Date.now() - startTime\n      updateStep(stepIndex, { \n        status: 'completed', \n        result, \n        duration,\n        error: undefined \n      })\n\n      return result\n\n    } catch (error: any) {\n      const duration = Date.now() - startTime\n      updateStep(stepIndex, { \n        status: 'error', \n        error: error.message, \n        duration \n      })\n      throw error\n    }\n  }\n\n  const uploadKnowledgeFile = async () => {\n    const sampleContent = `\n# Advanced Mathematics Course\n\n## Course Overview\nThis comprehensive course covers advanced mathematical concepts for undergraduate students.\n\n## Chapter 1: Calculus Fundamentals\n\n### 1.1 Limits and Continuity\nUnderstanding the concept of limits is crucial for calculus. A limit describes the behavior of a function as it approaches a particular point.\n\n**Key Concepts:**\n- Definition of a limit\n- One-sided limits\n- Infinite limits\n- Continuity at a point\n\n**Example Problem:**\nFind the limit of f(x) = (xÂ² - 4)/(x - 2) as x approaches 2.\n\n**Solution:**\nUsing algebraic manipulation:\nf(x) = (xÂ² - 4)/(x - 2) = (x + 2)(x - 2)/(x - 2) = x + 2\n\nTherefore, lim(xâ†’2) f(x) = 2 + 2 = 4\n\n### 1.2 Derivatives\nThe derivative represents the rate of change of a function at any given point.\n\n**Applications:**\n- Finding slopes of tangent lines\n- Optimization problems\n- Related rates\n- Motion analysis\n\n## Chapter 2: Integration Techniques\n\n### 2.1 Basic Integration\nIntegration is the reverse process of differentiation.\n\n**Fundamental Rules:**\n- Power rule: âˆ«x^n dx = x^(n+1)/(n+1) + C\n- Sum rule: âˆ«[f(x) + g(x)]dx = âˆ«f(x)dx + âˆ«g(x)dx\n- Constant multiple: âˆ«kÂ·f(x)dx = kÂ·âˆ«f(x)dx\n\n### 2.2 Advanced Techniques\n- Integration by parts\n- Substitution method\n- Partial fractions\n- Trigonometric substitution\n\n## Chapter 3: Differential Equations\n\n### 3.1 First-Order Equations\nSolving equations involving derivatives and their applications.\n\n**Types:**\n- Separable equations\n- Linear equations\n- Exact equations\n- Bernoulli equations\n\n**Real-world Applications:**\n- Population growth models\n- Radioactive decay\n- Newton's cooling law\n- Economic models\n\n## Learning Objectives\n\nBy completing this course, students will:\n1. Master fundamental calculus concepts\n2. Apply integration techniques to solve complex problems\n3. Understand and solve differential equations\n4. Analyze mathematical models of real-world phenomena\n5. Develop problem-solving strategies for advanced mathematics\n\n## Assessment Methods\n- Weekly problem sets (30%)\n- Midterm examination (25%)\n- Final examination (35%)\n- Class participation (10%)\n\n## Prerequisites\n- College Algebra\n- Trigonometry\n- Pre-Calculus\n\nThis course provides the foundation for advanced mathematics and engineering studies.\n    `.trim()\n\n    const testFile = new File([sampleContent], 'advanced-mathematics-course.md', {\n      type: 'text/markdown'\n    })\n\n    return await unifiedApiService.uploadKnowledgeFiles(\n      [testFile],\n      'Storybook Demo - Advanced Mathematics Course'\n    )\n  }\n\n  const monitorProcessing = async (knowledgeId: number) => {\n    // Check status multiple times to show progression\n    const checks = []\n    for (let i = 0; i < 3; i++) {\n      await new Promise(resolve => setTimeout(resolve, 1000))\n      const status = await unifiedApiService.getProcessingStatus(knowledgeId)\n      checks.push(status)\n    }\n    return { checks, final_status: checks[checks.length - 1] }\n  }\n\n  const runCompleteWorkflow = async () => {\n    if (isRunning) return\n\n    setIsRunning(true)\n    setCurrentStep(0)\n\n    // Reset all steps\n    setSteps(prev => prev.map(step => ({ \n      ...step, \n      status: 'pending', \n      result: undefined, \n      error: undefined, \n      duration: undefined \n    })))\n\n    try {\n      for (let i = 0; i < steps.length; i++) {\n        setCurrentStep(i)\n        await runWorkflowStep(i)\n        \n        // Small delay between steps for visual effect\n        if (i < steps.length - 1) {\n          await new Promise(resolve => setTimeout(resolve, 500))\n        }\n      }\n    } catch (error) {\n      console.error('Workflow failed:', error)\n    } finally {\n      setIsRunning(false)\n    }\n  }\n\n  const runSingleStep = async (stepIndex: number) => {\n    if (isRunning) return\n    setIsRunning(true)\n    try {\n      await runWorkflowStep(stepIndex)\n    } finally {\n      setIsRunning(false)\n    }\n  }\n\n  const getStepIcon = (step: WorkflowStep) => {\n    switch (step.status) {\n      case 'running': return 'â³'\n      case 'completed': return 'âœ…'\n      case 'error': return 'âŒ'\n      default: return 'âšª'\n    }\n  }\n\n  const getStepColor = (step: WorkflowStep) => {\n    switch (step.status) {\n      case 'running': return '#fbbf24'\n      case 'completed': return '#10b981'\n      case 'error': return '#ef4444'\n      default: return '#6b7280'\n    }\n  }\n\n  if (!initialized) {\n    return (\n      <div style={{ padding: '20px', textAlign: 'center' }}>\n        <h2>ðŸš€ Initializing Knowledge Management System...</h2>\n        <p>Connecting to backend services...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '900px', margin: '0 auto' }}>\n      <div style={{ marginBottom: '24px' }}>\n        <h1 style={{ color: '#1f2937', marginBottom: '8px' }}>\n          ðŸ“š Knowledge Management Workflow\n        </h1>\n        <p style={{ color: '#6b7280', marginBottom: '16px' }}>\n          Complete end-to-end demonstration of the knowledge processing pipeline\n        </p>\n\n        <div style={{ display: 'flex', gap: '12px', marginBottom: '20px' }}>\n          <button\n            onClick={runCompleteWorkflow}\n            disabled={isRunning}\n            style={{\n              padding: '12px 24px',\n              backgroundColor: isRunning ? '#9ca3af' : '#3b82f6',\n              color: 'white',\n              border: 'none',\n              borderRadius: '6px',\n              cursor: isRunning ? 'not-allowed' : 'pointer',\n              fontWeight: 'bold'\n            }}\n          >\n            {isRunning ? 'ðŸ”„ Running Workflow...' : 'ðŸš€ Run Complete Workflow'}\n          </button>\n\n          {knowledgeId && (\n            <div style={{ \n              padding: '12px 16px', \n              backgroundColor: '#ecfdf5', \n              borderRadius: '6px',\n              border: '1px solid #d1fae5'\n            }}>\n              <strong style={{ color: '#065f46' }}>Knowledge ID:</strong> \n              <span style={{ color: '#047857', fontFamily: 'monospace' }}> {knowledgeId}</span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div style={{ display: 'grid', gap: '16px' }}>\n        {steps.map((step, index) => (\n          <div \n            key={step.id}\n            style={{\n              border: `2px solid ${index === currentStep && isRunning ? '#3b82f6' : '#e5e7eb'}`,\n              borderRadius: '8px',\n              padding: '16px',\n              backgroundColor: index === currentStep && isRunning ? '#eff6ff' : '#ffffff',\n              transition: 'all 0.3s ease'\n            }}\n          >\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '12px' }}>\n              <h3 style={{ margin: 0, color: '#1f2937' }}>\n                {getStepIcon(step)} {step.title}\n              </h3>\n              \n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n                {step.duration && (\n                  <span style={{ fontSize: '12px', color: '#6b7280' }}>\n                    {step.duration}ms\n                  </span>\n                )}\n                <button\n                  onClick={() => runSingleStep(index)}\n                  disabled={isRunning}\n                  style={{\n                    padding: '6px 12px',\n                    fontSize: '12px',\n                    backgroundColor: isRunning ? '#9ca3af' : '#f3f4f6',\n                    color: isRunning ? 'white' : '#374151',\n                    border: '1px solid #d1d5db',\n                    borderRadius: '4px',\n                    cursor: isRunning ? 'not-allowed' : 'pointer'\n                  }}\n                >\n                  Run Step\n                </button>\n              </div>\n            </div>\n\n            <p style={{ color: '#6b7280', margin: '0 0 12px 0', fontSize: '14px' }}>\n              {step.description}\n            </p>\n\n            {step.status !== 'pending' && (\n              <div style={{\n                padding: '12px',\n                backgroundColor: '#f9fafb',\n                border: `1px solid ${getStepColor(step)}`,\n                borderRadius: '4px'\n              }}>\n                <div style={{ \n                  display: 'flex', \n                  justifyContent: 'space-between', \n                  alignItems: 'center',\n                  marginBottom: step.error || step.result ? '8px' : '0'\n                }}>\n                  <span style={{ color: getStepColor(step), fontWeight: 'bold' }}>\n                    {step.status.toUpperCase()}\n                  </span>\n                </div>\n\n                {step.error && (\n                  <div style={{ \n                    color: '#ef4444', \n                    fontSize: '14px', \n                    marginBottom: '8px',\n                    padding: '8px',\n                    backgroundColor: '#fef2f2',\n                    borderRadius: '4px'\n                  }}>\n                    <strong>Error:</strong> {step.error}\n                  </div>\n                )}\n\n                {step.result && (\n                  <details style={{ fontSize: '12px' }}>\n                    <summary style={{ cursor: 'pointer', color: '#6b7280', marginBottom: '8px' }}>\n                      View Step Results\n                    </summary>\n                    <pre style={{\n                      backgroundColor: '#f3f4f6',\n                      padding: '8px',\n                      borderRadius: '4px',\n                      overflow: 'auto',\n                      maxHeight: '150px',\n                      fontSize: '11px'\n                    }}>\n                      {JSON.stringify(step.result, null, 2)}\n                    </pre>\n                  </details>\n                )}\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <div style={{ \n        marginTop: '32px', \n        padding: '16px', \n        backgroundColor: '#f0f9ff', \n        borderRadius: '8px',\n        border: '1px solid #bae6fd'\n      }}>\n        <h3 style={{ margin: '0 0 8px 0', color: '#0c4a6e' }}>ðŸ“‹ Workflow Overview</h3>\n        <div style={{ fontSize: '14px', color: '#0c4a6e' }}>\n          <p><strong>Total Steps:</strong> {steps.length}</p>\n          <p><strong>Completed:</strong> {steps.filter(s => s.status === 'completed').length}</p>\n          <p><strong>Failed:</strong> {steps.filter(s => s.status === 'error').length}</p>\n          <p><strong>Current Step:</strong> {currentStep + 1} - {steps[currentStep]?.title}</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst meta: Meta<typeof KnowledgeWorkflowDemo> = {\n  title: 'API Integration/Knowledge Workflow',\n  component: KnowledgeWorkflowDemo,\n  parameters: {\n    docs: {\n      description: {\n        component: `\n# Knowledge Management Workflow Demo\n\nThis story demonstrates the complete knowledge management pipeline from file upload \nto content generation and analytics. Each step is executed in sequence with real API calls.\n\n## Workflow Steps:\n\n1. **Upload**: Create knowledge entry with educational content\n2. **Verify**: Confirm upload success and file metadata\n3. **Process**: Start AI processing pipeline\n4. **Monitor**: Track processing status over time\n5. **Generate**: Create educational materials (notes, summaries, quizzes)\n6. **Retrieve**: Get processed chapter data\n7. **Analytics**: View content generation metrics\n8. **Graph**: Sync to knowledge graph database\n\n## Features:\n- Step-by-step execution with visual progress\n- Individual step testing capability\n- Real-time status updates and error handling\n- Complete result inspection for each step\n- Knowledge ID tracking across workflow\n\nPerfect for demonstrating the full capabilities of the knowledge management system.\n        `\n      }\n    }\n  }\n}\n\nexport default meta\ntype Story = StoryObj<typeof KnowledgeWorkflowDemo>\n\nexport const CompleteWorkflow: Story = {\n  name: 'ðŸ“š Complete Knowledge Workflow',\n  render: () => <KnowledgeWorkflowDemo />\n}"],"names":["KnowledgeWorkflowDemo","initialized","setInitialized","useState","currentStep","setCurrentStep","knowledgeId","setKnowledgeId","isRunning","setIsRunning","steps","setSteps","id","title","description","status","useEffect","unifiedApiService","initialize","error","console","initializeApi","updateStep","stepIndex","updates","prev","map","step","index","runWorkflowStep","startTime","Date","now","result","uploadKnowledgeFile","knowledge_id","Error","getKnowledgeFiles","startProcessing","generateContent","contentTypes","contentLanguage","monitorProcessing","types","language","getChapterData","getContentAnalytics","syncKnowledgeGraph","getKnowledgeGraph","duration","undefined","message","sampleContent","trim","testFile","File","type","uploadKnowledgeFiles","checks","i","Promise","resolve","setTimeout","getProcessingStatus","push","final_status","length","runCompleteWorkflow","runSingleStep","getStepIcon","getStepColor","jsxs","padding","maxWidth","margin","marginBottom","jsx","color","display","gap","backgroundColor","border","borderRadius","cursor","fontWeight","fontFamily","transition","alignItems","justifyContent","fontSize","toUpperCase","overflow","maxHeight","JSON","stringify","marginTop","filter","s","textAlign","meta","component","parameters","docs","CompleteWorkflow","name","render","source","originalSource"],"mappings":"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"}